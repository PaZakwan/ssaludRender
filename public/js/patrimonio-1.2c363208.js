"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[162],{6404:function(t,a,e){e.d(a,{Z:function(){return c}});var o=function(){var t=this,a=t._self._c;return t.field.array?a("span",[t.field.object?a("span",t._l(t._get(t.props.item,t.field.ruta),(function(e,o){return a("code",{key:`${t.field.text}-${o}`,attrs:{STYLE:"margin:4px"}},[t.field.keyShow?a("span",[t._v(t._s(t.field.date?t.mostrarFecha(e[t.field.keyShow],t.field.time):e[t.field.keyShow]||"0"==e[t.field.keyShow]?e[t.field.keyShow]:"S/D"))]):a("span",t._l(e,(function(i,r,s){return a("span",{key:`${t.field.text}-${o}-${r}`},[t._v(t._s(r)+": "),a("kbd",[t._v(t._s(isNaN(i)&&"Invalid Date"!==t.mostrarFecha(i,t.field.time)?t.mostrarFecha(i,t.field.time)||"S/D":i||"0"==i?i:"S/D"))]),s!=Object.keys(e).length-1?a("span",[t._v(t._s("\n"))]):t._e()])})),0)])})),0):a("span",t._l(t._get(t.props.item,t.field.ruta),(function(e,o){return a("code",{key:`${t.field.text}-${o}`,attrs:{STYLE:"margin:4px"}},[t._v(t._s(t.field.date?t.mostrarFecha(e,t.field.time):e||"0"==e?e:"S/D"))])})),0)]):t.field.object?a("span",[a("code",{attrs:{STYLE:"margin:4px"}},[t.field.keyShow?a("span",[t._v(t._s(t.field.date?t.mostrarFecha(t._get(t.props.item,t.field.ruta)[t.field.keyShow],t.field.time):t._get(t.props.item,t.field.ruta)[t.field.keyShow]||"0"==t._get(t.props.item,t.field.ruta)[t.field.keyShow]?t._get(t.props.item,t.field.ruta)[t.field.keyShow]:"--------"))]):a("span",t._l(t._get(t.props.item,t.field.ruta),(function(e,o,i){return a("span",{key:`${t.field.text}-${o}`},[t._v(t._s(o)+": "),a("kbd",[t._v(t._s(isNaN(e)&&"Invalid Date"!==t.mostrarFecha(e,t.field.time)?`${t.mostrarFecha(e,t.field.time)}`||"S/D":e||"0"==e?`${e}`:"S/D"))]),i!=Object.keys(t._get(t.props.item,t.field.ruta)).length-1?a("span",[t._v(t._s("\n"))]):t._e()])})),0)])]):a("span",{style:""+(t.field.numeric&&t._get(t.props.item,t.field.ruta)<0?"color: red;":"")},[t._v(t._s(t.field.date?t.mostrarFecha(t.props.item[t.field.ruta],t.field.time):t.field.boolean?""+(t._get(t.props.item,t.field.ruta)&&"false"!=t._get(t.props.item,t.field.ruta)&&"0"!=t._get(t.props.item,t.field.ruta)?"Si":"No"):t._get(t.props.item,t.field.ruta)||"0"==t._get(t.props.item,t.field.ruta)?t._get(t.props.item,t.field.ruta).toLocaleString("es-AR"):"--------"))])},i=[],r={name:"body-data-table-dinamic",props:["props","field"]},s=r,n=e(1001),l=(0,n.Z)(s,o,i,!1,null,null,null),c=l.exports},3979:function(t,a,e){e.d(a,{Z:function(){return f}});var o=e(6961),i=e(683),r=e(9456),s=e(5084),n=e(4618),l=function(){var t=this,a=t._self._c;return a(r.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"","px-2":""}},[a(s.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(n.h,t._g({attrs:{clearable:!t.soloLect&&!!t.clear,"background-color":t.soloLect?`${t.color} lighten-2`:`${t.color} lighten-5`,label:t.label,"prepend-icon":t.prepend,readonly:"",color:`${t.color} darken-3`,rules:t.req?t.validate:[]},on:{"click:clear":function(a){return t.$emit("input","")}},model:{value:t.fecha,callback:function(a){t.fecha=a},expression:"fecha"}},e))]}}]),model:{value:t.menufecha1,callback:function(a){t.menufecha1=a},expression:"menufecha1"}},[a(o.Z,{attrs:{readonly:t.soloLect,"allowed-dates":t.allowedDates,min:t.fecMin,max:t.fecMax,color:`${t.color} darken-3`,"header-color":`${t.color} darken-1`,locale:"mx"},on:{input:function(a){t.menufecha1=!1,t.$emit("input",a)}},model:{value:t.fecha,callback:function(a){t.fecha=a},expression:"fecha"}})],1)],1)],1)},c=[],d={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable"],data(){return{menufecha1:!1,validate:[t=>t?""===t.trim()?"Este campo es requerido.":!(t&&t.length<10)||"Ingrese fecha valida (AAAA-MM-DD).":"Este campo es requerido."]}},computed:{fecha:function(){return this.value},soloLect:function(){return this.soloLectura||!1},prepend:function(){return this.icon||"event"},req:function(){return this.requerido||!1},clear:function(){return this.clearable||!1},fecMin:function(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax:function(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction:function(){return this.filtro||[]}},methods:{allowedDates:function(t){return!this.restriction.includes(new Date(t).getUTCDay())}}},u=d,m=e(1001),p=(0,m.Z)(u,l,c,!1,null,null,null),f=p.exports},9028:function(t,a,e){e.r(a),e.d(a,{default:function(){return rt}});var o=e(8469),i=e(7416),r=e(6194),s=e(8956),n=e(2353),l=e(9418),c=e(7441),d=e(6530),u=e(7352),m=e(108),p=e(683),f=e(3667),h=e(9456),g=e(6446),x=e(8143),b=e(4618),v=e(1415),_=function(){var t=this,a=t._self._c;return a(d.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Patrimonio ======")])],1)],1),a(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== ====== Buscar ====== ======")])],1),a(s.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[a(n.ZB,{staticClass:"px-0"},[a(h.Z,{attrs:{row:"",wrap:""},on:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buscar.apply(null,arguments)}}},[a("formFiltro",{attrs:{filtro:t.filtro}})],1)],1),a(h.Z,{attrs:{wrap:""}},["ADMIN_ROLE"===t.persona.role?a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-4",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.recargarDataTable({populate:{area:!0,usuario_eliminacion:!0,usuario_verifico:!0}})}}},[t._v("Cargar Toda la BD")]):t._e(),a(x.Cl),a(x.Cl),a(x.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:t.buscar}},[t._v(" Buscar"),a(f.Z,{attrs:{color:"white",right:""}},[t._v("search")])],1),a(x.Cl)],1)],1)],1),a(p.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[a(l.Z,{staticClass:"title"},[a(p.Z,{attrs:{xs12:"","mx-2":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{clearable:"",color:"black","background-color":"terciary lighten-4",items:t.filtroHeaderOptions,label:"Mostrar Columnas","prepend-icon":"pie_chart","menu-props":{top:!0,auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:t.filtroHeaderSelected,callback:function(a){t.filtroHeaderSelected=a},expression:"filtroHeaderSelected"}})],1),a(x.Cl),a(p.Z,{attrs:{xs12:"",sm6:"","mx-2":""}},[a(b.h,{attrs:{"append-icon":"search",label:"Filtrar","background-color":"terciary lighten-4",color:"black","hide-details":"",clearable:""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1),a(m.Z,{staticClass:"mx-3 terciary darken-2"}),a(l.Z,[a(h.Z,{attrs:{"align-center":"",row:"",wrap:""}},[a(f.Z,{attrs:{medium:"",color:"white",left:""}},[t._v("info")]),a("div",[a(h.Z,{attrs:{row:""}},[a("span",{staticClass:"body-2 white--text"},[t._v("Click en la fila para mas informacion")])]),a(h.Z,{attrs:{row:""}},[a("span",{staticClass:"body-2 white--text"},[t._v("Seleccione los que descargara como excel")])])],1),a(m.Z,{staticClass:"mx-3 terciary darken-2 hidden-xs-only",attrs:{vertical:""}}),a(x.Cl),t.persona.informatica>1?a(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioInsumosIngresos"},color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("receipt")]),t._v("Ingreso de Insumos")],1):t._e(),a(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioCrear"},color:"terciary darken-1",disabled:!(t.persona.patrimonio>=2||t.persona.patrimonioArea>=2||t.persona.informatica>=2)||t.loading.estado,loading:t.loading.estado}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("add_circle_outline")]),t._v("Cargar Objeto Nuevo")],1)],1)],1),a(u.Z,{key:`tablita_${t.reRenderizarTable}`,staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.dataTable,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search,"select-all":""},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",{class:t.backgroundClass(e.item),style:"Insumos"===e.item.categoria||e.item.verificado?"":"text-decoration: underline;"},[a("td",[a(v.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[e.item.estado?a(c.Z,t._g({attrs:{color:"terciary darken-2","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}},o)):t._e()]}}],null,!0)},[a("span",[t._v("Seleccionar")])])],1),a("td",{staticClass:"text-sm-left"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"132px"}},[a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:!(t.persona.patrimonio>=2||t.persona.patrimonioArea>=2||t.persona.informatica>=2)||"Insumos"===e.item.categoria&&t.persona.informatica<2||t.loading.estado||"Insumos"!==e.item.categoria&&!!e.item.verificado,small:"",color:"gray"},on:{click:function(a){return t.validarObjeto(e.item)}}},o),[a(f.Z,{attrs:{color:"green"}},[t._v(" check_circle ")])],1)]}}],null,!0)},[a("span",[t._v("Verificar")])]),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:!(t.persona.patrimonio>=3||t.persona.patrimonioArea>=3||t.persona.informatica>=2)||"Insumos"===e.item.categoria&&t.persona.informatica<2||t.loading.estado,to:{name:"PatrimonioEditar",params:{id:e.item._id}},small:"",color:"gray"}},o),[a(f.Z,{attrs:{color:"primary"}},[t._v(" edit ")])],1)]}}],null,!0)},[a("span",[t._v("Editar/Baja")])]),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:!(t.persona.patrimonio>=3||t.persona.informatica>=3)||"Insumos"===e.item.categoria&&t.persona.informatica<3||t.loading.estado||!e.item.estado,small:"",color:"gray"},on:{click:function(a){return t.deleteObjeto(e.item)}}},o),[a(f.Z,{attrs:{color:"error"}},[t._v(" delete ")])],1)]}}],null,!0)},[a("span",[t._v("Borrar")])])],1),a("div",{staticClass:"text-xs-center",staticStyle:{width:"132px"}},[a(v.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:!(t.persona.patrimonio>=2||t.persona.patrimonioArea>=2||t.persona.informatica>=2)||"Insumos"===e.item.categoria&&t.persona.informatica<2||t.loading.estado,to:{name:"PatrimonioMover",params:{id:e.item._id}},small:"",color:"gray"}},o),[a(f.Z,{attrs:{color:"secondary"}},[t._v(" fas fa-people-carry ")])],1)]}}],null,!0)},[a("span",[t._v("Movimiento")])]),a(v.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return["Insumos"===e.item.categoria&&e.item.cantidad>=0?a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:t.persona.informatica<2||t.loading.estado,to:{name:"PatrimonioInsumos",params:{id:e.item._id}},small:"",color:"gray"}},o),[a(f.Z,{attrs:{color:"terciary"}},[t._v(" far fa-list-alt ")])],1):t._e()]}}],null,!0)},[a("span",[t._v("Entregas")])]),a(v.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return["Insumos"===e.item.categoria&&e.item.cantidad>=0?a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:t.persona.informatica<2||t.loading.estado,small:"",color:"gray"},on:{click:function(a){return t.actualizarDialogStockDeposito({state:!0,id:e.item._id})}}},o),[a(f.Z,{attrs:{color:"terciary"}},[t._v(" warehouse ")])],1):t._e()]}}],null,!0)},[a("span",[t._v("Deposito Stock")])])],1)]),a(v.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return t._l(t.headersDinamics,(function(i){return a("td",t._g({key:i.text,class:i.class,on:{click:function(a){return t.datosInfoOn(e.item)}}},o),[a("bodyDataTableDinamic",{attrs:{props:e,field:i}})],1)}))}}],null,!0)},[a("span",[t._v("Click para mas informacion "+t._s(e.item.inventario?` - ${e.item.inventario}`:e.item.modelo?` - ${e.item.modelo}`:"")+" ")])])],1)]}}]),model:{value:t.seleccionados,callback:function(a){t.seleccionados=a},expression:"seleccionados"}},[a(g.Z,{attrs:{color:"blue",indeterminate:""}})],1),a(l.Z,{attrs:{flat:"",color:"terciary lighten-2"}},[a("download-excel",{attrs:{data:t.selecteccionFiltroExcel(t.dataTable),fields:t.columnasExcel,name:t.nombreExcel,type:"xls","before-finish":t.ocultarLoading}},[a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.descargarExcel(t.dataTable)}}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("far fa-file-excel")]),t._v("Exportar a Excel")],1)],1),a(x.Cl),a(m.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("download-excel",{attrs:{data:t.selecteccionFiltroExcel(t.seleccionados),fields:t.columnasExcel,name:t.nombreExcel,type:"xls","before-finish":t.ocultarLoading}},[a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.descargarExcel(t.seleccionados)}}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("far fa-file-excel")]),t._v("Descargar Excel de Seleccionados")],1)],1)],1),a("patrimonioInfo",{attrs:{persona:t.persona,loading:t.loading,datosInfo:t.datosInfo,datosInfoOff:t.datosInfoOff}})],1)],1),a("dialogStockDeposito",{attrs:{closeFinish:t.recargarDataTable}})],1)},y=[],k=e(629),Z=e(6404),C=e(4036),w=function(){var t=this,a=t._self._c;return a("div",[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{attrs:{items:t.categorias,label:"Categoria / Cuenta Patrimonial","prepend-icon":"assignment",color:"cuarto","background-color":"cuarto lighten-4",clearable:""},on:{change:function(a){t.filtro.categoria=`${null==t.filtro.categoria?"":t.filtro.categoria}`},"click:clear":function(a){t.$nextTick((()=>t.filtro.categoria=""))}},model:{value:t.filtro.categoria,callback:function(a){t.$set(t.filtro,"categoria",a)},expression:"filtro.categoria"}})],1),"Varios"===t.filtro.categoria?a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"assignment",label:"Categoria / Cuenta Patrimonial",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5",hint:"BUSCAR Categoria/Cuenta Patrimonial Que NO esta en la Lista","persistent-hint":""},model:{value:t.filtro.categoriaVarios,callback:function(a){t.$set(t.filtro,"categoriaVarios",a)},expression:"filtro.categoriaVarios"}})],1):a(p.Z,{attrs:{xs0:"",sm6:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"local_offer",type:"text",color:"cuarto",label:""+("Insumos"!==t.filtro.categoria?"Nº Inventario":"Nº Inventario (NO UTILIZADO)"),readonly:"Insumos"===t.filtro.categoria,clearable:"Insumos"!==t.filtro.categoria,"background-color":""+("Insumos"!==t.filtro.categoria?"cuarto lighten-5":"cuarto darken-5")},model:{value:t.filtro.inventario,callback:function(a){t.$set(t.filtro,"inventario",a)},expression:"filtro.inventario"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"local_offer",type:"text",color:"cuarto",label:""+("Insumos"!==t.filtro.categoria&&"Muebles"!==t.filtro.categoria?"Nº Serie":"Nº Serie (NO UTILIZADO)"),readonly:"Insumos"===t.filtro.categoria||"Muebles"===t.filtro.categoria,clearable:"Insumos"!==t.filtro.categoria&&"Muebles"!==t.filtro.categoria,"background-color":""+("Insumos"!==t.filtro.categoria&&"Muebles"!==t.filtro.categoria?"cuarto lighten-5":"cuarto darken-5")},model:{value:t.filtro.serie,callback:function(a){t.$set(t.filtro,"serie",a)},expression:"filtro.serie"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"copyright",label:"Marca",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.marca,callback:function(a){t.$set(t.filtro,"marca",a)},expression:"filtro.marca"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"more",label:"Modelo",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.modelo,callback:function(a){t.$set(t.filtro,"modelo",a)},expression:"filtro.modelo"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{readonly:!t.permisoOtrasAreas(),clearable:t.permisoOtrasAreas(),"background-color":t.permisoOtrasAreas()?"cuarto lighten-5":"cuarto","item-value":"id","item-text":"area",items:t.areas,label:"Area","prepend-icon":"location_city",color:"cuarto"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.area=""))}},model:{value:t.filtro.area,callback:function(a){t.$set(t.filtro,"area",a)},expression:"filtro.area"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Ubicacion en el Area(Recepcion, consultorio n..)",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.ubicacion,callback:function(a){t.$set(t.filtro,"ubicacion",a)},expression:"filtro.ubicacion"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{attrs:{items:t.funcionaList,label:"Estado","prepend-icon":"check_circle",color:"cuarto","background-color":"cuarto lighten-5",clearable:""},on:{change:function(a){t.filtro.funciona=`${null==t.filtro.funciona?"":t.filtro.funciona}`},"click:clear":function(a){t.$nextTick((()=>t.filtro.funciona=""))}},model:{value:t.filtro.funciona,callback:function(a){t.$set(t.filtro,"funciona",a)},expression:"filtro.funciona"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{clearable:"",items:t.booleanOpc,label:"Verificado","prepend-icon":"check_circle",color:"cuarto","background-color":"cuarto lighten-5"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.verificado=""))}},model:{value:t.filtro.verificado,callback:function(a){t.$set(t.filtro,"verificado",a)},expression:"filtro.verificado"}})],1),this.persona.informatica&&0!==this.persona.informatica?a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"compare_arrows",label:"Insumo - Compatibilidad",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.compatibilidad,callback:function(a){t.$set(t.filtro,"compatibilidad",a)},expression:"filtro.compatibilidad"}})],1):t._e(),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"description",label:"Descripcion",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.detalle,callback:function(a){t.$set(t.filtro,"detalle",a)},expression:"filtro.detalle"}})],1)],1),t.filtro.categoria.includes("PCs")?a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"","ma-2":""}},[a(s.Z,{attrs:{dark:"",color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0"},[t._v(" === "+t._s(t.filtro.categoria)+" === ")])],1)],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-microchip",label:"Microprocesador",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.micro,callback:function(a){t.$set(t.filtro,"micro",a)},expression:"filtro.micro"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"developer_board",label:"Mother",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.mother,callback:function(a){t.$set(t.filtro,"mother",a)},expression:"filtro.mother"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-memory",label:"Arquitectura de Memoria RAM",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.memoria_tipo,callback:function(a){t.$set(t.filtro,"memoria_tipo",a)},expression:"filtro.memoria_tipo"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-memory",label:"Memoria/s RAM Instalada/s",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.memoria,callback:function(a){t.$set(t.filtro,"memoria",a)},expression:"filtro.memoria"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-hdd",label:"Tipo de Almacenamiento",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.disco_tipo,callback:function(a){t.$set(t.filtro,"disco_tipo",a)},expression:"filtro.disco_tipo"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-hdd",label:"Capacidad de Almacenamiento",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.disco,callback:function(a){t.$set(t.filtro,"disco",a)},expression:"filtro.disco"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-car-battery",label:"Fuente",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.fuente,callback:function(a){t.$set(t.filtro,"fuente",a)},expression:"filtro.fuente"}})],1)],1):t._e(),"Insumos"===t.filtro.categoria?a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"","ma-2":""}},[a(s.Z,{attrs:{dark:"",color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v(" === Insumos === ")])],1)],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"compare_arrows",label:"Compatibilidad",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.compatibilidad,callback:function(a){t.$set(t.filtro,"compatibilidad",a)},expression:"filtro.compatibilidad"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(C.r,{attrs:{"prepend-icon":"assignment",label:"SubCategoria",clearable:"",color:"cuarto","background-color":"cuarto lighten-5",items:t.subcategorias},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.subcategoria=""))}},model:{value:t.filtro.subcategoria,callback:function(a){t.$set(t.filtro,"subcategoria",a)},expression:"filtro.subcategoria"}})],1),a(x.Cl)],1):t._e(),"Monitor"===t.filtro.categoria?a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"","ma-2":""}},[a(s.Z,{attrs:{dark:"",color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v(" === Monitor === ")])],1)],1),a(p.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"desktop_windows",label:"PC asosiada (Nº Inventario)",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.PC,callback:function(a){t.$set(t.filtro,"PC",a)},expression:"filtro.PC"}})],1),a(p.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"settings_overscan",label:"Pulgadas",type:"number",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.pulgadas,callback:function(a){t.$set(t.filtro,"pulgadas",a)},expression:"filtro.pulgadas"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"remove_from_queue",label:"Tipo de Pantalla",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.tipoPantalla,callback:function(a){t.$set(t.filtro,"tipoPantalla",a)},expression:"filtro.tipoPantalla"}})],1)],1):t._e(),"Impresora"===t.filtro.categoria?a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"","ma-2":""}},[a(s.Z,{attrs:{dark:"",color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v(" === Impresora === ")])],1)],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{clearable:"",items:t.impresoras,label:"Sistema de Impresion","prepend-icon":"print",color:"cuarto","background-color":"cuarto lighten-5"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.impresora_tipo=""))}},model:{value:t.filtro.impresora_tipo,callback:function(a){t.$set(t.filtro,"impresora_tipo",a)},expression:"filtro.impresora_tipo"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{clearable:"",items:t.booleanOpc,label:"Multifuncion","prepend-icon":"print",color:"cuarto","background-color":"cuarto lighten-5"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.impresora_multifuncion=""))}},model:{value:t.filtro.impresora_multifuncion,callback:function(a){t.$set(t.filtro,"impresora_multifuncion",a)},expression:"filtro.impresora_multifuncion"}})],1)],1):t._e(),"Telefono"===t.filtro.categoria?a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"","ma-2":""}},[a(s.Z,{attrs:{dark:"",color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v(" === Telefono === ")])],1)],1),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{"prepend-icon":"phone",label:"Numero de Interno",type:"text",clearable:"",color:"cuarto","background-color":"cuarto lighten-5"},model:{value:t.filtro.telefono_interno,callback:function(a){t.$set(t.filtro,"telefono_interno",a)},expression:"filtro.telefono_interno"}})],1)],1):t._e()],1)},I=[],$={name:"formFiltro",props:["filtro"],data(){return{categorias:[],subcategorias:[],funcionaList:[],impresoras:[],areas:[],booleanOpc:[{text:"No buscar por este Campo",value:""},{text:"Si",value:!0},{text:"No",value:!1}]}},computed:{...(0,k.rn)(["persona"]),...(0,k.rn)("patrimonio",["objetoCategorias","objetoSubcategorias","objetoFuncionaList","objetoImpresoraTipos"])},async created(){if(this.categorias=[{text:"No buscar por Categoria",value:""},...this.objetoCategorias,"Varios"],this.subcategorias=[{text:"No buscar por subCategoria",value:""},...this.objetoSubcategorias],this.funcionaList=[{text:"No buscar por Estado",value:""},...this.objetoFuncionaList],this.impresoras=[{text:"No buscar por Sistema",value:""},...this.objetoImpresoraTipos],this.persona.informatica&&0!==this.persona.informatica);else if(this.persona.patrimonio&&0!==this.persona.patrimonio){let t=this.categorias.indexOf("Insumos");t>-1&&this.categorias.splice(t,1)}else if(this.persona.patrimonioArea&&0!==this.persona.patrimonioArea){let t=this.categorias.indexOf("Insumos");t>-1&&this.categorias.splice(t,1)}this.areas=await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})},methods:{...(0,k.nv)("main_areas",["buscarAreaFiltros"]),permisoOtrasAreas(){return!(!this.persona.informatica||0===this.persona.informatica)||(!(!this.persona.patrimonio||0===this.persona.patrimonio)||(!this.persona.patrimonioArea||0===this.persona.patrimonioArea)&&void 0)}}},S=$,D=e(1001),j=(0,D.Z)(S,w,I,!1,null,null,null),E=j.exports,F=e(5049),M=e(5730),B=function(){var t=this,a=t._self._c;return a(F.Z,{attrs:{persistent:"","max-width":"80%",scrollable:""},model:{value:t.datosInfo.estado,callback:function(a){t.$set(t.datosInfo,"estado",a)},expression:"datosInfo.estado"}},[a(s.Z,{attrs:{tile:"",color:"terciary lighten-5"}},[a(l.Z,[a(h.Z,{attrs:{row:"",wrap:""}},[a("span",{staticClass:"display-1"},[t._v(" PATRIMONIO ")]),a(m.Z,{staticClass:"mx-2",attrs:{light:"",vertical:""}}),a("span",{staticClass:"display-1 mx-2 text-uppercase"},[t._v(" "+t._s(t.datosInfo.datos.categoria)+" "+t._s(t.datosInfo.datos.inventario?` - ${t.datosInfo.datos.inventario}`:t.datosInfo.datos.modelo?` - ${t.datosInfo.datos.modelo}`:"")+" ")]),a(x.Cl),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(f.Z,t._g({attrs:{color:"error darken-1","x-large":""},on:{click:t.datosInfoOff}},e),[t._v(" cancel ")])]}}])},[a("span",[t._v("Cerrar")])])],1)],1),a(m.Z),a(n.ZB,[a(d.Z,{attrs:{terciary:"","lighten-1":"","grid-list-sm":""}},[a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Nº Inventario : "+t._s(t.datosInfo.datos.inventario)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Nº Serie : "+t._s(t.datosInfo.datos.serie)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Marca : "+t._s(t.datosInfo.datos.marca)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Modelo : "+t._s(t.datosInfo.datos.modelo)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Dependencia : "+t._s(t.datosInfo.datos.dependencia)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fecha de Alta : "+t._s(t.mostrarFecha(t.datosInfo.datos.fec_alta))+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title text-capitalize"},[t._v(" Area : "+t._s(t.datosInfo.datos.area?t.datosInfo.datos.area.area:"Sin Dato")+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Ubicacion : "+t._s(t.datosInfo.datos.ubicacion)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Estado : "+t._s(t.datosInfo.datos.funciona)+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(M.Z,{staticClass:"text-sm-left title",attrs:{readonly:"",label:"DESCRIPCION",type:"text",color:"black","background-color":"terciary lighten-4","auto-grow":"",rows:"2"},model:{value:t.datosInfo.datos.detalle,callback:function(a){t.$set(t.datosInfo.datos,"detalle",a)},expression:"datosInfo.datos.detalle"}})],1)],1)],1),"PCs-Desktop"==t.datosInfo.datos.categoria||"PCs-Notebook"==t.datosInfo.datos.categoria||"PCs-AllInOne"==t.datosInfo.datos.categoria?a(d.Z,{attrs:{terciary:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v(t._s(t.datosInfo.datos.categoria))]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Microprocesador : "+t._s(t.datosInfo.datos.micro)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Motherboard : "+t._s(t.datosInfo.datos.mother)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Tipo de Memoria : "+t._s(t.datosInfo.datos.memoria_tipo)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Memoria : "+t._s(t.datosInfo.datos.memoria)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Tipo de Disco : "+t._s(t.datosInfo.datos.disco_tipo)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Disco : "+t._s(t.datosInfo.datos.disco)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fuente : "+t._s(t.datosInfo.datos.fuente)+" ")])],1)],1)],1)],1):t._e(),"Insumos"==t.datosInfo.datos.categoria?a(d.Z,{attrs:{terciary:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Insumos - "+t._s(t.datosInfo.datos.subcategoria))]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Cantidad : "+t._s(t.datosInfo.datos.cantidad)+" ")])],1)],1),a(p.Z,{attrs:{xs0:"",md6:""}}),"Toner"==t.datosInfo.datos.subcategoria?a(p.Z,{attrs:{xs12:""}},[a(M.Z,{staticClass:"text-sm-left title",attrs:{readonly:"",label:"COMPATIBILIDAD",type:"text",color:"black","background-color":"terciary lighten-4","auto-grow":"",rows:"2"},model:{value:t.datosInfo.datos.compatibilidad,callback:function(a){t.$set(t.datosInfo.datos,"compatibilidad",a)},expression:"datosInfo.datos.compatibilidad"}})],1):t._e()],1)],1):t._e(),"Monitor"==t.datosInfo.datos.categoria?a(d.Z,{attrs:{terciary:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Monitor")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" PC Asociada : "+t._s(t.datosInfo.datos.PC)+" ")])],1)],1),a(p.Z,{attrs:{xs0:"",md6:""}}),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Pulgadas : "+t._s(t.datosInfo.datos.pulgadas)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Tipo de Pantalla : "+t._s(t.datosInfo.datos.tipoPantalla)+" ")])],1)],1)],1)],1):t._e(),"Impresora"==t.datosInfo.datos.categoria?a(d.Z,{attrs:{terciary:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Impresora")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Sistema de Impresion : "+t._s(t.datosInfo.datos.impresora_tipo)+" ")])],1)],1),a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Multifuncion : "+t._s(!0===t.datosInfo.datos.impresora_multifuncion?"Si":!1===t.datosInfo.datos.impresora_multifuncion?"No":"Sin Dato")+" ")])],1)],1)],1)],1):t._e(),"Telefono"==t.datosInfo.datos.categoria?a(d.Z,{attrs:{terciary:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Telefono")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Numero de Interno : "+t._s(t.datosInfo.datos.telefono_interno)+" ")])],1)],1),a(p.Z,{attrs:{xs0:"",md6:""}})],1)],1):t._e(),"Robo/Hurto"==t.datosInfo.datos.funciona||"Extravio"==t.datosInfo.datos.funciona?a(d.Z,{attrs:{orange:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v(t._s(t.datosInfo.datos.funciona))]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fecha Percance : "+t._s(t.datosInfo.datos.fec_percance?t.mostrarFecha(t.datosInfo.datos.fec_percance):"Sin Dato.")+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(M.Z,{staticClass:"text-sm-left title",attrs:{readonly:"",label:"RESUMEN DEL PERCANCE",type:"text",color:"black","background-color":"terciary lighten-4","auto-grow":"",rows:"2"},model:{value:t.datosInfo.datos.resumen_percance,callback:function(a){t.$set(t.datosInfo.datos,"resumen_percance",a)},expression:"datosInfo.datos.resumen_percance"}})],1),a(p.Z,{attrs:{xs0:"",md6:""}})],1)],1):t._e(),"Baja"==t.datosInfo.datos.funciona||"Baja Oficial"==t.datosInfo.datos.funciona?a(d.Z,{attrs:{orange:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v(t._s(t.datosInfo.datos.funciona))]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fecha : "+t._s(t.datosInfo.datos.fec_baja?t.mostrarFecha(t.datosInfo.datos.fec_baja):"Sin Dato.")+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(M.Z,{staticClass:"text-sm-left title",attrs:{readonly:"",label:"MOTIVO",type:"text",color:"black","background-color":"terciary lighten-4","auto-grow":"",rows:"2"},model:{value:t.datosInfo.datos.motivo_baja,callback:function(a){t.$set(t.datosInfo.datos,"motivo_baja",a)},expression:"datosInfo.datos.motivo_baja"}})],1),a(p.Z,{attrs:{xs0:"",md6:""}})],1)],1):t._e(),0==t.datosInfo.datos.estado?a(d.Z,{attrs:{orange:"","lighten-2":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Eliminado")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fecha : "+t._s(t.mostrarFecha(t.datosInfo.datos.fec_eliminacion))+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title text-capitalize"},[t._v(" "+t._s(t.datosInfo.datos.usuario_eliminacion?`Eliminado por: ${t.datosInfo.datos.usuario_eliminacion.nombreC}.`:"Se elimino desde edicion o No se actualizo la pagina.")+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(M.Z,{staticClass:"text-sm-left title",attrs:{readonly:"",label:"MOTIVO",type:"text",color:"black","background-color":"terciary lighten-4","auto-grow":"",rows:"2"},model:{value:t.datosInfo.datos.motivo_eliminacion,callback:function(a){t.$set(t.datosInfo.datos,"motivo_eliminacion",a)},expression:"datosInfo.datos.motivo_eliminacion"}})],1),a(p.Z,{attrs:{xs0:"",md6:""}})],1)],1):t._e(),t.datosInfo.datos.verificado?a(d.Z,{attrs:{primary:"","lighten-1":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Verificado")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" Fecha : "+t._s(t.mostrarFecha(t.datosInfo.datos.fec_verifico))+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title text-capitalize"},[t._v(" "+t._s(t.datosInfo.datos.usuario_verifico?`Verificado por: ${t.datosInfo.datos.usuario_verifico.nombreC}.`:"Falta verificar")+" ")])],1)],1)],1)],1):a(d.Z,{attrs:{info:"","lighten-1":"","grid-list-xs":""}},[a(n.ZB,{staticClass:"px-2 headline"},[t._v("Ultima vez Verificado")]),a(h.Z,{attrs:{row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",md6:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title"},[t._v(" "+t._s(t.datosInfo.datos.fec_verifico?"Fecha : "+t.mostrarFecha(t.datosInfo.datos.fec_verifico):"Fecha : Nunca se Verifico")+" ")])],1)],1),a(p.Z,{attrs:{xs12:""}},[a(s.Z,{attrs:{color:"terciary lighten-4"}},[a(n.ZB,{staticClass:"px-2 title text-capitalize"},[t._v(" "+t._s(t.datosInfo.datos.usuario_verifico?`Verificado por: ${t.datosInfo.datos.usuario_verifico.nombreC}.`:"Nunca se Verifico")+" ")])],1)],1)],1)],1)],1)],1)],1)},P=[],T={name:"patrimonioInfo",props:["persona","loading","datosInfo","datosInfoOff"],data:()=>({computed:{},methods:{}})},O=T,A=(0,D.Z)(O,B,P,!1,null,null,null),N=A.exports,L=e(445),V=e(2482),z=e(9204),q=e(6416),H=e(8131),R=e(8219),U=e(3776),Y=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},K=z.Z.extend({name:"v-slider",directives:{ClickOutside:q.Z},mixins:[U.Z],props:{alwaysDirty:Boolean,inverseLabel:Boolean,label:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},ticks:{type:[Boolean,String],default:!1,validator:function(t){return"boolean"===typeof t||"always"===t}},tickLabels:{type:Array,default:function(){return[]}},tickSize:{type:[Number,String],default:1},thumbColor:{type:String,default:null},thumbLabel:{type:[Boolean,String],default:null,validator:function(t){return"boolean"===typeof t||"always"===t}},thumbSize:{type:[Number,String],default:32},trackColor:{type:String,default:null},value:[Number,String]},data:function(t){return{app:{},isActive:!1,keyPressed:0,lazyValue:"undefined"!==typeof t.value?t.value:Number(t.min),oldValue:null}},computed:{classes:function(){return{"v-input--slider":!0,"v-input--slider--ticks":this.showTicks,"v-input--slider--inverse-label":this.inverseLabel,"v-input--slider--ticks-labels":this.tickLabels.length>0,"v-input--slider--thumb-label":this.thumbLabel||this.$scopedSlots.thumbLabel}},showTicks:function(){return this.tickLabels.length>0||!this.disabled&&this.stepNumeric&&!!this.ticks},showThumbLabel:function(){return!this.disabled&&(!!this.thumbLabel||""===this.thumbLabel||this.$scopedSlots["thumb-label"])},computedColor:function(){return this.disabled?null:this.validationState||this.color||"primary"},computedTrackColor:function(){return this.disabled?null:this.trackColor||null},computedThumbColor:function(){return this.disabled||!this.isDirty?null:this.validationState||this.thumbColor||this.color||"primary"},internalValue:{get:function(){return this.lazyValue},set:function(t){var a=this.min,e=this.max,o=this.roundValue(Math.min(Math.max(t,a),e));o!==this.lazyValue&&(this.lazyValue=o,this.$emit("input",o),this.validate())}},stepNumeric:function(){return this.step>0?parseFloat(this.step):0},trackFillStyles:function(){var t=this.$vuetify.rtl?"auto":0,a=this.$vuetify.rtl?0:"auto",e=this.inputWidth+"%";return this.disabled&&(e="calc("+this.inputWidth+"% - 8px)"),{transition:this.trackTransition,left:t,right:a,width:e}},trackPadding:function(){return this.isActive||this.inputWidth>0||this.disabled?0:7},trackStyles:function(){var t=this.disabled?"calc("+this.inputWidth+"% + 8px)":this.trackPadding+"px",a=this.$vuetify.rtl?"auto":t,e=this.$vuetify.rtl?t:"auto",o=this.disabled?"calc("+(100-this.inputWidth)+"% - 8px)":"100%";return{transition:this.trackTransition,left:a,right:e,width:o}},tickStyles:function(){var t=Number(this.tickSize);return{"border-width":t+"px","border-radius":t>1?"50%":null,transform:t>1?"translateX(-"+t+"px) translateY(-"+(t-1)+"px)":null}},trackTransition:function(){return this.keyPressed>=2?"none":""},numTicks:function(){return Math.ceil((this.max-this.min)/this.stepNumeric)},inputWidth:function(){return(this.roundValue(this.internalValue)-this.min)/(this.max-this.min)*100},isDirty:function(){return this.internalValue>this.min||this.alwaysDirty}},watch:{min:function(t){t>this.internalValue&&this.$emit("input",parseFloat(t))},max:function(t){t<this.internalValue&&this.$emit("input",parseFloat(t))},value:function(t){this.internalValue=t}},mounted:function(){this.app=document.querySelector("[data-app]")||(0,R.Kd)("Missing v-app or a non-body wrapping element with the [data-app] attribute",this)},methods:{genDefaultSlot:function(){var t=[this.genLabel()],a=this.genSlider();return this.inverseLabel?t.unshift(a):t.push(a),t.push(this.genProgress()),t},genListeners:function(){return{blur:this.onBlur,click:this.onSliderClick,focus:this.onFocus,keydown:this.onKeyDown,keyup:this.onKeyUp}},genInput:function(){return this.$createElement("input",{attrs:Y({"aria-label":this.label,name:this.name,role:"slider",tabindex:this.disabled?-1:this.$attrs.tabindex,value:this.internalValue,readonly:!0,"aria-readonly":String(this.readonly),"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this.internalValue},this.$attrs),on:this.genListeners(),ref:"input"})},genSlider:function(){return this.$createElement("div",{staticClass:"v-slider",class:{"v-slider--is-active":this.isActive},directives:[{name:"click-outside",value:this.onBlur}]},this.genChildren())},genChildren:function(){return[this.genInput(),this.genTrackContainer(),this.genSteps(),this.genThumbContainer(this.internalValue,this.inputWidth,this.isFocused||this.isActive,this.onThumbMouseDown)]},genSteps:function(){var t=this;if(!this.step||!this.showTicks)return null;var a=(0,H.MT)(this.numTicks+1).map((function(a){var e=[];return t.tickLabels[a]&&e.push(t.$createElement("span",t.tickLabels[a])),t.$createElement("span",{key:a,staticClass:"v-slider__ticks",class:{"v-slider__ticks--always-show":"always"===t.ticks||t.tickLabels.length>0},style:Y({},t.tickStyles,{left:a*(100/t.numTicks)+"%"})},e)}));return this.$createElement("div",{staticClass:"v-slider__ticks-container"},a)},genThumb:function(){return this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb"}))},genThumbContainer:function(t,a,e,o){var i=[this.genThumb()],r=this.getLabel(t);return this.showThumbLabel&&i.push(this.genThumbLabel(r)),this.$createElement("div",this.setTextColor(this.computedThumbColor,{staticClass:"v-slider__thumb-container",class:{"v-slider__thumb-container--is-active":e,"v-slider__thumb-container--show-label":this.showThumbLabel},style:{transition:this.trackTransition,left:(this.$vuetify.rtl?100-a:a)+"%"},on:{touchstart:o,mousedown:o}}),i)},genThumbLabel:function(t){var a=(0,H.kb)(this.thumbSize);return this.$createElement(V.T0,{props:{origin:"bottom center"}},[this.$createElement("div",{staticClass:"v-slider__thumb-label__container",directives:[{name:"show",value:this.isFocused||this.isActive||"always"===this.thumbLabel}]},[this.$createElement("div",this.setBackgroundColor(this.computedThumbColor,{staticClass:"v-slider__thumb-label",style:{height:a,width:a}}),[t])])])},genTrackContainer:function(){var t=[this.$createElement("div",this.setBackgroundColor(this.computedTrackColor,{staticClass:"v-slider__track",style:this.trackStyles})),this.$createElement("div",this.setBackgroundColor(this.computedColor,{staticClass:"v-slider__track-fill",style:this.trackFillStyles}))];return this.$createElement("div",{staticClass:"v-slider__track__container",ref:"track"},t)},getLabel:function(t){return this.$scopedSlots["thumb-label"]?this.$scopedSlots["thumb-label"]({value:t}):this.$createElement("span",t)},onBlur:function(t){2!==this.keyPressed&&(this.isActive=!1,this.isFocused=!1,this.$emit("blur",t))},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onThumbMouseDown:function(t){this.oldValue=this.internalValue,this.keyPressed=2;var a={passive:!0};this.isActive=!0,this.isFocused=!1,"touches"in t?(this.app.addEventListener("touchmove",this.onMouseMove,a),(0,H.qh)(this.app,"touchend",this.onSliderMouseUp)):(this.app.addEventListener("mousemove",this.onMouseMove,a),(0,H.qh)(this.app,"mouseup",this.onSliderMouseUp)),this.$emit("start",this.internalValue)},onSliderMouseUp:function(){this.keyPressed=0;var t={passive:!0};this.isActive=!1,this.isFocused=!1,this.app.removeEventListener("touchmove",this.onMouseMove,t),this.app.removeEventListener("mousemove",this.onMouseMove,t),this.$emit("end",this.internalValue),(0,H.vZ)(this.oldValue,this.internalValue)||this.$emit("change",this.internalValue)},onMouseMove:function(t){var a=this.parseMouseMove(t),e=a.value,o=a.isInsideTrack;o&&this.setInternalValue(e)},onKeyDown:function(t){if(!this.disabled&&!this.readonly){var a=this.parseKeyDown(t);null!=a&&(this.setInternalValue(a),this.$emit("change",a))}},onKeyUp:function(){this.keyPressed=0},onSliderClick:function(t){this.isFocused=!0,this.onMouseMove(t),this.$emit("change",this.internalValue)},parseMouseMove:function(t){var a=this.$refs.track.getBoundingClientRect(),e=a.left,o=a.width,i="touches"in t?t.touches[0].clientX:t.clientX,r=Math.min(Math.max((i-e)/o,0),1)||0;this.$vuetify.rtl&&(r=1-r);var s=i>=e-8&&i<=e+o+8,n=parseFloat(this.min)+r*(this.max-this.min);return{value:n,isInsideTrack:s}},parseKeyDown:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.internalValue;if(!this.disabled){var e=H.Do.pageup,o=H.Do.pagedown,i=H.Do.end,r=H.Do.home,s=H.Do.left,n=H.Do.right,l=H.Do.down,c=H.Do.up;if([e,o,i,r,s,n,l,c].includes(t.keyCode)){t.preventDefault();var d=this.stepNumeric||1,u=(this.max-this.min)/d;if([s,n,l,c].includes(t.keyCode)){this.keyPressed+=1;var m=this.$vuetify.rtl?[s,c]:[n,c],p=m.includes(t.keyCode)?1:-1,f=t.shiftKey?3:t.ctrlKey?2:1;a+=p*d*f}else if(t.keyCode===r)a=parseFloat(this.min);else if(t.keyCode===i)a=parseFloat(this.max);else{var h=t.keyCode===o?1:-1;a-=h*d*(u>100?u/10:10)}return a}}},roundValue:function(t){if(!this.stepNumeric)return t;var a=this.step.toString().trim(),e=a.indexOf(".")>-1?a.length-a.indexOf(".")-1:0,o=this.min%this.stepNumeric,i=Math.round((t-o)/this.stepNumeric)*this.stepNumeric+o;return parseFloat(Math.max(Math.min(i,this.max),this.min).toFixed(e))},setInternalValue:function(t){this.internalValue=t}}}),W=e(4920),G=function(){var t=this,a=t._self._c;return a(F.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:t.dialogStockDeposito.state,callback:function(a){t.$set(t.dialogStockDeposito,"state",a)},expression:"dialogStockDeposito.state"}},[a(s.Z,{staticClass:"dialog-draggable-window"},[a(W.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[a(f.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"black darken-2"}},[t._v("warehouse")]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[t._v("Stock Deposito: "+t._s(t.dataEdit.modelo))]),a(x.Cl),a(f.Z,{attrs:{large:"",disabled:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[t._v("cancel_presentation")])],1),a(n.ZB,[a(L.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(d.Z,{attrs:{"grid-list-md":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(p.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(b.h,{staticClass:"input-text-align",staticStyle:{"--align":"center"},attrs:{readonly:"","background-color":(t.dataEdit.cantidad<=0?"error":"terciary")+" lighten-1","prepend-icon":"grain",label:"Cantidad Local",type:"number",color:"terciary"},model:{value:t.dataEdit.cantidad,callback:function(a){t.$set(t.dataEdit,"cantidad",a)},expression:"dataEdit.cantidad"}})],1),a(p.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(b.h,{staticClass:"input-text-align",staticStyle:{"--align":"center"},attrs:{readonly:"","background-color":(t.dataEdit.cantidad_deposito<=0?"error":"terciary")+" lighten-1","prepend-icon":"warehouse",label:"Cantidad Deposito",type:"number",color:"terciary"},model:{value:t.dataEdit.cantidad_deposito,callback:function(a){t.$set(t.dataEdit,"cantidad_deposito",a)},expression:"dataEdit.cantidad_deposito"}})],1),a(p.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(b.h,{attrs:{clearable:"","background-color":"terciary lighten-5","prepend-icon":"compare_arrows",label:"Cantidad a depositar",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",rules:[...t.rules.requerido,...t.rules.soloNumero,t.rules.minNumber(-t.dataEdit.cantidad_deposito),t.rules.maxNumber(t.dataEdit.cantidad),t=>{try{return"0"!==t||"La cantidad a depositar no puede ser cero."}catch(a){return"Error Inesperado (dialogStockDeposito)."}}],color:"terciary"},model:{value:t.dataEdit.sumar,callback:function(a){t.$set(t.dataEdit,"sumar",a)},expression:"dataEdit.sumar"}}),a(K,{attrs:{color:"terciary",max:t.dataEdit.cantidad,min:-t.dataEdit.cantidad_deposito,rules:[...t.rules.requerido],"thumb-label":"always","thumb-size":28,"append-icon":"warehouse","prepend-icon":"grain"},on:{"click:append":()=>{t.dataEdit.sumar+=1},"click:prepend":()=>{t.dataEdit.sumar-=1}},model:{value:t.dataEdit.sumar,callback:function(a){t.$set(t.dataEdit,"sumar",a)},expression:"dataEdit.sumar"}})],1),a(p.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(b.h,{staticClass:"input-text-align",staticStyle:{"--align":"center"},attrs:{readonly:"","background-color":(t.futuro.cantidad<=0?"error":"terciary")+" lighten-1","prepend-icon":"grain",label:"Cantidad Futura en Local",type:"number",color:"terciary"},model:{value:t.futuro.cantidad,callback:function(a){t.$set(t.futuro,"cantidad",a)},expression:"futuro.cantidad"}})],1),a(p.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),a(p.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(b.h,{staticClass:"input-text-align",staticStyle:{"--align":"center"},attrs:{readonly:"","background-color":(t.futuro.cantidad_deposito<=0?"error":"terciary")+" lighten-1","prepend-icon":"warehouse",label:"Cantidad Futura en Deposito",type:"number",color:"terciary"},model:{value:t.futuro.cantidad_deposito,callback:function(a){t.$set(t.futuro,"cantidad_deposito",a)},expression:"futuro.cantidad_deposito"}})],1)],1)],1)],1)],1),a(n.h7,[a(h.Z,{attrs:{row:"",wrap:""}},[a(x.Cl),a(r.Z,{staticClass:"error darken-1",attrs:{disabled:t.loading.estado,round:"",loading:t.loading.estado},on:{click:t.close}},[t._v(" Cancelar ")]),a(r.Z,{staticClass:"primary darken-1 white--text",attrs:{disabled:t.loading.estado,loading:t.loading.estado,round:""},on:{click:function(a){return t.actualizarStockDeposito({data:t.dataEdit,validate:t.$refs.form.validate,finish:t.close})}}},[t._v(" "+t._s(t.valido?"Realizar Cambio":"Formulario No valido")+" ")])],1)],1)],1)],1)},X=[],J={name:"dialogStockDeposito",props:["closeFinish"],components:{},data:()=>({valido:!0,futuro:{cantidad:"",cantidad_deposito:""},dataEdit:{},dataEditBase:{_id:"",cantidad:"0",cantidad_deposito:"0",sumar:"0",modelo:""}}),computed:{...(0,k.rn)(["loading","rules"]),...(0,k.rn)("patrimonio",["dialogStockDeposito"])},watch:{async"dialogStockDeposito.state"(t){if(t){let t=await this.buscarObjetosFiltro({filtro:{_id:this.dialogStockDeposito.id},select:"cantidad cantidad_deposito modelo"});this.dataEdit=Object.assign(this._cloneDeep(this.dataEditBase),t[0])}else this.dataEdit=this._cloneDeep(this.dataEditBase);this.$refs.form.resetValidation()},"dataEdit.sumar"(t){t?(this.futuro.cantidad=this.dataEdit.cantidad-t,this.futuro.cantidad_deposito=Number(this.dataEdit.cantidad_deposito)+Number(t)):(this.futuro.cantidad=this.dataEdit.cantidad,this.futuro.cantidad_deposito=this.dataEdit.cantidad_deposito)}},beforeMount(){this.dataEdit=this._cloneDeep(this.dataEditBase)},methods:{...(0,k.nv)("patrimonio",["actualizarDialogStockDeposito","buscarObjetosFiltro","actualizarStockDeposito"]),close(){this.actualizarDialogStockDeposito({state:!1}),this.closeFinish()}}},Q=J,tt=(0,D.Z)(Q,G,X,!1,null,null,null),at=tt.exports,et={name:"objetoBuscar",components:{bodyDataTableDinamic:Z.Z,formFiltro:E,patrimonioInfo:N,dialogStockDeposito:at},data:()=>({dataTable:[],ultimoFiltro:{},filtro:{categoria:"",inventario:"",serie:"",marca:"",modelo:"",dependencia:"",fec_alta:"",detalle:"",funciona:"",verificado:"",ubicacion:"",area:"",estado:"",micro:"",memoria:"",disco:"",mother:"",memoria_tipo:"",disco_tipo:"",fuente:"",cantidad:"",cantidad_deposito:"",subcategoria:"",compatibilidad:"",PC:"",pulgadas:"",tipoPantalla:"",impresora_tipo:"",impresora_multifuncion:"",telefono_interno:"",categoriaVarios:""},PCs:["micro","memoria","disco","mother","memoria_tipo","disco_tipo","fuente"],Monitor:["PC","pulgadas","tipoPantalla"],Impresora:["impresora_tipo","impresora_multifuncion"],search:"",paginacion:{sortBy:"area.area",descending:!1,rowsPerPage:10,page:1},reRenderizarTable:!0,filtroHeaderOptions:["Categoria","Descripcion","Estado","Marca","Modelo","N° serie","Ubicacion","Verificado","Dependencia","Fecha de Alta","Fecha de Baja"],filtroHeaderSelected:["Categoria","Estado","Modelo"],seleccionados:[],columnasExcel:{Categoria:"categoria","N° Inventario":"inventario","N° serie":"serie",Marca:"marca",Modelo:"modelo",Dependencia:"dependencia","Fecha de Alta":{field:"fec_alta",callback:t=>{try{let a=new Date(t).toISOString().substring(0,10);return a}catch(a){return t}}},Detalle:"detalle",Estado:"funciona",Area:{field:"area",callback:t=>{try{return t?t.area:t}catch(a){return t}}},Ubicacion:"ubicacion","PC-Micro":"micro","PC-Mother":"mother","PC-Memoria-Tipo":"memoria_tipo","PC-Memoria":"memoria","PC-Disco-Tipo":"disco_tipo","PC-Disco":"disco","PC-Fuente":"fuente","Monitor-PC Asosiada":"PC","Monitor-Pulgadas":"pulgadas","Monitor-Tipo de Pantalla":"tipoPantalla","Impresora-Sistema":"impresora_tipo","Impresora-Multifuncion":"impresora_multifuncion","Insumo-Subcategoria":"subcategoria","Insumo-Cantidad":"cantidad","Insumo-Cantidad-Deposito":"cantidad_deposito","Insumo-Cantidad-Total":{callback:t=>{try{let a=0;return t.cantidad&&(a+=t.cantidad),t.cantidad_deposito&&(a+=t.cantidad_deposito),a}catch(a){return""}}},"Insumo-Compatibilidad":"compatibilidad","Telefono-Interno":"telefono_interno","Motivo de Baja":"motivo_baja","Fecha de Baja":{field:"fec_baja",callback:t=>{try{let a=new Date(t).toISOString().substring(0,10);return a}catch(a){return t}}},Verificado:"verificado",Borrado:{field:"estado",callback:t=>{try{return""+(t?"No":"Si")}catch(a){return t}}}}}),computed:{...(0,k.rn)(["loading","hoy","persona","datosInfo"]),headers(){if(0!=this.dataTable.length){let t=[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%",ignore:!0},{text:"Area",value:"area.area",class:"text-capitalize text-sm-left",ruta:"area.area"},{text:"N° Inventario",value:"inventario",class:"text-sm-right",width:"10%",ruta:"inventario"}];return this.filtroHeaderSelected.includes("Ubicacion")&&t.push({text:"Ubicacion",value:"ubicacion",class:"text-capitalize text-sm-left",ruta:"ubicacion"}),this.filtroHeaderSelected.includes("Categoria")&&t.push({text:"Categoria",value:"categoria",class:"text-capitalize text-sm-left",ruta:"categoria"}),this.filtroHeaderSelected.includes("Marca")&&t.push({text:"Marca",value:"marca",class:"text-capitalize text-sm-left",width:"10%",ruta:"marca"}),this.filtroHeaderSelected.includes("Modelo")&&t.push({text:"Modelo",value:"modelo",class:"text-capitalize text-sm-left",width:"10%",ruta:"modelo"}),this.filtroHeaderSelected.includes("N° serie")&&t.push({text:"N° serie",value:"serie",class:"text-sm-right",width:"15%",ruta:"serie"}),this.filtroHeaderSelected.includes("Descripcion")&&t.push({text:"Descripcion",value:"detalle",class:"text-sm-center",ruta:"detalle"}),this.filtroHeaderSelected.includes("Cantidad")&&t.push({text:"Cantidad",value:"cantidad",class:"font-weight-bold text-sm-center",width:"5%",ruta:"cantidad",numeric:!0}),this.filtroHeaderSelected.includes("Cantidad Deposito")&&t.push({text:"Cantidad Deposito",value:"cantidad_deposito",class:"font-weight-bold text-sm-center",width:"5%",ruta:"cantidad_deposito",numeric:!0}),this.filtroHeaderSelected.includes("Estado")&&t.push({text:"Estado",value:"funciona",class:"text-capitalize text-sm-left",width:"10%",ruta:"funciona"}),this.filtroHeaderSelected.includes("Verificado")&&t.push({text:"Verificado",value:"verificado",class:"text-sm-center",width:"5%",ruta:"verificado",boolean:!0}),this.filtroHeaderSelected.includes("Dependencia")&&t.push({text:"Dependencia",value:"dependencia",class:"text-sm-center",width:"10%",ruta:"dependencia"}),this.filtroHeaderSelected.includes("Fecha de Alta")&&t.push({text:"Fecha de Alta",value:"fec_alta",class:"text-sm-center",width:"10%",ruta:"fec_alta",date:!0}),this.filtroHeaderSelected.includes("Fecha de Baja")&&t.push({text:"Fecha de Baja",value:"fec_baja",class:"text-sm-center",width:"10%",ruta:"fec_baja",date:!0}),t}return[]},headersDinamics(){return this.reRenderizarTable=!this.reRenderizarTable,[...this.headers.filter((t=>!0!==t.ignore))]},nombreExcel(){return`PatrimonioObjetos-${this.hoy}.xls`}},async created(){this.persona.informatica&&0!==this.persona.informatica?(this.filtroHeaderOptions.unshift("Cantidad"),this.filtroHeaderSelected.unshift("Cantidad"),this.filtroHeaderOptions.unshift("Cantidad Deposito"),this.filtroHeaderSelected.unshift("Cantidad Deposito")):this.persona.patrimonio&&0!==this.persona.patrimonio||this.persona.patrimonioArea&&0!==this.persona.patrimonioArea&&(this.filtro.area=this.persona.area)},methods:{...(0,k.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje","datosInfoOn","datosInfoOff"]),...(0,k.nv)(["requestAPI"]),...(0,k.nv)("patrimonio",["actualizarDialogStockDeposito","buscarObjetosFiltro"]),backgroundClass(t){if(!t)return"";try{return t.estado?t.cantidad_deposito&&0===t.cantidad&&0===t.cantidad_deposito||!t.cantidad_deposito&&0===t.cantidad?"background-color: red lighten-3":"Funcionando"===t.funciona?"background-color: green lighten-5"+(t.verificado?"":" font-italic"):"Espera Asignacion"===t.funciona||"Deposito"===t.funciona?"background-color: blue lighten-5"+(t.verificado?"":" font-italic"):"Robo/Hurto"===t.funciona||"Extravio"===t.funciona||"Baja"===t.funciona||"Baja Oficial"===t.funciona||"Obsoleto"===t.funciona?"background-color: red lighten-3"+(t.verificado?"":" font-italic"):"En Reparacion"===t.funciona||"Espera Garantia"===t.funciona?"background-color: yellow lighten-5"+(t.verificado?"":" font-italic"):"background-color: grey lighten-3"+(t.verificado?"":" font-italic"):"background-color: red darken-2 white--text"}catch(a){return""}},async deleteObjeto(t){if(confirm("¿Esta seguro que quiere Borrar este Objeto? \nEl Objeto dejara de ser visible para otros usuarios.")){let e=prompt("Ingrese el motivo por el cual se Borrara el objeto: ");if(e&&""!==e.trim())try{this.mostrarLoading({titulo:"Dando de Baja al Objeto..."});let a=null;return a=await this.requestAPI({method:"delete",url:`/patrimonio/${t._id}?motivo=${e}`}),!!a?.data?.ok&&(t.estado=!1,t.motivo_eliminacion=e,t.verificado=!0,t.usuario_verifico=this.persona,t.fec_verifico=Date.now(),this.mostrarMensaje({msj:"Objeto Borrado Exitosamente.",titulo:"Borrado"}),!0)}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}else null===e||this.mostrarError({mensaje:"No se especifico un motivo para la eliminacion.",titulo:"Valores Requeridos."})}},buscar(){let t=Object.assign({},this.filtro);if(t.categoria.includes("PCs")||this.PCs.forEach((a=>{delete t[a]})),"Insumos"!==t.categoria&&(t.categoria&&delete t["compatibilidad"],["cantidad","subcategoria"].forEach((a=>{delete t[a]}))),"Monitor"!==t.categoria&&this.Monitor.forEach((a=>{delete t[a]})),"Impresora"!==t.categoria&&this.Impresora.forEach((a=>{delete t[a]})),"Telefono"!==t.categoria&&delete t["telefono_interno"],"Varios"!==t.categoria&&delete t["categoriaVarios"],"Insumos"===t.categoria&&(delete t["serie"],delete t["inventario"]),"Muebles"===t.categoria&&delete t["serie"],"Varios"===t.categoria&&(t["categoria"]=t["categoriaVarios"],delete t["categoriaVarios"]),t.inventario&&t.inventario.includes(",")){t.inventario=t.inventario.split(",").filter((t=>t.trim()));for(let a=0;a<t.inventario.length;a++)t.inventario[a]=t.inventario[a].trim()}let a=!0;for(const e in t)t.hasOwnProperty(e)&&(""===t[e]||null===t[e]||void 0===t[e]||0===t[e].length?delete t[e]:a=!1);!0!==a?this.recargarDataTable({filtro:t,populate:{area:!0,usuario_eliminacion:!0,usuario_verifico:!0}}):this.mostrarError({mensaje:"Complete por lo menos un campo de busqueda.",titulo:"Valores Requeridos."})},async validarObjeto(t){if(confirm("¿Esta seguro que desea validar(asegurar la existencia) este Objeto?"))try{this.mostrarLoading({titulo:"Validando Objeto..."});let a=null;return a=await this.requestAPI({method:"put",url:`/patrimonio/validar/${t._id}`,update:t}),!!a?.data?.ok&&("Insumos"===t.categoria?t.verificado=!1:t.verificado=!0,t.usuario_verifico=this.persona,t.fec_verifico=Date.now(),this.mostrarMensaje({msj:"Objeto Validado Exitosamente.",titulo:"Objeto Validado"}),!0)}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}},descargarExcel(t){0===this.selecteccionFiltroExcel(t).length?this.mostrarError({mensaje:"No hay elementos para exportar.",titulo:"Excel"}):this.mostrarLoading({titulo:"Creando Excel..."})},selecteccionFiltroExcel(t){let a=[];for(let e=0;e<t.length;e++)t[e].estado&&a.push(t[e]);return a},async recargarDataTable(t){if(t){let a=await this.buscarObjetosFiltro(t);a&&(this.dataTable=a,this.ultimoFiltro=this._cloneDeep(t))}else this.dataTable=await this.buscarObjetosFiltro(this.ultimoFiltro);this.paginacion.page>Math.ceil(this.dataTable.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}}},ot=et,it=(0,D.Z)(ot,_,y,!1,null,null,null),rt=it.exports},9214:function(t,a,e){e.r(a),e.d(a,{default:function(){return j}});var o=e(8469),i=e(7416),r=e(6194),s=e(8956),n=e(2353),l=e(9418),c=e(6530),d=e(7352),u=e(6961),m=e(5049),p=e(108),f=e(683),h=e(445),g=e(3667),x=e(9456),b=e(5084),v=e(6446),_=e(8143),y=e(4618),k=e(1415),Z=function(){var t=this,a=t._self._c;return a(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(x.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Patrimonio ======")])],1)],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== ====== Buscar ====== ======")])],1),a(s.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[a(n.ZB,{staticClass:"px-0"},[a(x.Z,{attrs:{row:"",wrap:""}},[a(_.Cl),a(f.Z,{attrs:{xs12:"",sm5:"",md4:""}},[a(b.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(y.h,t._g({attrs:{label:"Fecha Desde","prepend-icon":"event",readonly:"",color:"cuarto darken-3"},model:{value:t.filtro.fecha.$gte,callback:function(a){t.$set(t.filtro.fecha,"$gte",a)},expression:"filtro.fecha.$gte"}},e))]}}]),model:{value:t.menufecha1,callback:function(a){t.menufecha1=a},expression:"menufecha1"}},[a(u.Z,{attrs:{color:"cuarto darken-3","header-color":"cuarto darken-1",locale:"mx",max:t.filtro.fecha.$lte},on:{input:function(a){t.menufecha1=!1}},model:{value:t.filtro.fecha.$gte,callback:function(a){t.$set(t.filtro.fecha,"$gte",a)},expression:"filtro.fecha.$gte"}})],1)],1),a(_.Cl),a(p.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a(_.Cl),a(f.Z,{attrs:{xs12:"",sm5:"",md4:""}},[a(b.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(y.h,t._g({attrs:{label:"Fecha Hasta","prepend-icon":"event",readonly:"",color:"cuarto darken-3"},model:{value:t.filtro.fecha.$lte,callback:function(a){t.$set(t.filtro.fecha,"$lte",a)},expression:"filtro.fecha.$lte"}},e))]}}]),model:{value:t.menufecha2,callback:function(a){t.menufecha2=a},expression:"menufecha2"}},[a(u.Z,{attrs:{color:"cuarto darken-3","header-color":"cuarto darken-1",locale:"mx",min:t.filtro.fecha.$gte},on:{input:function(a){t.menufecha2=!1}},model:{value:t.filtro.fecha.$lte,callback:function(a){t.$set(t.filtro.fecha,"$lte",a)},expression:"filtro.fecha.$lte"}})],1)],1),a(_.Cl)],1),a(x.Z,{attrs:{row:"",wrap:""}},[a(_.Cl),a(f.Z,{attrs:{xs12:"",sm6:"","d-flex":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{readonly:!t.permisoOtrasAreas(),clearable:t.permisoOtrasAreas(),"background-color":t.permisoOtrasAreas()?"cuarto lighten-4":"cuarto lighten-2","item-value":"id","item-text":"area",items:t.areas,label:"Area","prepend-icon":"location_city",color:"cuarto darken-4"},model:{value:t.filtro.oficina,callback:function(a){t.$set(t.filtro,"oficina",a)},expression:"filtro.oficina"}})],1),a(_.Cl)],1)],1),a(x.Z,{attrs:{wrap:""}},[a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto lighten-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.buscarDeclaracion()}}},[t._v("Cargar TODO")]),a(_.Cl),a(_.Cl),a(_.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-3",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.buscarDeclaracion(t.filtro)}}},[t._v("Buscar")]),a(_.Cl)],1)],1)],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",terciary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(x.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:""}},[a(f.Z,{attrs:{"text-xs-left":"","px-3":""}},[a(g.Z,{attrs:{medium:"",color:"white",left:""}},[t._v("fas fa-file-invoice")]),a("span",{staticClass:"title white--text"},[t._v("Declaración de Bienes")])],1),a(_.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado||!(t.persona.patrimonio>1||t.persona.patrimonioArea>1),loading:t.loading.estado},on:{click:function(a){return t.$router.push({name:"PatrimonioDeclaracionCarga"})}}},[t._v("Nueva Declaración")])],1),a("div",[a(x.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:""}},[a(_.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(f.Z,{attrs:{xs12:"",sm6:"","ma-1":""}},[a(y.h,{attrs:{"append-icon":"search",label:"Filtrar","background-color":"terciary lighten-4",color:"black","hide-details":"",clearable:""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1)],1),a(d.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.declaraciones,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",[a(k.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a("td",t._g({staticClass:"text-capitalize text-xs-left",on:{click:function(a){return t.mostrarInfo(e.item)}}},o),[t._v(" "+t._s(e.item.fecha.substring(0,10))+" ")]),a("td",t._g({staticClass:"text-capitalize text-xs-left",on:{click:function(a){return t.mostrarInfo(e.item)}}},o),[t._v(" "+t._s(e.item.tipo)+" ")]),a("td",t._g({staticClass:"text-capitalize text-xs-left",on:{click:function(a){return t.mostrarInfo(e.item)}}},o),[t._v(" "+t._s(e.item.oficina?e.item.oficina.area:"Oficina Borrada")+" ")]),a("td",t._g({staticClass:"text-capitalize text-xs-left",on:{click:function(a){return t.mostrarInfo(e.item)}}},o),[t._v(" "+t._s(e.item.custodia)+" ")]),a("td",t._g({staticClass:"text-capitalize text-xs-center",on:{click:function(a){return t.mostrarInfo(e.item)}}},o),[t._v(" "+t._s(e.item.inventariador)+" ")])]}}],null,!0)},[a("span",[t._v("Click para mas informacion")])])],1)]}}])},[a(v.Z,{attrs:{color:"terciary",indeterminate:""}})],1),a(m.Z,{attrs:{"max-width":"670px",scrollable:""},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[a(h.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(s.Z,[a(l.Z,[a(x.Z,{attrs:{row:""}},[a("pre",{staticClass:"headline text-capitalize"},[t._v(t._s(t.formTitle))]),a(_.Cl),a(r.Z,{attrs:{icon:"",disabled:t.loading.estado,loading:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[a(g.Z,{attrs:{large:""}},[t._v("cancel")])],1)],1)],1),a(n.ZB,[a(c.Z,{attrs:{"grid-list-md":""}},[a(x.Z,{attrs:{wrap:""}},[a(p.Z,{staticClass:"mx-2",attrs:{color:"black"}}),a(f.Z,{attrs:{xs12:"","px-2":""}},[a(d.Z,{staticClass:"elevation-1",attrs:{id:"tablita",headers:t.headersMuestra,items:t.mostrarItem.objetos},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.inventario))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.descripcion))])]}}])})],1)],1)],1)],1),a(n.h7,[a(_.Cl),a(k.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(r.Z,t._g({staticClass:"terciary darken-1",attrs:{round:"",large:"",dark:"",disabled:t.loading.estado||!t.valido,loading:t.loading.estado},on:{click:t.descargar}},e),[a(g.Z,{attrs:{"x-large":"",dark:""}},[t._v("cloud_download")])],1)]}}])},[a("span",[t._v("Descargar PDF")])]),a(p.Z,{staticClass:"mx-2",attrs:{dark:"",vertical:""}}),a(k.Z,{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(r.Z,t._g({staticClass:"terciary darken-1",attrs:{round:"",large:"",dark:"",disabled:t.loading.estado||!t.valido,loading:t.loading.estado},on:{click:t.imprimir}},e),[a(g.Z,{attrs:{"x-large":"",dark:""}},[t._v("print")])],1)]}}])},[a("span",[t._v("Imprimir PDF")])])],1)],1)],1)],1)],1)],1)],1)],1)],1)},C=[],w=e(629),I={name:"patrimonioDeclaracionBuscar",components:{},data:()=>({menufecha1:!1,menufecha2:!1,areas:[{area:"No buscar por Area",id:""}],filtro:{fecha:{$gte:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",$lte:""},oficina:""},dialog:!1,valido:!0,search:"",paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:10,page:1},headers:[{text:"Fecha",value:"fecha",align:"left",width:"20%"},{text:"Tipo",value:"tipo",align:"left",width:"20%"},{text:"Oficina",value:"oficina.area",align:"left",width:"*"},{text:"Custodia",value:"custodia",align:"left",width:"20%"},{text:"Inventariador",value:"inventariador",align:"center",width:"15%"}],headersMuestra:[{text:"Inventario N°",value:"inventario",align:"left",width:"20%",sortable:!1},{text:"Descripcion",value:"descripcion",align:"center",width:"*",sortable:!1}],declaraciones:[],formTitle:"Fecha - Tipo de Oficina(Nro)",mostrarIndex:-1,mostrarItem:{tipo:"",fecha:"",oficina:"",oficina_nro:"",custodia:"",inventariador:"",objetos:[{inventario:"",descripcion:""}]},defaultItem:{tipo:"",fecha:"",oficina:"",oficina_nro:"",custodia:"",inventariador:"",objetos:[{inventario:"",descripcion:""}]}}),computed:{...(0,w.rn)(["APIURL","axiosConfig","loading","hoy","persona"])},watch:{dialog(t){t||this.close()}},async created(){this.filtro.fecha.$lte=this.hoy,this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})),this.persona.informatica&&0!==this.persona.informatica||this.persona.patrimonio&&0!==this.persona.patrimonio||this.persona.patrimonioArea&&0!==this.persona.patrimonioArea&&(this.filtro.oficina=this.persona.area)},methods:{...(0,w.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,w.nv)("main_areas",["buscarAreaFiltros"]),permisoOtrasAreas(){return!(!this.persona.informatica||0===this.persona.informatica)||(!(!this.persona.patrimonio||0===this.persona.patrimonio)||(!this.persona.patrimonioArea||0===this.persona.patrimonioArea)&&void 0)},mostrarInfo(t){this.formTitle=`\t${t.fecha.substring(0,10)} - ${t.tipo}.\n${t.oficina?t.oficina.area:"Oficina Borrada"} (${t.oficina_nro})`,this.mostrarIndex=this.areas.indexOf(t),this.mostrarItem=Object.assign({},t),this.dialog=!0},close(){this.dialog=!1,setTimeout((()=>{this.mostrarItem=Object.assign({},this.defaultItem),this.mostrarIndex=-1,this.formTitle="Fecha - Tipo de Oficina(Nro)",this.$refs.form.resetValidation()}),300)},async buscarDeclaracion(t){try{t=t?JSON.stringify(t):"todos",this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let e=await this.axios.get(this.APIURL+"/patrimonioDeclaracion/buscar?busqueda="+t,this.axiosConfig);if(e.data.ok)this.declaraciones=e.data.declaraciones,this.paginacion.page>Math.ceil(this.declaraciones.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1);else try{this.mostrarError({errores:"",mensaje:e.data.err.message,titulo:e.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(a){try{this.mostrarError({errores:a.response.data.err.errors,mensaje:a.response.data.err.message,titulo:a.response.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}},async imprimir(){this.dialog=!1,this.mostrarMensaje({msj:["Generando PDF en una ventana nueva del navegador.",`${this.mostrarItem.fecha.substring(0,10)} - ${this.mostrarItem.tipo}.\n${this.mostrarItem.oficina?this.mostrarItem.oficina.area:"Oficina Borrada"} (${this.mostrarItem.oficina_nro})`,"Si tiene problemas para ver el documento, revise los permisos del navegador para popups o bloqueadores(Adblock)."],titulo:"Generar PDF."}),setTimeout((()=>{this.mostrarItem=Object.assign({},this.defaultItem),this.mostrarIndex=-1,this.formTitle="Fecha - Tipo de Oficina(Nro)",this.$refs.form.resetValidation()}),300);let t=this.$router.resolve({name:"PatrimonioDeclaracionImprimir",params:{id:this.mostrarItem._id},query:{descarga:!1}});window.open(t.href,"_blank")},async descargar(){this.dialog=!1,this.mostrarMensaje({msj:["Generando PDF en una ventana nueva del navegador.",`${this.mostrarItem.fecha.substring(0,10)} - ${this.mostrarItem.tipo}.\n${this.mostrarItem.oficina?this.mostrarItem.oficina.area:"Oficina Borrada"} (${this.mostrarItem.oficina_nro})`,"Si tiene problemas para ver el documento, revise los permisos del navegador para popups o bloqueadores(Adblock)."],titulo:"Generar PDF."}),setTimeout((()=>{this.mostrarItem=Object.assign({},this.defaultItem),this.mostrarIndex=-1,this.formTitle="Fecha - Tipo de Oficina(Nro)",this.$refs.form.resetValidation()}),300);let t=this.$router.resolve({name:"PatrimonioDeclaracionImprimir",params:{id:this.mostrarItem._id},query:{descarga:!0}});window.open(t.href,"_blank")}}},$=I,S=e(1001),D=(0,S.Z)($,Z,C,!1,null,null,null),j=D.exports},4745:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var o=e(8469),i=e(7416),r=e(6194),s=e(8956),n=e(2353),l=e(9418),c=e(7441),d=e(6530),u=e(7352),m=e(108),p=e(683),f=e(3667),h=e(9456),g=e(6446),x=e(8143),b=e(4618),v=e(1415),_=function(){var t=this,a=t._self._c;return a(d.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Patrimonio ======")])],1)],1),a(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[a(n.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== ====== Consultas de Movimientos ====== ======")])],1),a(s.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[a(n.ZB,{staticClass:"px-0"},[a(h.Z,{attrs:{row:"",wrap:""}},[a(x.Cl),a(p.Z,{attrs:{xs12:"",sm5:"",md4:"","px-3":""}},[a("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,color:"cuarto",label:"Fecha Desde",icon:"event"},model:{value:t.filtro.desde,callback:function(a){t.$set(t.filtro,"desde",a)},expression:"filtro.desde"}})],1),a(x.Cl),a(p.Z,{attrs:{xs12:"",sm5:"",md4:"","px-3":""}},[a("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,color:"cuarto",label:"Fecha Hasta",icon:"event"},model:{value:t.filtro.hasta,callback:function(a){t.$set(t.filtro,"hasta",a)},expression:"filtro.hasta"}})],1),a(x.Cl)],1),a(h.Z,{attrs:{row:"",wrap:""}},[a(x.Cl),a(p.Z,{attrs:{xs12:"",sm6:"",md5:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",items:t.areas,label:"Area Desde","prepend-icon":"location_city",color:"cuarto","background-color":"cuarto lighten-5","validate-on-blur":"",clearable:""},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.area_desde=""))}},model:{value:t.filtro.area_desde,callback:function(a){t.$set(t.filtro,"area_desde",a)},expression:"filtro.area_desde"}})],1),a(p.Z,{attrs:{xs12:"",sm6:"",md5:"","px-3":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",items:t.areas,label:"Area Destino","prepend-icon":"location_city",color:"cuarto","background-color":"cuarto lighten-5","validate-on-blur":"",clearable:""},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.area_destino=""))}},model:{value:t.filtro.area_destino,callback:function(a){t.$set(t.filtro,"area_destino",a)},expression:"filtro.area_destino"}})],1),a(x.Cl)],1)],1),a(h.Z,{attrs:{wrap:""}},[a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto lighten-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.cargarmes()}}},[t._v(" Cargar Mes Anterior-Actual")]),a(x.Cl),a(x.Cl),a(x.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-3",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.buscar(t.filtro)}}},[t._v(" Buscar"),a(f.Z,{attrs:{color:"white",right:""}},[t._v("search")])],1),a(x.Cl)],1)],1)],1),a(p.Z,{attrs:{"pa-1":"","ma-2":"",terciary:"","lighten-1":"",xs12:""}},[a(l.Z,{staticClass:"elevation-6"},[a(f.Z,{attrs:{left:"",color:"white"}},[t._v("fas fa-people-carry")]),a("span",{staticClass:"title white--text"},[t._v("Historial de Movimientos")]),a(x.Cl),a(b.h,{attrs:{"append-icon":"search",label:"Filtrar",color:"black","background-color":"terciary lighten-4","hide-details":"",clearable:""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a(l.Z,{attrs:{flat:"",color:"terciary lighten-2"}},[a(f.Z,{attrs:{medium:"",color:"white",left:""}},[t._v("info")]),a("div",[a(h.Z,{attrs:{row:""}},[a("span",{staticClass:"body-2 white--text"},[t._v("Seleccione los que imprimira como PDF")])])],1),a(m.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(x.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioBuscar"},color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("search")]),t._v("Buscar Objetos")],1)],1),a(u.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.movimientos,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search,"select-all":""},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",{staticClass:"background-color: terciary lighten-5"},[a("td",[a(c.Z,{attrs:{color:"terciary darken-2","hide-details":""},model:{value:e.selected,callback:function(a){t.$set(e,"selected",a)},expression:"props.selected"}})],1),a("td",{staticClass:"text-sm-center"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"88px"}},[a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",small:"",color:"gray"},on:{click:function(a){return t.PDF_print([e.item])}}},o),[a(f.Z,{attrs:{color:"green"}},[t._v(" print ")])],1)]}}],null,!0)},[a("span",[t._v("Imprimir")])]),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",small:"",color:"gray"},on:{click:function(a){return t.PDF_print([e.item],!0)}}},o),[a(f.Z,{attrs:{color:"red"}},[t._v(" file_download ")])],1)]}}],null,!0)},[a("span",[t._v("Descargar PDF")])]),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:e.item.fec_entregado||!(t.persona.informatica>1||t.persona.patrimonio>1||t.persona.patrimonioArea>1),small:"",color:"gray"},on:{click:function(a){return t.actualizarMovimiento(e.item,{fec_entregado:t.hoy})}}},o),[a(f.Z,{attrs:{color:"orange"}},[t._v("check_circle_outline")])],1)]}}],null,!0)},[a("span",[t._v("Ya Entregado")])]),a(v.Z,{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:o}){return[a(r.Z,t._g({attrs:{flat:"",icon:"","mx-0":"",disabled:e.item.fec_patrimonio||!(t.persona.informatica>1||t.persona.patrimonio>1||t.persona.patrimonioArea>1),small:"",color:"gray"},on:{click:function(a){return t.actualizarMovimiento(e.item,{fec_patrimonio:t.hoy})}}},o),[a(f.Z,{attrs:{color:"green"}},[t._v(" fas fa-stamp ")])],1)]}}],null,!0)},[a("span",[t._v("Entregado a Patrimonio")])])],1)]),t._l(t.headersDinamics,(function(t){return a("td",{key:t.text,class:t.class},[a("bodyDataTableDinamic",{attrs:{props:e,field:t}})],1)}))],2)]}}]),model:{value:t.seleccionados,callback:function(a){t.seleccionados=a},expression:"seleccionados"}},[a(g.Z,{attrs:{color:"blue",indeterminate:""}})],1),a(l.Z,{attrs:{flat:"",color:"terciary lighten-2"}},[a(x.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.PDF_print(t.seleccionados,!0)}}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("file_download")]),t._v("Descargar Seleccionados")],1),a(m.Z,{staticClass:"mx-2 my-1",attrs:{vertical:""}}),a(r.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.PDF_print(t.seleccionados)}}},[a(f.Z,{attrs:{color:"white",left:""}},[t._v("print")]),t._v("PDF de Seleccionados")],1)],1)],1)],1)],1)},y=[],k=e(629),Z=e(3979),C=e(6404),w={name:"PatrimonioMoverConsultas",components:{dateSelect:Z.Z,bodyDataTableDinamic:C.Z},data:()=>({areas:[{area:"No buscar por Area",id:""}],filtro:{area_desde:"",area_destino:"",desde:`${(new Date).getFullYear()-1}-${((new Date).getMonth()+1).toString().padStart(2,0)}-01`,hasta:""},ultimoFiltro:{},movimientos:[],search:"",paginacion:{sortBy:"fec_movio",descending:!0,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%",ignore:!0},{text:"Fecha de Movimiento",value:"fec_movio",class:"text-sm-center",ruta:"fec_movio",date:!0},{text:"Nº Inventario",value:"id_objeto.inventario",class:"text-sm-center",ruta:"id_objeto.inventario"},{text:"Categoria",value:"id_objeto.categoria",class:"text-sm-left text-capitalize",ruta:"id_objeto.categoria"},{text:"Desde Area",value:"area_anterior.area",class:"text-sm-left text-capitalize",ruta:"area_anterior.area"},{text:"Destino Area",value:"area_destino.area",class:"text-sm-left text-capitalize",ruta:"area_destino.area"},{text:"Desde Ubicacion",value:"ubicacion_anterior",class:"text-sm-left",ruta:"ubicacion_anterior"},{text:"Destino Ubicacion",value:"ubicacion_destino",class:"text-sm-left",ruta:"ubicacion_destino"},{text:"Persona Recibio",value:"usuario_movio",class:"text-sm-left text-capitalize",ruta:"usuario_movio"},{text:"Legajo Recibio",value:"usuario_legajo",class:"text-sm-right",ruta:"usuario_legajo"},{text:"Motivo del Cambio",value:"motivo_movio",class:"text-sm-left",ruta:"motivo_movio"},{text:"Fec. Entregado",value:"fec_entregado",class:"text-sm-center",ruta:"fec_entregado",date:!0},{text:"Fec. Entr. Patrimonio",value:"fec_patrimonio",class:"text-sm-center",ruta:"fec_patrimonio",date:!0}],seleccionados:[]}),computed:{...(0,k.rn)(["APIURL","axiosConfig","loading","hoy","persona"]),headersDinamics:function(){return this.headers.filter((t=>!0!==t.ignore))}},async created(){this.filtro.hasta=this.hoy,this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"}))},methods:{...(0,k.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje","mostrarDialogIframe"]),...(0,k.OI)("patrimonio",["guardarPdf"]),...(0,k.nv)("main_areas",["buscarAreaFiltros"]),async buscar(t){try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let e=await this.axios.get(`${this.APIURL}/patrimonioMover/buscar?inicio=${t.desde}&fin=${t.hasta}&from=${t.area_desde}&destiny=${t.area_destino}`,this.axiosConfig);if(e.data.ok)this.movimientos=e.data.movimientos,this.ultimoFiltro=Object.assign({},t),this.paginacion.page>Math.ceil(this.movimientos.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1);else try{this.mostrarError({errores:"",mensaje:e.data.err.message,titulo:e.status})}catch(a){this.mostrarError({mensaje:a})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(a){this.mostrarError({mensaje:e})}}finally{this.ocultarLoading()}},async cargarmes(){let t={area_desde:"",area_destino:""},a=new Date;t.desde=new Date(a.getFullYear(),a.getMonth()-1,1).toISOString().substring(0,10),t.hasta=new Date(a.getFullYear(),a.getMonth()+1,0).toISOString().substring(0,10),this.buscar(t)},PDF_print:function(t,a){if(0===t.length)this.mostrarError({errores:"",mensaje:"No se ha seleccionado ningun elemento.",titulo:"Capa 8"});else try{this.mostrarLoading({titulo:"Cargando PDF...",color:"primary"});let e=[];for(let a=0;a<t.length;a++){let o={fecha:this.mostrarFecha(t[a].fec_movio),inventario:t[a].id_objeto.inventario,descripcion:`${t[a].id_objeto.categoria}, ${t[a].id_objeto.marca} ${t[a].id_objeto.modelo} ${t[a].id_objeto.serie?`\nSerie: ${t[a].id_objeto.serie}\n`:""}${t[a].id_objeto.micro} ${t[a].id_objeto.mother}${t[a].id_objeto.micro||t[a].id_objeto.mother?"\n":""}${t[a].id_objeto.memoria} ${t[a].id_objeto.memoria_tipo}${t[a].id_objeto.memoria||t[a].id_objeto.memoria_tipo?"\n":""}${t[a].id_objeto.disco} ${t[a].id_objeto.disco_tipo}${t[a].id_objeto.disco||t[a].id_objeto.disco_tipo?"\n":""}${t[a].id_objeto.fuente} ${t[a].id_objeto.pulgadas} ${t[a].id_objeto.tipoPantalla}`.replaceAll(" undefined","").replaceAll("undefined","").trim(),desde:`${t[a].area_anterior?.area||"S/D"}${t[a].area_anterior?.oficina_nro?`\n(${t[a].area_anterior?.oficina_nro})`:""}`,destino:`${t[a].area_destino?.area||"S/D"}${t[a].area_destino?.oficina_nro?`\n(${t[a].area_destino?.oficina_nro})`:""}`};e.push(o)}this.guardarPdf({objetos:e});let o=this.$router.resolve({name:"patrimonioMoverImprimir",query:{descarga:!!a}});this.mostrarDialogIframe({src:o.href,titulo_name:"Movimiento Patrimonial"})}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(o){this.mostrarError({mensaje:e})}}finally{this.ocultarLoading()}},async actualizarMovimiento(t,a){let e={};if(window.confirm("Esta acción no se puede deshacer, Desea continuar?")){e=Object.assign({},t,a||{});try{this.mostrarLoading({titulo:"Actualizando datos...",color:"primary"});let a=await this.axios.post(this.APIURL+"/patrimonioMover",e,this.axiosConfig);if(a.data.ok)t.id_objeto.inventario?this.mostrarMensaje({msj:["Objeto Editado exitosamente.",`<##> Nº Inventario: ${t.id_objeto.inventario.toString()} <##>`],titulo:"Editado Exitoso"}):this.mostrarMensaje({msj:["Objeto Editado exitosamente."],titulo:"Editado Exitoso"}),this.buscar(this.ultimoFiltro);else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(o){this.mostrarError({mensaje:o})}}catch(i){try{this.mostrarError({errores:i.response.data.err.errors,mensaje:i.response.data.err.message,titulo:i.response.status})}catch(o){this.mostrarError({mensaje:i})}}finally{this.ocultarLoading()}}}}},I=w,$=e(1001),S=(0,$.Z)(I,_,y,!1,null,null,null),D=S.exports},445:function(t,a,e){e.d(a,{Z:function(){return i}});var o=e(21),i={name:"v-form",mixins:[(0,o.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var a=this,e=function(t){return t.$watch("hasError",(function(e){a.$set(a.errorBag,t._uid,e)}),{immediate:!0})},o={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?o.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(a.errorBag.hasOwnProperty(t._uid)||(o.valid=e(t)))})):o.valid=e(t),o},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,a=this.inputs.length;a--;)this.inputs[a].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,a=this.inputs.length;a--;)this.inputs[a].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var a=this.watchInput(t);this.inputs.push(t),this.watchers.push(a)},unregister:function(t){var a=this.inputs.find((function(a){return a._uid===t._uid}));if(a){var e=this.watchers.find((function(t){return t._uid===a._uid}));e.valid&&e.valid(),e.shouldValidate&&e.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==a._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(t){var a=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return a.$emit("submit",t)}}},this.$slots.default)}}}}]);