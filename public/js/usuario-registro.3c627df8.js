"use strict";(globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]=globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[609],{932:(e,a,r)=>{r.r(a),r.d(a,{default:()=>A});var t=r(6194),o=r(8956),s=r(2353),i=r(5050),l=r(108),n=r(683),u=r(445),c=r(3667),d=r(2208),p=r(9456),m=r(8294),h=r(8143),g=function(){var e=this,a=e._self._c;return a("div",[a(n.Z,{attrs:{xs12:""}},[a(d.Z,{attrs:{src:r(6189),alt:"Secretaria de Salud","max-height":"200px"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a(p.Z,{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[a(m.Z,{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1),a(i.Z,{attrs:{"grid-list-xs":""}},[a(p.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(o.Z,{staticClass:"elevation-6"},[a(p.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"text-xs-left":"","px-3":""}},[a(c.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("people")]),a("span",{staticClass:"title white--text"},[e._v("Registro / Alta")])],1),a(h.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(t.Z,{attrs:{round:"",color:"secondary lighten-1",to:{name:"Login"},disabled:e.loading.estado,loading:e.loading.estado}},[e._v("Iniciar Sesión")])],1),a(s.ZB,[a(u.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a("formUsuario",{attrs:{usuario:e.usuario,persona:e.persona,editar:!1,passCheck:!0,mailCheck:!0,funcionEnter:e.registrar}})],1)],1),a(p.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(h.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 black",attrs:{vertical:""}}),a(t.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.registrar}},[e._v(" "+e._s(e.valido?"Registrar":"Formulario No valido"))])],1)],1)],1)],1)],1)],1)},b=[],x=(r(7658),r(629)),f=r(7441),v=r(6961),y=r(5084),k=r(4036),Z=r(4618),w=function(){var e=this,a=e._self._c;return a(p.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""},on:{keypress:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.funcionEnterTemp.apply(null,arguments)}}},[a(p.Z,{attrs:{"align-center":"","justify-center":"",grey:"","lighten-3":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",primary:"","lighten-1":""}},[a("h4",{staticClass:"title float: left"},[e._v(" Datos de Usuario ")])]),a(n.Z,{attrs:{xs8:"","px-3":""}},[a(Z.h,{attrs:{readonly:e.editar,clearable:!e.editar,onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"fas fa-id-card",maxlength:"10",counter:"",label:"Documento",type:"number",rules:[...e.rules.requerido,...e.rules.soloNumero,e.rules.minNumber(0),e.rules.maxLength(10)],color:"primary","background-color":e.editar?"primary lighten-2":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.documento,callback:function(a){e.$set(e.usuario,"documento",a)},expression:"usuario.documento"}})],1),e.editar?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""},on:{click:e.checkPassword}},[a(f.Z,{attrs:{label:"Cambiar Contraseña: "+(e.checkPass?"SI":"NO")},model:{value:e.checkPass,callback:function(a){e.checkPass=a},expression:"checkPass"}})],1):e._e(),e.editar?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}}):e._e(),e.checkPass?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",rules:[...e.rules.requerido,e.rules.minLength(4)]},model:{value:e.usuario.password,callback:function(a){e.$set(e.usuario,"password",a)},expression:"usuario.password"}})],1):e._e(),e.checkPass?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"lock",label:"Repetir Contraseña",type:"password",color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",rules:[...e.rules.requerido,e.rules.minLength(4)]},model:{value:e.usuario.password2,callback:function(a){e.$set(e.usuario,"password2",a)},expression:"usuario.password2"}})],1):e._e(),e.editar?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""},on:{click:e.checkE_Mail}},[a(f.Z,{attrs:{label:"Cambiar E-mail: "+(e.checkMail?"SI":"NO")},model:{value:e.checkMail,callback:function(a){e.checkMail=a},expression:"checkMail"}})],1):e._e(),e.editar?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}}):e._e(),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"mail",label:"E-mail",type:"email",rules:[...e.rules.requerido,...e.rules.mail],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.email,callback:function(a){e.$set(e.usuario,"email",a)},expression:"usuario.email"}})],1),e.checkMail?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"mail",label:"Repetir E-mail",type:"email",rules:[...e.rules.requerido,...e.rules.mail],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.email2,callback:function(a){e.$set(e.usuario,"email2",a)},expression:"usuario.email2"}})],1):a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}})],1),a(p.Z,{attrs:{"align-center":"","justify-center":"",grey:"","lighten-3":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",primary:"","lighten-1":""}},[a("h4",{staticClass:"title float: left"},[e._v(" Datos Personales ")])]),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"person",label:"Apellido",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.apellido,callback:function(a){e.$set(e.usuario,"apellido",a)},expression:"usuario.apellido"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.nombre,callback:function(a){e.$set(e.usuario,"nombre",a)},expression:"usuario.nombre"}})],1),a(n.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(y.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(Z.h,e._g({attrs:{clearable:"","background-color":"primary lighten-5",label:"Fecha de Nacimiento","prepend-icon":"event",readonly:"","validate-on-blur":"",color:"primary darken-3"},model:{value:e.usuario.fec_nac,callback:function(a){e.$set(e.usuario,"fec_nac",a)},expression:"usuario.fec_nac"}},r))]}}]),model:{value:e.menuFecha,callback:function(a){e.menuFecha=a},expression:"menuFecha"}},[a(v.Z,{ref:"picker",attrs:{color:"primary darken-3","header-color":"primary darken-1",locale:"mx",max:e.hoy,min:"1900-01-01"},on:{change:e.save},model:{value:e.usuario.fec_nac,callback:function(a){e.$set(e.usuario,"fec_nac",a)},expression:"usuario.fec_nac"}})],1)],1),a(n.Z,{attrs:{xs12:"",sm3:"","px-3":""}},[a(k.r,{attrs:{clearable:"","background-color":"primary lighten-5",items:e.sexos,label:"Sexo","prepend-icon":"fas fa-venus-mars",color:"primary"},model:{value:e.usuario.sexo,callback:function(a){e.$set(e.usuario,"sexo",a)},expression:"usuario.sexo"}})],1),a(n.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(Z.h,{attrs:{"prepend-icon":"phone",label:"Telefono",type:"text",onkeydown:"return event.key === 'Backspace' || event.key === 'Delete' || event.key === 'ArrowRight' || event.key === 'ArrowLeft' || /^[0-9\\s.,+=-]+$/.test(event.key)",maxlength:"15",counter:"",rules:[...e.rules.soloNumeroMas,e.rules.maxLength(15)],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.usuario.telefono,callback:function(a){e.$set(e.usuario,"telefono",a)},expression:"usuario.telefono"}})],1)],1),a(p.Z,{attrs:{"align-center":"","justify-center":"",grey:"","lighten-3":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",primary:"","lighten-1":""}},[a("h4",{staticClass:"title float: left"},[e._v(" Domicilio ")])]),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"place",label:"Direccion",type:"text",color:"primary","validate-on-blur":""},model:{value:e.usuario.dir_calle,callback:function(a){e.$set(e.usuario,"dir_calle",a)},expression:"usuario.dir_calle"}})],1),a(n.Z,{attrs:{xs12:"",sm2:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"#",label:"Nro",type:"number",rules:[...e.rules.soloNumero,e.rules.minNumber(0)],color:"primary","validate-on-blur":""},model:{value:e.usuario.dir_numero,callback:function(a){e.$set(e.usuario,"dir_numero",a)},expression:"usuario.dir_numero"}})],1),a(n.Z,{attrs:{xs12:"",sm2:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"far fa-building",label:"Piso",type:"text",color:"primary"},model:{value:e.usuario.dir_piso,callback:function(a){e.$set(e.usuario,"dir_piso",a)},expression:"usuario.dir_piso"}})],1),a(n.Z,{attrs:{xs12:"",sm2:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"domain",label:"Depto",type:"text",color:"primary"},model:{value:e.usuario.dir_depto,callback:function(a){e.$set(e.usuario,"dir_depto",a)},expression:"usuario.dir_depto"}})],1),a(n.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"far fa-map",label:"Barrio",type:"text",color:"primary"},model:{value:e.usuario.dir_barrio,callback:function(a){e.$set(e.usuario,"dir_barrio",a)},expression:"usuario.dir_barrio"}})],1),a(n.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(Z.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"fas fa-city",label:"Localidad",type:"text",color:"primary"},model:{value:e.usuario.dir_localidad,callback:function(a){e.$set(e.usuario,"dir_localidad",a)},expression:"usuario.dir_localidad"}})],1),a(n.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(k.r,{attrs:{"background-color":"primary lighten-5",items:e.zonas,label:"Zona","prepend-icon":"adjust",color:"primary"},model:{value:e.usuario.zona,callback:function(a){e.$set(e.usuario,"zona",a)},expression:"usuario.zona"}})],1)],1),a(n.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.r,{attrs:{"background-color":"primary lighten-5",items:e.oSociales,label:"Cobertura Social","prepend-icon":"fas fa-id-card-alt",color:"primary"},model:{value:e.usuario.oSocial,callback:function(a){e.$set(e.usuario,"oSocial",a)},expression:"usuario.oSocial"}})],1),a(n.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),"ADMIN_ROLE"===e.persona.role?a(n.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):e._e(),"ADMIN_ROLE"===e.persona.role?a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.r,{attrs:{rules:[...e.rules.requerido],"item-value":"valor","item-text":"label",items:e.estados,label:"Estado","prepend-icon":"check_circle","background-color":"true"==e.usuario.estado?"green lighten-1":"error lighten-1",color:"primary"},model:{value:e.usuario.estado,callback:function(a){e.$set(e.usuario,"estado",a)},expression:"usuario.estado"}})],1):e._e(),"ADMIN_ROLE"===e.persona.role?a(n.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):e._e()],1)},_=[];const S={name:"formUsuario",props:["usuario","persona","editar","passCheck","mailCheck","funcionEnter"],data(){return{funcionEnterTemp:this.funcionEnter||function(){},checkPass:this.passCheck||!1,checkMail:this.mailCheck||!1,menuFecha:!1,sexos:["Masculino","Femenino"],zonas:["Lista de Zonas","Zona Norte","Zona Sur","Zona Centro"],oSociales:["Sin Obra Social","PAMI","IOMA","Otras"],estados:[{label:"Activo",valor:"true"},{label:"Desactivado",valor:"false"}]}},computed:{...(0,x.rn)(["hoy","rules"])},watch:{menuFecha(e){e&&setTimeout((()=>this.$refs.picker.activePicker="YEAR"))}},methods:{checkPassword:function(){this.$emit("checkPassword",this.checkPass)},checkE_Mail:function(){this.$emit("checkE_Mail",this.checkMail)},save(e){this.$refs.menu.save(e)}}},C=S;var E=r(1001),I=(0,E.Z)(C,w,_,!1,null,null,null);const $=I.exports,P={name:"AutoUsuarioRegistrar",components:{formUsuario:$},data(){return{valido:!0,usuario:{documento:"",password:"",password2:"",email:"",email2:"",estadoEmail:!1,fechaEmailSend:"",codeEmail:"",nombre:"",apellido:"",fec_nac:"",sexo:"",telefono:"",dir_calle:"",dir_numero:"",dir_piso:"",dir_depto:"",dir_barrio:"",dir_localidad:"",zona:"",oSocial:""}}},computed:{...(0,x.rn)(["APIURL","axiosConfig","loading","persona"])},created(){},methods:{...(0,x.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),async registrar(){if(this.$refs.form.validate()){if(this.usuario.password!==this.usuario.password2)return void this.mostrarError({errores:"",mensaje:"Las contraseñas no coinciden.",titulo:"Contraseña"});if(this.usuario.email!==this.usuario.email2)return void this.mostrarError({errores:"",mensaje:"Los E-Mails no coinciden.",titulo:"E-Mails"});try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let a=await this.axios.post(`${this.APIURL}/autoUsuario`,this.usuario,this.axiosConfig);if(a.data.ok)this.mostrarMensaje({msj:["Usuario creado exitosamente.","Revise su Correo, para finalizar."],titulo:"Registro Exitoso"}),this.$router.push({name:"autoUsuarioVerificarMail",params:{documento:a.data.usuario.documento}});else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError()}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError()}}finally{this.ocultarLoading()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},L=P;var R=(0,E.Z)(L,g,b,!1,null,null,null);const A=R.exports},4874:(e,a,r)=>{r.d(a,{Z:()=>x});var t=r(7416),o=r(7441),s=r(683),i=r(9456),l=r(4036),n=r(4618),u=function(){var e=this,a=e._self._c;return a(i.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs8:"","px-3":""}},[a(n.h,{attrs:{readonly:e.editando,clearable:!e.editando,"background-color":e.editando?"primary lighten-2":"primary lighten-5","prepend-icon":"person",label:"Usuario",type:"text",color:"primary",rules:e.editando?[]:[...e.rules.requerido,...e.rules.textoNumero,e.rules.minLength(3)],"validate-on-blur":"",autocomplete:"username"},model:{value:e.usuario.usuario,callback:function(a){e.$set(e.usuario,"usuario",a)},expression:"usuario.usuario"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Nombre",type:"text",color:"primary",rules:[...e.rules.requerido,e.rules.minLength(2)],"validate-on-blur":""},model:{value:e.usuario.nombre,callback:function(a){e.$set(e.usuario,"nombre",a)},expression:"usuario.nombre"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Apellido",type:"text",color:"primary",rules:[...e.rules.requerido,e.rules.minLength(2)],"validate-on-blur":""},model:{value:e.usuario.apellido,callback:function(a){e.$set(e.usuario,"apellido",a)},expression:"usuario.apellido"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"phone",label:"Telefono",type:"text",color:"primary",rules:[...e.rules.soloNumero],"validate-on-blur":""},model:{value:e.usuario.telefono,callback:function(a){e.$set(e.usuario,"telefono",a)},expression:"usuario.telefono"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"mail",label:"Email",type:"email",color:"primary",rules:[...e.rules.mail],"validate-on-blur":""},model:{value:e.usuario.email,callback:function(a){e.$set(e.usuario,"email",a)},expression:"usuario.email"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(t.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"location_city",label:"Area",items:e.areas,"item-value":"id","item-text":"area",color:"primary",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.usuario.area,callback:function(a){e.$set(e.usuario,"area",a)},expression:"usuario.area"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"work",label:"Actividad en el Area",type:"text",color:"primary","validate-on-blur":""},model:{value:e.usuario.actividad,callback:function(a){e.$set(e.usuario,"actividad",a)},expression:"usuario.actividad"}})],1),e.editando?a(s.Z,{attrs:{xs12:""}},[a(i.Z,{attrs:{row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""},on:{click:e.checkPassword}},[a(o.Z,{attrs:{label:"Cambiar Contraseña: "+(e.checkPass?"SI":"NO")},on:{change:function(a){e.checkPassword(),e.usuario.password=null,e.usuario.password2=null}},model:{value:e.checkPass,callback:function(a){e.checkPass=a},expression:"checkPass"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}})],1)],1):e._e(),!0===e.checkPass?a(s.Z,{attrs:{xs12:""}},[a(i.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4)],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password,callback:function(a){e.$set(e.usuario,"password",a)},expression:"usuario.password"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{"prepend-icon":"lock",label:"Repetir Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4),a=>a===e.usuario.password||"Las Constraseñas no coinciden."],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password2,callback:function(a){e.$set(e.usuario,"password2",a)},expression:"usuario.password2"}})],1)],1)],1):e._e(),"ADMIN_ROLE"===e.persona.role?a(s.Z,{attrs:{xs12:""}},[a(i.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.r,{attrs:{"item-value":"valor","item-text":"label",items:e.opcionesRoles,label:"Rol","prepend-icon":"supervisor_account",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.requerido]},model:{value:e.usuario.role,callback:function(a){e.$set(e.usuario,"role",a)},expression:"usuario.role"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.r,{attrs:{"item-value":"valor","item-text":"label",items:e.opcionesEstados,label:"Estado","prepend-icon":"true"==e.usuario.estado?"check_circle":"cancel",color:"true"==e.usuario.estado?"green lighten-1":"error lighten-1","background-color":"true"==e.usuario.estado?"green lighten-1":"error lighten-1",rules:[...e.rules.requerido]},model:{value:e.usuario.estado,callback:function(a){e.$set(e.usuario,"estado",a)},expression:"usuario.estado"}})],1)],1)],1):e._e(),"ADMIN_ROLE"===e.persona.role?a(s.Z,{attrs:{grey:"","lighten-4":"",xs12:""}},[a("treeProperties",{attrs:{data:e.usuario,treeRead:e.permisos,opcionesSelect:e.opcionesPermiso,editando:e.editando,areas:e.areas}})],1):e._e()],1)},c=[],d=(r(7658),r(629)),p=r(8718);const m={name:"formUsuario",props:["usuario","editar"],components:{treeProperties:p.Z},data(){return{checkPass:!0,areas:[]}},computed:{...(0,d.rn)(["persona","rules"]),...(0,d.rn)("main_usuario",["permisos","opcionesPermiso","opcionesRoles","opcionesEstados"]),editando(){return"true"===this.editar}},async created(){this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area farmacia unidad_atencion",free:"ADMIN_ROLE"!==this.persona?.role}))},methods:{...(0,d.nv)("main_areas",["buscarAreaFiltros"]),checkPassword(){this.$emit("checkPassword",this.checkPass)}}},h=m;var g=r(1001),b=(0,g.Z)(h,u,c,!1,null,null,null);const x=b.exports},8585:(e,a,r)=>{r.r(a),r.d(a,{default:()=>_});var t=r(6194),o=r(8956),s=r(2353),i=r(9418),l=r(5050),n=r(108),u=r(683),c=r(445),d=r(3667),p=r(2208),m=r(9456),h=r(8294),g=r(8143),b=function(){var e=this,a=e._self._c;return a("div",[a(u.Z,{attrs:{xs12:""}},[a(p.Z,{attrs:{src:r(6189),alt:"Secretaria de Salud","max-height":"200px"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a(m.Z,{attrs:{"fill-height":"","align-center":"","justify-center":"","ma-0":""}},[a(h.Z,{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1),a(l.Z,{attrs:{"grid-list-xs":""}},[a(m.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(u.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(o.Z,{staticClass:"elevation-6"},[a(i.Z,{staticClass:"primary"},[a(d.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("person_add")]),a(i.Z,{staticClass:"title white--text"},[e._v("Registrarse")]),a(n.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),a(g.Cl),a(t.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"Login"},color:"secondary lighten-1",disabled:e.loading.estado,loading:e.loading.estado}},[e._v("Iniciar Sesíon"),a(d.Z,{attrs:{right:""}},[e._v("login")])],1)],1),a(s.ZB,[a(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(m.Z,{attrs:{row:"",wrap:""},on:{keypress:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.registrarUsuario.apply(null,arguments)}}},[a("formUsuario",{attrs:{usuario:e.usuario}})],1)],1)],1),a(i.Z,{staticClass:"primary lighten-2"},[a(g.Cl),a(n.Z,{staticClass:"mx-3 black",attrs:{vertical:""}}),a(t.Z,{class:(e.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.registrarUsuario}},[a(d.Z,{attrs:{left:"",color:"white"}},[e._v("person_add")]),e._v(e._s(e.valido?"Registrar":"Formulario No valido"))],1)],1)],1)],1)],1)],1)],1)},x=[],f=(r(7658),r(629)),v=r(4874);const y={name:"usuarioRegistrar",components:{formUsuario:v.Z},data(){return{valido:!0,usuario:{}}},computed:{...(0,f.rn)(["loading"]),...(0,f.rn)("main_usuario",["usuarioBase"])},created(){this.usuario={...this._cloneDeep(this.usuarioBase)}},methods:{...(0,f.OI)(["mostrarError"]),...(0,f.nv)("main_usuario",["guardarUsuario"]),toLogin(){this.$router.push({name:"Login"})},async registrarUsuario(){if(this.usuario.password!==this.usuario.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarUsuario({usuario:this.usuario,validate:this.$refs.form.validate,finish:this.toLogin})}}},k=y;var Z=r(1001),w=(0,Z.Z)(k,b,x,!1,null,null,null);const _=w.exports},1232:(e,a,r)=>{r.d(a,{Z:()=>i});r(7448);var t=r(1395),o=r(7416),s=r(8131);const i={name:"v-combobox",extends:o.Z,props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{counterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return t.Z.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onFilteredItemsChanged:function(){},onInternalSearchChanged:function(e){if(e&&this.multiple&&this.delimiters.length){var a=this.delimiters.find((function(a){return e.endsWith(a)}));null!=a&&(this.internalSearch=e.slice(0,e.length-a.length),this.updateTags())}this.updateMenuDimensions()},genChipSelection:function(e,a){var r=this,o=t.Z.options.methods.genChipSelection.call(this,e,a);return this.multiple&&(o.componentOptions.listeners.dblclick=function(){r.editingIndex=a,r.internalSearch=r.getText(e),r.selectedIndex=-1}),o},onChipInput:function(e){t.Z.options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown:function(e){e.preventDefault(),t.Z.options.methods.onEnterDown.call(this),this.getMenuIndex()>-1||this.updateSelf()},onKeyDown:function(e){var a=e.keyCode;t.Z.options.methods.onKeyDown.call(this,e),this.multiple&&a===s.Do.left&&0===this.$refs.input.selectionStart&&this.updateSelf(),this.changeSelectedIndex(a)},onTabDown:function(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();o.Z.options.methods.onTabDown.call(this,e)},selectItem:function(e){this.editingIndex>-1?this.updateEditing():o.Z.options.methods.selectItem.call(this,e)},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.internalSearch;t.Z.options.methods.setValue.call(this,e)},updateEditing:function(){var e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox:function(){var e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var e=this.getMenuIndex();if(!(e<0)||this.searchIsDirty){if(this.editingIndex>-1)return this.updateEditing();var a=this.selectedItems.indexOf(this.internalSearch);if(a>-1){var r=this.internalValue.slice();r.splice(a,1),this.setValue(r)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null}}}}},4036:(e,a,r)=>{r.d(a,{r:()=>g,Z:()=>b});var t=r(1395),o=r(7416);const s=o.Z;var i=r(2556),l=r(8205),n=r(8219);const u=s.extend({name:"v-overflow-btn",props:{segmented:Boolean,editable:Boolean,transition:t.Z.options.props.transition},computed:{classes:function(){return Object.assign(s.options.computed.classes.call(this),{"v-overflow-btn":!0,"v-overflow-btn--segmented":this.segmented,"v-overflow-btn--editable":this.editable})},isAnyValueAllowed:function(){return this.editable||s.options.computed.isAnyValueAllowed.call(this)},isSingle:function(){return!0},computedItems:function(){return this.segmented?this.allItems:this.filteredItems},$_menuProps:function(){var e=s.options.computed.$_menuProps.call(this);return e.transition=e.transition||"v-menu-transition",e}},methods:{genSelections:function(){return this.editable?s.options.methods.genSelections.call(this):t.Z.options.methods.genSelections.call(this)},genCommaSelection:function(e,a,r){return this.segmented?this.genSegmentedBtn(e):t.Z.options.methods.genCommaSelection.call(this,e,a,r)},genInput:function(){var e=i.Z.options.methods.genInput.call(this);return e.data.domProps.value=this.editable?this.internalSearch:"",e.data.attrs.readonly=!this.isAnyValueAllowed,e},genLabel:function(){if(this.editable&&this.isFocused)return null;var e=i.Z.options.methods.genLabel.call(this);return e?(e.data.style={},e):e},genSegmentedBtn:function(e){var a=this,r=this.getValue(e),t=this.computedItems.find((function(e){return a.getValue(e)===r}))||e;return t.text&&t.callback?this.$createElement(l.Z,{props:{flat:!0},on:{click:function(e){e.stopPropagation(),t.callback(e)}}},[t.text]):((0,n.Kd)("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)}}}),c=u;var d=r(1232);const p=d.Z;var m=r(8135),h=r(6505),g={functional:!0,$_wrapperFor:t.Z,props:{autocomplete:Boolean,combobox:Boolean,multiple:Boolean,tags:Boolean,editable:Boolean,overflow:Boolean,segmented:Boolean},render:function(e,a){var r=a.props,o=a.data,i=a.slots,l=a.parent;(0,h.Z)(o);var u=(0,m.Z)(i(),e);return r.autocomplete&&(0,n.Rn)("<v-select autocomplete>","<v-autocomplete>",g,l),r.combobox&&(0,n.Rn)("<v-select combobox>","<v-combobox>",g,l),r.tags&&(0,n.Rn)("<v-select tags>","<v-combobox multiple>",g,l),r.overflow&&(0,n.Rn)("<v-select overflow>","<v-overflow-btn>",g,l),r.segmented&&(0,n.Rn)("<v-select segmented>","<v-overflow-btn segmented>",g,l),r.editable&&(0,n.Rn)("<v-select editable>","<v-overflow-btn editable>",g,l),o.attrs=o.attrs||{},r.combobox||r.tags?(o.attrs.multiple=r.tags,e(p,o,u)):r.autocomplete?(o.attrs.multiple=r.multiple,e(s,o,u)):r.overflow||r.segmented||r.editable?(o.attrs.segmented=r.segmented,o.attrs.editable=r.editable,e(c,o,u)):(o.attrs.multiple=r.multiple,e(t.Z,o,u))}};const b=g},6189:(e,a,r)=>{e.exports=r.p+"img/secretaria-salud-1920-200x.3372a166.png"}}]);