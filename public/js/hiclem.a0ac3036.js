"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[8485],{37959:function(a,t,e){e.r(t),e.d(t,{default:function(){return at}});var o=e(21999),i=e(28383),s=e(3150),r=e(1899),l=e(37471),n=e(48122),c=e(81851),d=e(34172),u=e(41614),p=e(21527),h=e(69155),m=e(17912),g=e(55731),v=e(57e3),f=function(){var a=this,t=a._self._c;return t(n.A,{attrs:{fluid:"","grid-list-xs":""}},[t(h.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:""}},[t(u.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.A,{staticClass:"cuarto darken-2"},[t(r.OQ,{staticClass:"white--text text-xs-center text-uppercase"},[a._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1),t(u.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.A,{staticClass:"cuarto darken-1"},[t(r.OQ,{staticClass:"white--text text-xs-center"},[a._v("====== ====== BUSCAR ====== ======")])],1),t(s.A,{staticClass:"elevation-6 grey lighten-2"},[t(u.A,{attrs:{xs12:""},on:{keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.recargarDataTable(a.filtroPacientes)}}},[t("formFiltroPaciente",{attrs:{filtro:a.filtroPacientes}})],1),t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(g.hc),t(g.hc),t(g.hc),t(i.A,{staticClass:"white--text cuarto darken-2",attrs:{round:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.recargarDataTable(a.filtroPacientes)}}},[a._v("Buscar ")]),t(g.hc)],1)],1)],1),t(u.A,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[t(l.A,{staticClass:"title text-capitalize white--text terciary elevation-6"},[t(p.A,{attrs:{large:"",color:"white",left:""}},[a._v("personal_injury")]),a._v(" Pacientes "),t(g.hc),t(d.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(v.W,{attrs:{clearable:"","append-icon":"search",label:"Filtrar de la Busqueda","single-line":"","hide-details":"",color:"grey lighten-3 "},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),t(h.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t(u.A,{attrs:{xs12:"",sm7:"","pa-2":""}},[t(h.A,{attrs:{"align-left":"","justify-left":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:""}},[t(p.A,{attrs:{color:"terciary darken-2",left:""}},[a._v("fas fa-user-edit")]),t("span",{staticClass:"body-2 black--text"},[a._v("Actualizar Informacion del Paciente")])],1),t(u.A,{attrs:{xs12:"","pt-1":""}},[t(p.A,{attrs:{color:"orange darken-2",left:""}},[a._v("fa-book-medical")]),t("span",{staticClass:"body-2 black--text"},[a._v("Ver Historial Clinico del Paciente")])],1)],1)],1),t(g.hc),t(d.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(i.A,{staticClass:"white--text terciary darken-1",attrs:{round:"",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogPaciente({state:!0})}}},[a._v("Alta Nuevo Paciente")])],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTable,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"title text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"title text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item)},[t("td",{staticClass:"px-0"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{staticClass:"text-xs-center",attrs:{xs12:"",sm6:""}},[t(i.A,{attrs:{flat:"",icon:"",disabled:a.loading.estado,color:"terciary"},on:{click:function(t){return a.actualizarDialogPaciente({state:!0,id:e.item._id})}}},[t(p.A,[a._v("fas fa-user-edit")])],1)],1),t(u.A,{staticClass:"text-xs-center",attrs:{xs12:"",sm6:""}},[t(i.A,{attrs:{flat:"",icon:"",disabled:a.loading.estado,color:"orange darken-2"},on:{click:function(t){return a.actualizarDialogHistorial({state:!0,id:e.item._id})}}},[t(p.A,[a._v("fa-book-medical")])],1)],1)],1)],1),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.nombreC))]),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.fec_nac))]),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.documentoC))]),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.direccion))]),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.dir_localidad))]),t("td",{staticClass:"text-sm-left px-2"},[a._v(a._s(e.item.telefono))])])]}}])},[t(m.A,{attrs:{color:"green",indeterminate:""}})],1)],1),t("dialogPaciente",{attrs:{closeFinish:a.recargarDataTable}}),t("dialogHistorial",{attrs:{closeFinish:a.recargarDataTable}})],1)],1)},b=[],x=(e(64979),e(71678),e(95353)),y=e(10891),_=e(13546),A=e(79305),C=e(28921),k=e(21939),w=e(70134),M=function(){var a=this,t=a._self._c;return t(A.A,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:a.dialogHistorial.state,callback:function(t){a.$set(a.dialogHistorial,"state",t)},expression:"dialogHistorial.state"}},[t(s.A,{staticClass:"dialog-draggable-window"},[t(w.A,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.A,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold black--text text--darken-2 dialog-draggable"},[a._v("Historial Clinico")]),t(g.hc),t(p.A,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(s.A,[t(r.OQ,{staticClass:"ma-0 pa-0"},[t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""},model:{value:a.expandPanelHead,callback:function(t){a.expandPanelHead=t},expression:"expandPanelHead"}},[t("expandPacienteData",{attrs:{expandOpen:0===a.expandPanelHead||a.expandPanelHead?.[0],pacienteId:a.dataEdit.paciente,pacienteNombreDocumento:` ${a.dialogHistorial.paciente?.nombreC}. Edad: ${a.dialogHistorial.paciente?.edad?.formatString} ${a.dialogHistorial.paciente?.documentoC?`(${a.dialogHistorial.paciente?.documentoC})`:""}`}})],1)],1)],1)],1),t(d.A),t(r.OQ,{staticClass:"ma-0 pa-1"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(k.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"","px-3":"",terciary:"","darken-3":""}},[t("h4",{staticClass:"title float: left white--text"},[a._v("Historial Clinico General")])])],1),t("formHistorial",{attrs:{historial_unico:a.dataEdit,historial_previo:a.historial_previo,sexo:a.dialogHistorial.paciente?.sexo,edad_years:a.dialogHistorial.paciente?.edad?.edad_years,refreshState:a.dialogHistorial.state&&a.refreshHistorial,soloLectura:a.dialogHistorial.soloLectura}})],1),t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandVacunaciones",{attrs:{iconColor:"purple",expandOpen:0===a.expandPanel||a.expandPanel?.[0],pacienteId:a.dataEdit.paciente}}),t("expandMotivos",{directives:[{name:"show",rawName:"v-show",value:"ADMIN_ROLE"===a.persona.role,expression:"persona.role === 'ADMIN_ROLE'"}],attrs:{pacienteNombreDocumento:"[EN DESARROLLO]",expandOpen:1===a.expandPanel||a.expandPanel?.[1],pacienteId:a.dataEdit.paciente,refresh:a.recargarPaciente}}),t("expandMedicacion",{directives:[{name:"show",rawName:"v-show",value:"ADMIN_ROLE"===a.persona.role,expression:"persona.role === 'ADMIN_ROLE'"}],attrs:{pacienteNombreDocumento:"[EN DESARROLLO]",expandOpen:2===a.expandPanel||a.expandPanel?.[2],pacienteId:a.dataEdit.paciente,refresh:a.recargarPaciente}}),t("expandInsumosRecibidos",{attrs:{iconColor:"cyan darken-2",expandOpen:3===a.expandPanel||a.expandPanel?.[3],pacienteId:a.dataEdit.paciente}})],1)],1),"ADMIN_ROLE"===a.persona.role?t(u.A,{attrs:{xs12:"","px-3":""}},[t("pre",[a._v("            // DESARROLLAR RESUMEN expand    Coberturas Medicas\n            // DESARROLLAR RESUMEN expand    Antropometria\n            // DESARROLLAR RESUMEN expand    Signos Vitales\n            // DESARROLLAR RESUMEN expand    Medicacion\n          ")])]):a._e()],1)],1),t(d.A),t(r.SL,[t(h.A,{attrs:{row:"",wrap:""}},[t(g.hc),t(i.A,{staticClass:"red darken-1 white--text",attrs:{disabled:a.loading.estado,loading:a.loading.estado,round:""},on:{click:a.close}},[t(p.A,{attrs:{left:""}},[a._v("cancel_presentation")]),a._v("Cerrar ")],1),t(i.A,{class:(a.valido?"terciary darken-1":"yellow darken-3")+" white--text",attrs:{disabled:a.dialogHistorial.soloLectura||a.loading.estado,loading:a.loading.estado,round:""},on:{click:function(t){return a.guardarHistorial({data:a.dataEdit,validate:a.$refs.form.validate,finish:a.recargarPaciente})}}},[t(p.A,{attrs:{left:""}},[a._v("save")]),a._v(a._s(a.valido?"Guardar Cambios":"Faltan Datos")+" ")],1)],1)],1)],1)],1)},E=[],D=e(76139),P=e(24496),H=function(){var a=this,t=a._self._c;return t(P.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(D.A,{staticClass:"grey lighten-2 mr-2 mb-1",attrs:{size:"38px"}},[t(p.A,{staticStyle:{height:"30px",width:"30px"},attrs:{color:`${a.iconColor??"black"}`}},[a._v("person")])],1),t("b",[a._v(a._s(a.pacienteNombreDocumento?`${a.pacienteNombreDocumento}`:"Datos Paciente")+" ")]),t(d.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"grey lighten-4 pa-0"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.nombreC??"S/D"}`,"prepend-icon":"person",label:"Apellido, Nombre",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.documentoC??"S/D"}`,"prepend-icon":"far fa-id-card",label:"Documento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.fec_nac??"S/D"}`,"prepend-icon":"event",label:"Fec. Nacimiento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.telefono??"S/D"}`,"prepend-icon":"phone",label:"Telefono",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.direccion??"S/D"}`,"prepend-icon":"home",label:"Domicilio",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{value:`${a.pacienteDB?.dir_localidad??"S/D"}`,"prepend-icon":"fas fa-city",label:"Localidad",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1)],1)],1)],1)],1)},L=[],S={name:"expandPacienteData",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor"],data(){return{pacienteDB:{}}},computed:{...(0,x.aH)("hiclem",["dialogHistorial"])},watch:{async expandOpen(a){a&&this.pacienteId&&(this.pacienteDB=(await this.buscarPacienteFiltros({filtro:{_id:this.pacienteId},select:"nombre apellido documento tipo_doc doc_responsable fec_nac telefono dir_calle dir_numero dir_localidad estado sexo",limite:1}))?.[0]??{})},async pacienteId(a){a&&this.expandOpen&&(this.pacienteDB=(await this.buscarPacienteFiltros({filtro:{_id:this.pacienteId},select:"nombre apellido documento tipo_doc doc_responsable fec_nac telefono dir_calle dir_numero dir_localidad estado sexo",limite:1}))?.[0]??{})}},methods:{...(0,x.i0)("paciente",["buscarPacienteFiltros"])}},N=S,$=e(81656),I=(0,$.A)(N,H,L,!1,null,null,null),O=I.exports,F=e(35367),z=e(20007),T=e(28597),B=e(17087),j=function(){var a=this,t=a._self._c;return t(P.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(D.A,{staticClass:"mr-2 mb-1",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.A,{staticStyle:{height:"26px",width:"26px"},attrs:{color:`${a.iconColor??"orange darken-2"}`}},[a._v("fa-book-medical")])],1),t("b",[a._v(" Motivos de Atencion (Consultas)"+a._s(a.pacienteNombreDocumento?`: ${a.pacienteNombreDocumento}`:"")+" ")]),t(d.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"terciary lighten-2"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"","mx-3":""}},[t(l.A,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.A,{attrs:{xs12:"",sm4:""}},[t(T.A,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltroEstado,label:"Mostrar Motivos"},model:{value:a.filtroEstado,callback:function(t){a.filtroEstado=t},expression:"filtroEstado"}})],1),t(u.A,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogMotivoHistorial({state:!0})}}},[a._v("Nuevo Motivo")])],1),t(u.A,{attrs:{xs12:"",sm4:""}},[t(v.W,{attrs:{dark:"",clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogMotivoHistorial({state:!0,motivo:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(m.A,{attrs:{color:"terciary",indeterminate:""}})],1)],1),t(u.A,{attrs:{xs12:"","mx-3":""}},[t(B.A,{attrs:{right:"","close-delay":"0"},scopedSlots:a._u([{key:"activator",fn:function({on:e}){return[t("b",{staticStyle:{cursor:"pointer"},on:{click:function(t){a.showTooltip=!a.showTooltip}}},[a._v("Informacion de Colores en Motivos"),t(p.A,a._g({staticStyle:{transform:"rotate(180deg)"},attrs:{medium:"",color:"orange lighten-4",right:""}},e),[a._v("info_outline")])],1)]}}]),model:{value:a.showTooltip,callback:function(t){a.showTooltip=t},expression:"showTooltip"}},[t("pre",[a._v("Activos:\n  "),t("span",{staticClass:"black--text background-color: red lighten-3",staticStyle:{"font-weight":"bold"}},[a._v("Critica: Rojo")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: orange lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Moderada: Amarillo")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: green lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Leve: Verde")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: grey lighten-2",staticStyle:{"font-weight":"bold"}},[a._v("Incapaz de evaluar: Gris")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Finalizado: Celeste")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue",staticStyle:{"font-weight":"bold"}},[a._v("Abandonado: Azul")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-2",staticStyle:{"font-weight":"bold"}},[a._v("Suspendido: Azul Claro")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue darken-2",staticStyle:{"font-weight":"bold"}},[a._v("Cancelado: Azul Oscuro")])])])],1)],1)],1)],1),t("dialogMotivo",{attrs:{closeFinish:a.closeMotivo}})],1)},R=[],q=function(){var a=this,t=a._self._c;return t(A.A,{attrs:{"max-width":"85%",persistent:"",scrollable:""},model:{value:a.dialogMotivoHistorial.state,callback:function(t){a.$set(a.dialogMotivoHistorial,"state",t)},expression:"dialogMotivoHistorial.state"}},[t(s.A,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(w.A,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.A,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Motivo")]),t(g.hc),t(p.A,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.OQ,[t(k.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.A,{attrs:{"grid-list-md":""}},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a.dataEdit.id?t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""}},[t("expandPacienteData")],1)],1):a._e(),t("formMotivo",{attrs:{motivo:a.dataEdit}}),a.dataEdit.id?t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandConsulta",{attrs:{expandOpen:0===a.expandPanel||a.expandPanel?.[0]}})],1)],1):a._e(),a.dataEdit.id&&"ADMIN_ROLE"===a.persona.role?t(u.A,{attrs:{xs12:"","px-3":""}},[t("pre",[a._v("                // Desarrollar Estudios / Contra-Referencias\n                // Desarrollar Medicamentos\n              ")])]):a._e()],1)],1)],1)],1),t(r.SL,[t(h.A,{attrs:{row:"",wrap:""}},[t(g.hc),t(i.A,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.A,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogMotivoHistorial.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialMotivo()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},V=[],J=e(81737),W=e(45621),G=function(){var a=this,t=a._self._c;return t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogMotivoHistorial.soloLectura,value:a.motivo.createdAt,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha de Inicio",icon:"event",requerido:!0,min:"",max:a.hoy,filtro:""},model:{value:a.motivo.createdAt,callback:function(t){a.$set(a.motivo,"createdAt",t)},expression:"motivo.createdAt"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_severidad,label:"Severidad","prepend-icon":"traffic",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.severidad=null))}},model:{value:a.motivo.severidad,callback:function(t){a.$set(a.motivo,"severidad",t)},expression:"motivo.severidad"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_especialidad,label:"Especialidad del Motivo","prepend-icon":"fas fa-stethoscope",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.motivo_especialidad=null))}},model:{value:a.motivo.motivo_especialidad,callback:function(t){a.$set(a.motivo,"motivo_especialidad",t)},expression:"motivo.motivo_especialidad"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:a.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.profesional=null))}},model:{value:a.motivo.profesional,callback:function(t){a.$set(a.motivo,"profesional",t)},expression:"motivo.profesional"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_estado,label:"Estado","prepend-icon":"fas fa-tasks",rules:[...a.rules.requerido]},model:{value:a.motivo.estado,callback:function(t){a.$set(a.motivo,"estado",t)},expression:"motivo.estado"}})],1),"Activo"!=a.motivo.estado?t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogMotivoHistorial.soloLectura,value:a.motivo.estadoFecha,"background-color":"terciary lighten-5",color:"terciary",label:`Fecha de ${a.motivo.estado}`,icon:"event",requerido:!0,min:"",max:a.hoy,filtro:"",rules:[...a.rules.requerido]},model:{value:a.motivo.estadoFecha,callback:function(t){a.$set(a.motivo,"estadoFecha",t)},expression:"motivo.estadoFecha"}})],1):a._e(),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.A,{attrs:{xs12:"","px-3":""}},[t(J.A,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsActividadesJson,label:"Descripcion / Sintomas / Programas de control","prepend-icon":"fact_check",rules:[...a.rules.requerido],"auto-grow":"",rows:"2"},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.actividad=null))}},model:{value:a.motivo.descripcion,callback:function(t){a.$set(a.motivo,"descripcion",t)},expression:"motivo.descripcion"}})],1),t(u.A,{attrs:{xs12:"","mx-3":""}},[t(W.A,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Evolucion",color:"terciary","prepend-icon":"fa-book-medical"},model:{value:a.motivo.evolucion,callback:function(t){a.$set(a.motivo,"evolucion",t)},expression:"motivo.evolucion"}})],1),t(u.A,{attrs:{xs12:"","mx-3":""}},[t(W.A,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Diagnostico",color:"terciary","prepend-icon":"fas fa-comment-medical"},model:{value:a.motivo.diagnostico,callback:function(t){a.$set(a.motivo,"diagnostico",t)},expression:"motivo.diagnostico"}})],1)],1)},Q=[],Y=e(81255),U={name:"formMotivo",components:{dateSelect:Y.A},props:["motivo"],data(){return{profesionalesDB:[],optionsJson:{}}},computed:{...(0,x.aH)(["hoy","rules"]),...(0,x.aH)("hiclem",["dialogMotivoHistorial"]),optionsActividadesJson(){return this.motivo.motivo_especialidad&&this.optionsJson.motivo_actividades?this.optionsJson.motivo_actividades[this.motivo.motivo_especialidad]:[]}},watch:{async"dialogMotivoHistorial.state"(a){a&&setTimeout((async()=>{this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})}),350)},"motivo.estado"(a){"Activo"==a&&(this.motivo.estadoFecha="")}},methods:{...(0,x.i0)(["returnOptionsJSON"]),...(0,x.i0)("profesional",["cargarProfesionalesBusqueda"])}},Z=U,K=(0,$.A)(Z,G,Q,!1,null,null,null),X=K.exports,aa=function(){var a=this,t=a._self._c;return t(P.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(D.A,{staticClass:"mr-2 mb-1",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.A,{staticStyle:{height:"28px",width:"28px"},attrs:{color:`${a.iconColor??"orange darken-2"}`}},[a._v("fa-book-medical")])],1),t("b",[a._v(" Consultas"+a._s(a.pacienteNombreDocumento?`: ${a.pacienteNombreDocumento}`:"")+" ")]),t(d.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"terciary lighten-2"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"","mx-3":""}},[t(l.A,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.A,{attrs:{xs12:"",sm4:""}},[t(T.A,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltros,label:"Mostrar Especialidad"},model:{value:a.filtro,callback:function(t){a.filtro=t},expression:"filtro"}})],1),t(u.A,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogConsultaMotivo({state:!0})}}},[a._v("Nueva Consulta")])],1),t(u.A,{attrs:{xs12:"",sm4:""}},[t(v.W,{attrs:{dark:"",clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item.consulta),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogConsultaMotivo({state:!0,consulta:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(m.A,{attrs:{color:"terciary",indeterminate:""}})],1)],1)],1)],1)],1),t("dialogConsulta",{attrs:{closeFinish:a.buscarConsultasMotivo}})],1)},ta=[],ea=(e(44114),function(){var a=this,t=a._self._c;return t(A.A,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:a.dialogConsultaMotivo.state,callback:function(t){a.$set(a.dialogConsultaMotivo,"state",t)},expression:"dialogConsultaMotivo.state"}},[t(s.A,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(w.A,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.A,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Consulta")]),t(g.hc),t(p.A,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.OQ,[t(k.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.A,{attrs:{"grid-list-md":""}},[t(h.A,{attrs:{wrap:""}},[t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandPacienteData",{attrs:{expandOpen:0===a.expandPanel||a.expandPanel?.[0]}}),t("expandMedicacion",{attrs:{expandOpen:1===a.expandPanel||a.expandPanel?.[1]}})],1)],1),t(u.A,{attrs:{xs12:""}},[t("formConsulta",{attrs:{dataEdit:a.dataEdit,dataEditBase:a.dataEditBase}})],1),"Nutricion"===a.dataEdit.especialidad?t(u.A,{attrs:{xs12:""}},[t("formNutricion",{attrs:{dataEdit:a.dataEdit,dataEditBase:a.dataEditBase}})],1):a._e(),"Diabetes"===a.dataEdit.especialidad?t(u.A,{attrs:{xs12:""}},[t("pre",[a._v("                Desarrollando especialidad Diabetes Hoja 2.\n                  Medicamentos. (Cambios de medicacion[autoCargar en Medicamentos])\n                  HA1C. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Fondo de Ojo. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Funcion Renal. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Ecocardiograma. (se solicito el estudio[autoCargar en estudios] o el resultado)\n              ")])]):a._e()],1)],1)],1)],1),t(r.SL,[t(h.A,{attrs:{row:"",wrap:""}},[t(g.hc),t(i.A,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.A,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogConsultaMotivo.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialConsulta()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)}),oa=[],ia=function(){var a=this,t=a._self._c;return t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"cake",label:"Edad",type:"number",color:"cuarto","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumero,a.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Nacimiento.","persistent-hint":""},model:{value:a.consulta.edad_años,callback:function(t){a.$set(a.consulta,"edad_años",t)},expression:"consulta.edad_años"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-venus-mars",label:"Sexo",type:"text",color:"cuarto","validate-on-blur":"",rules:[...a.rules.requerido]},model:{value:a.consulta.sexo,callback:function(t){a.$set(a.consulta,"sexo",t)},expression:"consulta.sexo"}})],1),t(u.A,{attrs:{xs12:"",sm2:"","px-3":""}}),t(u.A,{attrs:{xs12:"",sm8:"","px-3":""}},[t(J.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","item-value":"area","item-text":"area",items:a.unidadesAtencionDB,label:"Derivado de... (Opcional)","prepend-icon":"fas fa-hand-holding-medical",color:"terciary","return-object":!1},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.derivado=null))}},model:{value:a.consulta.derivado,callback:function(t){a.$set(a.consulta,"derivado",t)},expression:"consulta.derivado"}})],1),t(u.A,{attrs:{xs12:"",sm2:"","px-3":""}}),a.consulta.derivado?t(u.A,{attrs:{xs12:"","px-3":""}},[t(W.A,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","auto-grow":"",label:"Motivo de Referencia",color:"terciary","prepend-icon":"fact_check",rows:"2",rules:[...a.rules.requerido]},model:{value:a.consulta.motivoReferencia,callback:function(t){a.$set(a.consulta,"motivoReferencia",t)},expression:"consulta.motivoReferencia"}})],1):a._e(),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","item-value":"id","item-text":"area",items:a.unidadesAtencionDB,label:"Lugar de Atencion","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.area=null))}},model:{value:a.consulta.area,callback:function(t){a.$set(a.consulta,"area",t)},expression:"consulta.area"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogConsultaMotivo.soloLectura,value:a.consulta.fecha,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha",icon:"event",requerido:!0,min:"",max:a.hoy,filtro:""},model:{value:a.consulta.fecha,callback:function(t){a.$set(a.consulta,"fecha",t)},expression:"consulta.fecha"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_especialidad,label:"Especialidad de la Consulta","prepend-icon":"fas fa-stethoscope",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.especialidad=null))},change:a.resetForm},model:{value:a.consulta.especialidad,callback:function(t){a.$set(a.consulta,"especialidad",t)},expression:"consulta.especialidad"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(T.A,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:a.optionsActividadesJson,label:"Actividad de la Consulta","prepend-icon":"home_repair_service",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.actividad=null))}},model:{value:a.consulta.actividad,callback:function(t){a.$set(a.consulta,"actividad",t)},expression:"consulta.actividad"}})],1),t(u.A,{attrs:{xs12:"","px-3":""}},[t(T.A,{staticClass:"capitalizar text-capitalize",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:a.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...a.rules.requerido],"menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.profesional=[]))}},scopedSlots:a._u([{key:"item",fn:function(e){return[t("label",{staticStyle:{"text-transform":"capitalize",cursor:"pointer"}},[t(p.A,{attrs:{left:"",color:a.consulta&&a.consulta.profesional&&e.item.id&&-1!==a.consulta.profesional.indexOf(e.item.id)?"terciary":"black"}},[a._v(a._s(a.consulta&&a.consulta.profesional&&e.item.id&&-1!==a.consulta.profesional.indexOf(e.item.id)?"check_box":"check_box_outline_blank"))]),a._v(" "+a._s(e.item.nombreC)+" ")],1)]}}]),model:{value:a.consulta.profesional,callback:function(t){a.$set(a.consulta,"profesional",t)},expression:"consulta.profesional"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.A,{attrs:{xs12:"","mx-3":""}},[t(W.A,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","auto-grow":"",rows:"2",label:"Observacion",color:"terciary","prepend-icon":"visibility"},model:{value:a.consulta.observacion,callback:function(t){a.$set(a.consulta,"observacion",t)},expression:"consulta.observacion"}})],1)],1)},sa=[],ra={name:"formConsulta",components:{dateSelect:Y.A},props:["dataEdit","dataEditBase"],data(){return{profesionalesDB:[],unidadesAtencionDB:[],optionsJson:{}}},computed:{...(0,x.aH)(["hoy","rules"]),...(0,x.aH)("hiclem",["dialogConsultaMotivo"]),consulta(){return this.dataEdit},optionsActividadesJson(){return this.consulta.especialidad&&this.optionsJson.consulta_actividades?this.optionsJson.consulta_actividades[this.consulta.especialidad]:[]}},watch:{async"dialogConsultaMotivo.state"(a){a&&setTimeout((async()=>{this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.unidadesAtencionDB.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))}),350)},"consulta.derivado"(a){a||(this.consulta.motivoReferencia="")}},methods:{...(0,x.i0)(["returnOptionsJSON"]),...(0,x.i0)("main",["buscarAreaFiltros"]),...(0,x.i0)("profesional",["cargarProfesionalesBusqueda"]),resetForm(a){a&&(this.consulta.actividad=null);for(const t in this.consulta)Object.hasOwnProperty.call(this.consulta,t)&&(Object.keys(this.dataEditBase).includes(t)||delete this.consulta[t])}}},la=ra,na=(0,$.A)(la,ia,sa,!1,null,null,null),ca=na.exports,da=e(16717),ua=e(87202),pa=function(){var a=this,t=a._self._c;return"Nutricionista"===a.consulta.actividad?t(h.A,{staticClass:"grey lighten-3",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a.consulta.embarazada_semana?t(u.A,{attrs:{xs12:"",sm3:"","px-3":""}}):a._e(),a.consulta.embarazada_semana?t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"pregnant_woman",label:"Embarazada Semana",type:"number",color:"cuarto","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Embarazo (Historial Gral)","persistent-hint":""},model:{value:a.consulta.embarazada_semana,callback:function(t){a.$set(a.consulta,"embarazada_semana",t)},expression:"consulta.embarazada_semana"}})],1):a._e(),a.consulta.embarazada_semana?t(u.A,{attrs:{xs12:"",sm3:"","px-3":""}}):a._e(),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(ua.d,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJson.consulta_presentacion,label:"Presentacion","prepend-icon":"fact_check",color:"terciary",rules:[...a.rules.requerido]},model:{value:a.consulta.tipo_presentacion,callback:function(t){a.$set(a.consulta,"tipo_presentacion",t)},expression:"consulta.tipo_presentacion"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(da.A,{attrs:{readonly:"","background-color":"cuarto lighten-5",color:"cuarto","prepend-icon":"smoking_rooms",label:"Fuma: "+(a.consulta.fuma?"Si":"No"),hint:"Muestra el valor del Historial Gral.","persistent-hint":""},model:{value:a.consulta.fuma,callback:function(t){a.$set(a.consulta,"fuma",t)},expression:"consulta.fuma"}})],1),t(u.A,{attrs:{xs12:"","px-3":""}},[t(ua.d,{attrs:{readonly:"","background-color":"cuarto lighten-5",items:a.optionsJson.consulta_antecedentes,label:"Antecedentes Patologicos","prepend-icon":"fas fa-diagnoses",color:"cuarto",multiple:"",hint:"Muestra valores del Historial Gral.","persistent-hint":""},model:{value:a.consulta.antecedentes_patologicos,callback:function(t){a.$set(a.consulta,"antecedentes_patologicos",t)},expression:"consulta.antecedentes_patologicos"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Diastolica (Baja) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.tension_arterial_diastolica,callback:function(t){a.$set(a.consulta,"tension_arterial_diastolica",t)},expression:"consulta.tension_arterial_diastolica"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Sistolica (Alta) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.tension_arterial_sistolica,callback:function(t){a.$set(a.consulta,"tension_arterial_sistolica",t)},expression:"consulta.tension_arterial_sistolica"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-stroopwafel",label:"Colesterol [mg/dl]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.colesterol,callback:function(t){a.$set(a.consulta,"colesterol",t)},expression:"consulta.colesterol"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(ua.d,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":a.colorCardio,items:a.optionsJsonNutricion.consulta_riesgo_cardiovascular_colesterol,label:"Riesgo Cardiovascular Colesterol [%]","prepend-icon":"heart_broken",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido]},model:{value:a.consulta.riesgo_cardiovascular_colesterol,callback:function(t){a.$set(a.consulta,"riesgo_cardiovascular_colesterol",t)},expression:"consulta.riesgo_cardiovascular_colesterol"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-arrows-alt-v",label:"Talla [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.talla,callback:function(t){a.$set(a.consulta,"talla",t)},expression:"consulta.talla"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.peso,callback:function(t){a.$set(a.consulta,"peso",t)},expression:"consulta.peso"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"radio_button_unchecked",label:"Cintura [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.cintura,callback:function(t){a.$set(a.consulta,"cintura",t)},expression:"consulta.cintura"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",type:"number",color:"cuarto",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)],hint:"Se autocalcula con la Talla y el Peso.","persistent-hint":""},model:{value:a.consulta.IMC,callback:function(t){a.$set(a.consulta,"IMC",t)},expression:"consulta.IMC"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(ua.d,{attrs:{readonly:"","background-color":`${a.colorDiagnostic}`,"prepend-icon":"visibility",items:a.optionsJsonNutricion.consulta_diagnostico,label:"Diagnostico",color:"cuarto",hint:"Se autocalcula con el IMC.","persistent-hint":""},model:{value:a.consulta.diagnostico,callback:function(t){a.$set(a.consulta,"diagnostico",t)},expression:"consulta.diagnostico"}})],1),a.consulta.edad_años&&a.consulta.edad_años<=19?t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(ua.d,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_puntaje_z,label:"Puntaje Z","prepend-icon":"Z",color:"terciary"},model:{value:a.consulta.puntaje_z,callback:function(t){a.$set(a.consulta,"puntaje_z",t)},expression:"consulta.puntaje_z"}})],1):t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.A,{attrs:{xs12:"","px-3":""}},[t(ua.d,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_habitos_saludables,label:"Habitos Saludables","prepend-icon":"fas fa-leaf",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:a.consulta.habitos_saludables,callback:function(t){a.$set(a.consulta,"habitos_saludables",t)},expression:"consulta.habitos_saludables"}})],1),t(u.A,{attrs:{xs12:"","px-3":""}},[t(ua.d,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_habitos_no_saludables,label:"Habitos No Saludables","prepend-icon":"fastfood",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:a.consulta.habitos_no_saludables,callback:function(t){a.$set(a.consulta,"habitos_no_saludables",t)},expression:"consulta.habitos_no_saludables"}})],1)],1):a._e()},ha=[],ma={name:"formNutricion",components:{},props:["dataEdit","dataEditBase"],data(){return{colorDiagnostic:"cuarto lighten-5",optionsJson:{},optionsJsonNutricion:{}}},computed:{...(0,x.aH)(["rules"]),...(0,x.aH)("hiclem",["dialogConsultaMotivo","dialogHistorial"]),consulta(){return this.dataEdit.peso&&this.dataEdit.talla?(this.$set(this.dataEdit,"IMC",(this.dataEdit.peso/1e3/(this.dataEdit.talla/100)**2).toFixed(2)),this.dataEdit.IMC<0?(this.$set(this.dataEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"):this.dataEdit.IMC<18.5?(this.$set(this.dataEdit,"diagnostico","Bajo Peso"),this.colorDiagnostic="yellow lighten-2"):this.dataEdit.IMC<25?(this.$set(this.dataEdit,"diagnostico","Normopeso"),this.colorDiagnostic="white"):this.dataEdit.IMC<30?(this.$set(this.dataEdit,"diagnostico","Sobrepeso"),this.colorDiagnostic="yellow lighten-2"):this.dataEdit.IMC<35?(this.$set(this.dataEdit,"diagnostico","Obesidad 1"),this.colorDiagnostic="orange lighten-2"):this.dataEdit.IMC<40?(this.$set(this.dataEdit,"diagnostico","Obesidad 2"),this.colorDiagnostic="red lighten-2"):(this.$set(this.dataEdit,"diagnostico","Obesidad Morbida"),this.colorDiagnostic="red")):(this.$set(this.dataEdit,"IMC",null),this.$set(this.dataEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"),this.dataEdit},colorCardio(){return this.dataEdit.riesgo_cardiovascular_colesterol?"menor a 10%"===this.dataEdit.riesgo_cardiovascular_colesterol?"white":"10-20%"===this.dataEdit.riesgo_cardiovascular_colesterol?"yellow lighten-2":"20-30%"===this.dataEdit.riesgo_cardiovascular_colesterol?"orange lighten-2":"30-40%"===this.dataEdit.riesgo_cardiovascular_colesterol?"red lighten-2":"red":"terciary lighten-5"}},watch:{"dataEdit.actividad"(a){if("Coordinador"!==a){let a=this.autoCalculoInicial();for(const t in a)Object.hasOwnProperty.call(a,t)&&this.$set(this.dataEdit,t,a[t]);return this.dataEdit}for(const t in this.dataEdit)if(Object.hasOwnProperty.call(this.dataEdit,t)&&!Object.keys(this.dataEditBase).includes(t))switch(typeof this.dataEdit[t]){case"object":if(Array.isArray(this.dataEdit[t])){this.$set(this.dataEdit,t,null);break}this.$set(this.dataEdit,t,null);break;case"string":case"number":case"boolean":this.$set(this.dataEdit,t,"");break;case"undefined":this.$set(this.dataEdit,t,null);break;default:this.$set(this.dataEdit,t,"")}}},async created(){this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.optionsJsonNutricion=await this.returnOptionsJSON({key:"hiclem",opcion:"nutricion"})},methods:{...(0,x.i0)(["returnOptionsJSON"]),autoCalculoInicial(){let a={};return a.antecedentes_patologicos=this.dataEdit.antecedentes_patologicos??this.dialogHistorial.historial.antecedentes_patologicos,a.fuma=this.dataEdit.fuma??this.dialogHistorial.historial.fuma,a.embarazada_semana=this.dataEdit.embarazada_semana,a}}},ga=ma,va=(0,$.A)(ga,pa,ha,!1,null,null,null),fa=va.exports,ba=function(){var a=this,t=a._self._c;return t(P.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(D.A,{staticClass:"mr-2 mb-1",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.A,{staticStyle:{height:"30px",width:"30px"},attrs:{color:`${a.iconColor??"cyan darken-2"}`}},[a._v("fa-solid fa-pills")])],1),t("b",[a._v(" Medicacion"+a._s(a.pacienteNombreDocumento?`: ${a.pacienteNombreDocumento}`:""))]),t(d.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"terciary lighten-2"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"","mx-3":""}},[t(l.A,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.A,{attrs:{xs12:"",sm4:""}},[t(T.A,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltroEstado,label:"Mostrar Medicacion"},model:{value:a.filtroEstado,callback:function(t){a.filtroEstado=t},expression:"filtroEstado"}})],1),t(u.A,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogMedicacion({state:!0})}}},[a._v("Nueva Medicacion")])],1),t(u.A,{attrs:{xs12:"",sm4:""}},[t(v.W,{attrs:{dark:"",clearable:"",color:"white","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogMedicacion({state:!0,medicacion:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(m.A,{attrs:{color:"terciary",indeterminate:""}})],1)],1),t(u.A,{attrs:{xs12:"","mx-3":""}},[t(B.A,{attrs:{right:"","close-delay":"0"},scopedSlots:a._u([{key:"activator",fn:function({on:e}){return[t("b",{staticStyle:{cursor:"pointer"},on:{click:function(t){a.showTooltip=!a.showTooltip}}},[a._v("Informacion de Colores en Medicacion"),t(p.A,a._g({staticStyle:{transform:"rotate(180deg)"},attrs:{medium:"",color:"orange lighten-4",right:""}},e),[a._v("info_outline")])],1)]}}]),model:{value:a.showTooltip,callback:function(t){a.showTooltip=t},expression:"showTooltip"}},[t("pre",[t("span",{staticClass:"black--text background-color: green lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Activo: Verde")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Finalizado: Celeste")]),a._v("\n"),t("span",{staticClass:"black--text background-color: orange lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Suspendido: Anaranjado")])])])],1)],1)],1)],1),t("dialogMedicacion",{attrs:{closeFinish:a.closeMedicacion}})],1)},xa=[],ya=function(){var a=this,t=a._self._c;return t(A.A,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:a.dialogMedicacion.state,callback:function(t){a.$set(a.dialogMedicacion,"state",t)},expression:"dialogMedicacion.state"}},[t(s.A,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(w.A,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.A,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"cyan darken-2"}},[a._v("fa-solid fa-pills")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Medicacion")]),t(g.hc),t(p.A,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.OQ,[t(k.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.A,{attrs:{"grid-list-md":""}},[t(h.A,{attrs:{wrap:""}},[t(u.A,{attrs:{xs12:""}},[t(C.A,{attrs:{focusable:""}},[t("expandPacienteData")],1)],1),t(u.A,{attrs:{xs12:""}},[a._v(" DESARROLLAR FORMULARIO MEDICACION (CONSOLIDADOS) "),t("br"),t("hr"),a._v(" dataEdit:"+a._s(a.dataEdit)+" ")])],1)],1)],1)],1),t(r.SL,[t(h.A,{attrs:{row:"",wrap:""}},[t(g.hc),t(i.A,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.A,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogMedicacion.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialMedicacion()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},_a=[],Aa={name:"dialogMedicacion",props:["closeFinish"],components:{expandPacienteData:O},data:()=>({valido:!0,dataEdit:{},dataEditBase:{_id:"",id:"",usuario_modifico:"",updatedAt:"",area:"",paciente:"",profesional:null,medicamento:"",fecha_inicio:"",fecha_declaracion_jurada:"",dias_declaracion_por_vencer:"",dias_declaracion_vencida:"",estado:""}}),computed:{...(0,x.aH)(["loading"]),...(0,x.aH)("hiclem",["dialogMedicacion"])},watch:{"dialogMedicacion.state"(a){a?setTimeout((async()=>{this.dialogMedicacion.medicacion?this.dataEdit=Object.assign({...this.dataEditBase},this.dialogMedicacion.medicacion):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.i0)(["requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogMedicacion"]),close(){this.actualizarDialogMedicacion({state:!1}),this.closeFinish?.()},async guardarHistorialMedicacion(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Guardando Medicacion..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/medicacion/guardar",update:a}),t?.data?.ok){let t=a._id?"Editada":"Guardada";return this.mostrarMensaje({msj:[`Consulta ${t} exitosamente.`],titulo:"Completado"}),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialMedicacion)"}),!1}finally{this.close(),this.ocultarLoading()}}}},Ca=Aa,ka=(0,$.A)(Ca,ya,_a,!1,null,null,null),wa=ka.exports,Ma={name:"expandMedicacion",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor","refresh"],components:{dialogMedicacion:wa},data(){return{showTooltip:!1,filtroEstado:null,opcionesFiltroEstado:[{text:"Todos",value:null}],dataTable:[],search:"",paginacion:{sortBy:"fecha_declaracion_jurada",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Declaracion Jurada",value:"fecha_declaracion_jurada",class:"text-sm-left",ruta:"fecha_declaracion_jurada",date:!0,width:"10%"},{text:"Medicamento",value:"medicamento.nombreC",class:"text-sm-left",ruta:"medicamento.nombreC",width:"50%"},{text:"Profesional",value:"profesional.nombreC",class:"text-sm-left",ruta:"profesional.nombreC",width:"30%"},{text:"Declaracion Vencida",value:"declaracion_vencida",class:"text-sm-left",ruta:"declaracion_vencida",date:!0,width:"10%"}]}},async created(){this.opcionesFiltroEstado=[{text:"Todos",value:null},...(await this.returnOptionsJSON({key:"hiclem",opcion:"base"})).medicamentos_estado]},computed:{...(0,x.aH)(["loading","persona"]),...(0,x.aH)("hiclem",["dialogHistorial"]),dataTableFilter(){let a=this.dataTable;return this.filtroEstado&&(a=this.dataTable.filter((a=>a.estado===this.filtroEstado))),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async expandOpen(a){a&&this.dialogHistorial.state&&this.dialogHistorial.id&&await this.buscarMedicacionesPaciente()}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.i0)(["returnOptionsJSON","requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogMedicacion"]),backgroundClass(a){if(!a)return"";try{return"Activo"===a.estado?"background-color: green lighten-4":"Finalizado"===a.estado?"background-color: blue lighten-4":"Suspendido"===a.estado?"background-color: orange lighten-4":"background-color: terciary lighten-5"}catch(t){return""}},async buscarMedicacionesPaciente(){try{if(this.mostrarLoading({titulo:"Buscando Medica (Motivos)..."}),!this.dialogHistorial.id)return this.mostrarError({mensaje:"buscarMedicacionesPaciente: El id del paciente es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/medicacion/buscar/${this.dialogHistorial.id}`,Error404:"no"});this.dataTable=a?.data?.medicaciones}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarMedicacionesPaciente)"}),null}finally{this.ocultarLoading()}},async closeMedicacion(){await(this.refresh?.()),await this.buscarMedicacionesPaciente()}}},Ea=Ma,Da=(0,$.A)(Ea,ba,xa,!1,null,null,null),Pa=Da.exports,Ha={name:"dialogConsulta",props:["closeFinish"],components:{expandPacienteData:O,formConsulta:ca,formNutricion:fa,expandMedicacion:Pa},data:()=>({expandPanel:null,valido:!0,dataEdit:{},dataEditBase:{id:"",_id:"",usuario_modifico:"",createdAt:"",updatedAt:"",profesional:null,paciente:"",motivo:"",especialidad:"","edad_años":"",sexo:"",area:null,fecha:"",actividad:"",observacion:"",derivado:"",motivoReferencia:""}}),computed:{...(0,x.aH)(["loading"]),...(0,x.aH)("hiclem",["dialogConsultaMotivo"])},watch:{"dialogConsultaMotivo.state"(a){a?setTimeout((async()=>{this.dialogConsultaMotivo.consulta?this.dataEdit=Object.assign({...this.dataEditBase},this.dialogConsultaMotivo.consulta):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.i0)(["requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogConsultaMotivo"]),close(){this.actualizarDialogConsultaMotivo({state:!1}),this.closeFinish?.()},async guardarHistorialConsulta(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Guardando Consulta..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/consulta/guardar",update:a}),t?.data?.ok){let t=a._id?"Editada":"Guardada";return this.mostrarMensaje({msj:[`Consulta ${t} exitosamente.`],titulo:"Completado"}),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialConsulta)"}),!1}finally{this.close(),this.ocultarLoading()}}}},La=Ha,Sa=(0,$.A)(La,ea,oa,!1,null,null,null),Na=Sa.exports,$a={name:"expandConsulta",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor"],components:{dialogConsulta:Na},data(){return{filtro:null,opcionesFiltros:[{text:"Todos",value:null},{text:"Nutricion",value:"Nutricion"}],dataTable:[],search:"",paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:5,page:1},headers_base:[{text:"Fecha",value:"fecha",class:"text-sm-left",ruta:"fecha",date:!0},{text:"Especialidad",value:"especialidad",class:"text-sm-left",ruta:"especialidad"},{text:"Actividad",value:"actividad",class:"text-sm-left",ruta:"actividad"},{text:"Observacion",value:"observacion",class:"text-sm-left",ruta:"observacion"}]}},computed:{...(0,x.aH)(["loading","persona"]),...(0,x.aH)("hiclem",["dialogMotivoHistorial"]),headers(){let a=this._cloneDeep(this.headers_base);return"Nutricion"===this.filtro?(a.push({text:"Talla [cm]",value:"talla",class:"text-sm-left",ruta:"talla"},{text:"Peso [gr]",value:"peso",class:"text-sm-left",ruta:"peso"},{text:"IMC",value:"IMC",class:"text-sm-left",ruta:"IMC"},{text:"Diagnostico",value:"diagnostico",class:"text-sm-left",ruta:"diagnostico"}),a):a},dataTableFilter(){let a=this.dataTable;return this.filtro&&(a=[...this.dataTable.filter((a=>a.especialidad===this.filtro))]),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async expandOpen(a){a&&this.dialogMotivoHistorial.state&&this.dialogMotivoHistorial.motivo?.id&&await this.buscarConsultasMotivo()}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.i0)(["requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogConsultaMotivo"]),backgroundClass(a){try{return a?"background-color: grey lighten-4":""}catch(t){return""}},async buscarConsultasMotivo(){try{if(this.mostrarLoading({titulo:"Buscando Consultas del Motivo..."}),!this.dialogMotivoHistorial.motivo?.id)return this.mostrarError({mensaje:"buscarConsultasMotivo: El id del motivo es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/consulta/buscar/${this.dialogMotivoHistorial.motivo.id}`,Error404:"no"});this.dataTable=a?.data?.consultas}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarConsultasMotivo)"}),null}finally{this.ocultarLoading()}}}},Ia=$a,Oa=(0,$.A)(Ia,aa,ta,!1,null,null,null),Fa=Oa.exports,za={name:"dialogMotivo",props:["closeFinish"],components:{expandPacienteData:O,formMotivo:X,expandConsulta:Fa},data:()=>({expandPanel:null,valido:!0,dataEdit:{},dataEditBase:{createdAt:"",paciente:"",profesional:"",estado:"Activo",estadoFecha:"",motivo_especialidad:"",severidad:"Incapaz de evaluar",descripcion:"",evolucion:"",diagnostico:""}}),computed:{...(0,x.aH)(["loading","persona","hoy"]),...(0,x.aH)("hiclem",["dialogMotivoHistorial"])},async created(){this.dataEditBase.createdAt=this.hoy},watch:{"dialogMotivoHistorial.state"(a){a?setTimeout((async()=>{this.dialogMotivoHistorial.motivo?this.dataEdit=this._cloneDeep(this.dialogMotivoHistorial.motivo):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.i0)(["requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogMotivoHistorial"]),close(){this.actualizarDialogMotivoHistorial({state:!1}),this.closeFinish?.()},async guardarHistorialMotivo(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Efectuando cambios..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/motivo/guardar",update:a}),t?.data?.ok){let t=a._id?"Editado":"Guardado";return this.mostrarMensaje({msj:[`Motivo ${t} exitosamente.`],titulo:"Completado"}),this.close(),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialMotivo)"}),!1}finally{this.ocultarLoading()}}}},Ta=za,Ba=(0,$.A)(Ta,q,V,!1,null,null,null),ja=Ba.exports,Ra={name:"expandMotivos",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor","refresh"],components:{dialogMotivo:ja},data(){return{showTooltip:!1,filtroEstado:null,opcionesFiltroEstado:[{text:"Todos",value:null}],dataTable:[],search:"",paginacion:{sortBy:"createdAt",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Fecha Inicial",value:"createdAt",class:"text-sm-left",ruta:"createdAt",date:!0,width:"10%"},{text:"Especialidad",value:"motivo_especialidad",class:"text-capitalize text-sm-left",ruta:"motivo_especialidad",width:"25%"},{text:"Descripcion / Sintomas / Programas de control",value:"descripcion",class:"text-sm-left",ruta:"descripcion",width:"55%"},{text:"Severidad",value:"severidad",class:"text-sm-left",ruta:"severidad",width:"10%"}]}},async created(){this.opcionesFiltroEstado=[{text:"Todos",value:null},...(await this.returnOptionsJSON({key:"hiclem",opcion:"base"})).motivo_estado]},computed:{...(0,x.aH)(["loading","persona"]),...(0,x.aH)("hiclem",["dialogHistorial"]),dataTableFilter(){let a=this.dataTable;return this.filtroEstado&&(a=this.dataTable.filter((a=>a.estado===this.filtroEstado))),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async expandOpen(a){a&&this.dialogHistorial.state&&this.dialogHistorial.id&&await this.buscarMotivosPaciente()}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.i0)(["returnOptionsJSON","requestAPI"]),...(0,x.i0)("hiclem",["actualizarDialogMotivoHistorial"]),backgroundClass(a){try{return a?"Activo"===a.estado?"Critica"===a.severidad?"background-color: red lighten-3":"Moderada"===a.severidad?"background-color: orange lighten-4":"Leve"===a.severidad?"background-color: green lighten-4":"Incapaz de evaluar"===a.severidad?"background-color: grey lighten-2":"background-color: terciary lighten-5":"Finalizado"===a.estado?"background-color: blue lighten-4":"Abandonado"===a.estado?"background-color: blue":"Suspendido"===a.estado?"background-color: blue lighten-2":"Cancelado"===a.estado?"background-color: blue darken-2":"background-color: terciary lighten-5":""}catch(t){return""}},async buscarMotivosPaciente(){try{if(this.mostrarLoading({titulo:"Buscando Historial (Motivos)..."}),!this.dialogHistorial.id)return this.mostrarError({mensaje:"buscarMotivosPaciente: El id del paciente es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/motivo/buscar/${this.dialogHistorial.id}`,Error404:"no"});this.dataTable=a?.data?.motivos}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarMotivosPaciente)"}),null}finally{this.ocultarLoading()}},async closeMotivo(){await(this.refresh?.()),await this.buscarMotivosPaciente()}}},qa=Ra,Va=(0,$.A)(qa,j,R,!1,null,null,null),Ja=Va.exports,Wa=e(86571),Ga={name:"dialogHistorial",props:["closeFinish"],components:{expandPacienteData:O,formHistorial:F.A,expandVacunaciones:z.A,expandMotivos:Ja,expandMedicacion:Pa,expandInsumosRecibidos:Wa.A},data:()=>({expandPanelHead:null,expandPanel:null,valido:!0,refreshHistorial:!1,dataEdit:{},historial_previo:{inmunodeprimida:"Sin Dato",fuma:"Sin Dato",riesgo:"Sin Dato",femenino:"Sin Dato"}}),computed:{...(0,x.aH)(["loading","persona"]),...(0,x.aH)("hiclem",["dialogHistorial","historialBase"])},watch:{async"dialogHistorial.state"(a){a?setTimeout((async()=>{this.dataEdit=structuredClone({...this.historialBase}),this.dialogHistorial.id?await this.recargarPaciente({resetValue:!0}):this.refreshHistorial=!0,this.$refs.form.resetValidation()}),350):(this.expandPanelHead=null,this.expandPanel=null,this.valido=!0,this.refreshHistorial=!1,this.dataEdit=structuredClone({...this.historialBase}),this.$refs.form.resetValidation())}},beforeMount(){this.dataEdit=structuredClone({...this.historialBase})},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.i0)(["requestAPI"]),...(0,x.i0)("paciente",["buscarPacienteFiltros"]),...(0,x.i0)("hiclem",["actualizarDialogHistorial","buscarHistorialPacienteId","guardarHistorial"]),close(){this.actualizarDialogHistorial({state:!1}),this.closeFinish?.()},async recargarPaciente({resetValue:a=!1}={}){this.refreshHistorial=!1;let t=(await this.buscarPacienteFiltros({filtro:{_id:this.dialogHistorial.id},select:"nombre apellido documento tipo_doc doc_responsable fec_nac telefono dir_calle dir_numero dir_localidad estado sexo",limite:1}))?.[0]??{};t=structuredClone({id:"",nombre:"",apellido:"",dir_calle:"",dir_numero:"",direccion:"",tipo_doc:"",documento:"",documentoC:"",telefono:"",fec_nac:"",dir_localidad:"",sexo:"",oSocial:"",oSocialNumero:"",edad:{edad_years:""},...t});let e=await this.buscarHistorialPacienteId({pacienteId:this.dialogHistorial.id});this.dataEdit=structuredClone({...this.dataEdit,...e}),e?(this.historial_previo.resetValue=a,this.historial_previo.inmunodeprimida=this.dataEdit.inmunodeprimida?"Si":"No",this.historial_previo.fuma=this.dataEdit.fuma?"Si":"No",this.historial_previo.riesgo=this.dataEdit.riesgo?"Si":"No","Femenino"===t.sexo&&t.edad?.edad_years>10&&(this.dataEdit.puerpera?(this.historial_previo.femenino="Puerpera",this.dataEdit.puerpera=a?null:this.dataEdit.puerpera):this.dataEdit.embarazada_semana?(this.historial_previo.femenino=`Semana de Embarazo ${this.dataEdit.embarazada_semana}`,this.dataEdit.embarazada_semana=a?"":this.dataEdit.embarazada_semana):this.historial_previo.femenino="Ninguna"),a&&t.edad?.edad_years>5?this.dataEdit=structuredClone({...this.dataEdit,inmunodeprimida:null,fuma:null,riesgo:null}):(null===this.dataEdit.inmunodeprimida&&(this.dataEdit.inmunodeprimida=!1),null===this.dataEdit.fuma&&(this.dataEdit.fuma=!1),null===this.dataEdit.riesgo&&(this.dataEdit.riesgo=!1))):this.historial_previo={inmunodeprimida:"Sin Dato",fuma:"Sin Dato",riesgo:"Sin Dato",femenino:"Sin Dato"},this.actualizarDialogHistorial({state:this.dialogHistorial.state,id:this.dialogHistorial.id,paciente:t,historial:e}),this.refreshHistorial=!0}}},Qa=Ga,Ya=(0,$.A)(Qa,M,E,!1,null,null,null),Ua=Ya.exports,Za={name:"clinicoBuscar",components:{formFiltroPaciente:y.A,dialogPaciente:_.A,dialogHistorial:Ua},data:()=>({dataTable:[],filtroPacientes:{apellido:"",nombre:"",documento:"",dir_barrio:"",dir_localidad:"",hist_salitas:{area:null,historial:""}},ultimoFiltro:!1,search:"",paginacion:{sortBy:"nombreC",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"_id",sortable:!1,width:"5%"},{text:"Nombre Completo",value:"nombreC",width:"25%"},{text:"Fec. Nac.",value:"fec_nac",width:"10%"},{text:"Documento",value:"documentoC",width:"10%"},{text:"Domicilio",value:"direccion",width:"25%"},{text:"Localidad",value:"dir_localidad",width:"10%"},{text:"Telefono",value:"telefono",width:"15%"}]}),computed:{...(0,x.aH)(["loading","persona"])},methods:{...(0,x.i0)("hiclem",["actualizarDialogHistorial"]),...(0,x.i0)("paciente",["actualizarDialogPaciente","buscarPacienteFiltros"]),backgroundClass(a){if(!a)return"";try{return a.estado?"background-color: terciary lighten-5":"background-color: error lighten-4"}catch(t){return""}},async recargarDataTable(a){if(a){let t=await this.buscarPacienteFiltros({filtro:a,select:"nombre apellido documento tipo_doc doc_responsable fec_nac telefono dir_calle dir_numero dir_localidad estado"});t&&(this.dataTable=t,this.filtroPacientes=structuredClone({...this.filtroPacientes,...a}),this.ultimoFiltro=structuredClone({...a}))}else this.ultimoFiltro&&(this.dataTable=await this.buscarPacienteFiltros({filtro:this.ultimoFiltro,select:"nombre apellido documento tipo_doc doc_responsable fec_nac telefono dir_calle dir_numero dir_localidad estado"}));this.paginacion.page>Math.ceil(this.dataTable?.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}}},Ka=Za,Xa=(0,$.A)(Ka,f,b,!1,null,null,null),at=Xa.exports},86571:function(a,t,e){e.d(t,{A:function(){return w}});var o=e(21999),i=e(76139),s=e(3150),r=e(1899),l=e(37471),n=e(81851),c=e(34172),d=e(24496),u=e(41614),p=e(21527),h=e(69155),m=e(17912),g=e(55731),v=e(57e3),f=function(){var a=this,t=a._self._c;return t(d.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(i.A,{staticClass:"grey lighten-2 mr-2 mb-1",attrs:{size:"38px"}},[t(p.A,{staticStyle:{height:"30px",width:"30px"},attrs:{color:`${a.iconColor??"black"}`}},[a._v("fa-solid fa-pills")])],1),t("b",[a._v(" Insumos Recibidos"+a._s(a.pacienteNombreDocumento?`: ${a.pacienteNombreDocumento}`:"")+" ")]),t(c.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"grey lighten-4 pa-0"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{staticClass:"terciary lighten-2 px-1 pb-1",attrs:{xs12:""}},[t(l.A,{staticClass:"title py-0 px-1"},[t(u.A,{attrs:{xs12:"",sm4:""}},[t(v.W,{staticClass:"py-1",attrs:{clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),t(g.hc)],1),t(n.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTable,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"title black--text text-sm-left",attrs:{value:!0,color:"grey lighten-2",icon:"warning"}},[a._v(" No hay insumos recibidos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"title black--text text-sm-left",attrs:{value:!0,color:"grey lighten-2",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item)},a._l(a.headers,(function(a){return t("td",{key:a.value,class:a.class},[t("bodyDataTableDinamic",{attrs:{props:e,field:a}})],1)})),0)]}}])},[t(m.A,{attrs:{color:"terciary",indeterminate:""}})],1)],1)],1)],1)],1)],1)},b=[],x=e(95353),y=e(12683),_={name:"expandInsumosRecibidos",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor"],components:{bodyDataTableDinamic:y.A},data(){return{dataTable:[],search:"",paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Fecha Recepcion",value:"fecha",class:"text-sm-left",ruta:"fecha",date:!0,width:"10%"},{text:"Origen",value:"origenDB",align:"left",class:"text-xs-left",width:"15%",ruta:"origenDB"},{text:"Categoria Ins.",value:"categoriaDB",align:"left",class:"text-xs-left",width:"10%",ruta:"categoriaDB"},{text:"Insumo",value:"insumoDB",class:"text-xs-left",ruta:"insumoDB",width:"*"},{text:"Cantidad",value:"cantidad",align:"left",class:"text-xs-right",width:"5%",ruta:"cantidad"},{text:"Lote",value:"lote",class:"text-sm-left",ruta:"lote",width:"10%"},{text:"Vencimiento",value:"vencimiento",class:"text-sm-left",ruta:"vencimiento",date:!0,width:"10%"}]}},computed:{...(0,x.aH)(["loading"])},watch:{async expandOpen(a){a&&this.pacienteId&&(this.dataTable=await this.buscarInsumosRecibidosPaciente({paciente:this.pacienteId}))},async pacienteId(a){a&&this.expandOpen&&(this.dataTable=await this.buscarInsumosRecibidosPaciente({paciente:this.pacienteId}))},dataTable(a){this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","ocultarLoading","mostrarDialogIframe"]),...(0,x.i0)(["routerResolve","requestAPI"]),backgroundClass(a){try{return a?"background-color: terciary lighten-5":""}catch(t){return""}},async buscarInsumosRecibidosPaciente(a){try{this.mostrarLoading({titulo:"Buscando Insumos Recibidos..."}),a.paciente||this.mostrarError({mensaje:"Falta el Id del Paciente para buscar sus Insumos Recibidos.",titulo:"Valores Requeridos"});let t=null;return t=await this.requestAPI({method:"get",url:`/farmacia/entrega?paciente=${a.paciente}`}),t?.data?.ok?t.data.entregas:[{insumoDB:"error de carga, recargar pagina",id:void 0}]}catch(t){return this.mostrarError({mensaje:t,titulo:"Inesperado (buscarInsumosRecibidosPaciente)"}),[{insumoDB:"error de buscarInsumosRecibidosPaciente, recargar pagina",id:void 0}]}finally{this.ocultarLoading()}}}},A=_,C=e(81656),k=(0,C.A)(A,f,b,!1,null,null,null),w=k.exports},20007:function(a,t,e){e.d(t,{A:function(){return w}});var o=e(21999),i=e(76139),s=e(3150),r=e(1899),l=e(37471),n=e(81851),c=e(34172),d=e(24496),u=e(41614),p=e(21527),h=e(69155),m=e(17912),g=e(55731),v=e(57e3),f=function(){var a=this,t=a._self._c;return t(d.A,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.A,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.A,{staticClass:"white--text title",attrs:{xs12:""}},[t(i.A,{staticClass:"grey lighten-2 mr-2 mb-1",attrs:{size:"38px"}},[t(p.A,{staticStyle:{height:"30px",width:"30px"},attrs:{color:`${a.iconColor??"black"}`}},[a._v("vaccines")])],1),t("b",[a._v(" Vacunas"+a._s(a.pacienteNombreDocumento?`: ${a.pacienteNombreDocumento}`:"")+" ")]),t(c.A,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.A,[t(r.OQ,{staticClass:"grey lighten-4 pa-0"},[t(h.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{staticClass:"terciary lighten-2 px-1 pb-1",attrs:{xs12:""}},[t(l.A,{staticClass:"title py-0 px-1"},[t(u.A,{attrs:{xs12:"",sm4:""}},[t(v.W,{staticClass:"py-1",attrs:{clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),t(g.hc)],1),t(n.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:a.headers,items:a.dataTable,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.A,{staticClass:"title black--text text-sm-left",attrs:{value:!0,color:"grey lighten-2",icon:"warning"}},[a._v(" No hay vacunas para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.A,{staticClass:"title black--text text-sm-left",attrs:{value:!0,color:"grey lighten-2",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item)},a._l(a.headers,(function(a){return t("td",{key:a.value,class:a.class},[t("bodyDataTableDinamic",{attrs:{props:e,field:a}})],1)})),0)]}}])},[t(m.A,{attrs:{color:"terciary",indeterminate:""}})],1)],1)],1)],1)],1)],1)},b=[],x=e(95353),y=e(12683),_={name:"expandVacunaciones",props:["expandOpen","pacienteId","pacienteNombreDocumento","iconColor"],components:{bodyDataTableDinamic:y.A},data(){return{dataTable:[],search:"",paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Fecha Aplicacion",value:"fecha",class:"text-sm-left",ruta:"fecha",date:!0,width:"10%"},{text:"Vacuna",value:"insumoDB",class:"text-xs-left",ruta:"insumoDB",width:"*"},{text:"Dosis",value:"dosis",class:"text-sm-left",ruta:"dosis",width:"10%"},{text:"Lote",value:"lote",class:"text-sm-left",ruta:"lote",width:"10%"},{text:"Vencimiento",value:"vencimiento",class:"text-sm-left",ruta:"vencimiento",date:!0,width:"10%"},{text:"Estrategia",value:"estrategia",class:"text-sm-left",ruta:"estrategia",width:"10%"},{text:"Fecha Futura Cita",value:"fecha_futura_cita",class:"text-sm-left",ruta:"fecha_futura_cita",date:!0,width:"10%"}]}},computed:{...(0,x.aH)(["loading"])},watch:{async expandOpen(a){a&&this.pacienteId&&(this.dataTable=await this.buscarVacunacionesPaciente({paciente:this.pacienteId}))},async pacienteId(a){a&&this.expandOpen&&(this.dataTable=await this.buscarVacunacionesPaciente({paciente:this.pacienteId}))},dataTable(a){this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}},methods:{...(0,x.PY)(["mostrarLoading","mostrarError","ocultarLoading","mostrarDialogIframe"]),...(0,x.i0)(["routerResolve","requestAPI"]),backgroundClass(a){try{return a?"background-color: terciary lighten-5":""}catch(t){return""}},async buscarVacunacionesPaciente(a){try{this.mostrarLoading({titulo:"Buscando Vacunaciones..."}),a.paciente||this.mostrarError({mensaje:"Falta el Id del Paciente para buscar sus vacunaciones.",titulo:"Valores Requeridos"});let t=null;return t=await this.requestAPI({method:"get",url:`/vacunas/aplicacion?paciente=${a.paciente}&select=lite`}),t?.data?.ok?t.data.vacunaciones:[{insumoDB:"error de carga, recargar pagina",id:void 0}]}catch(t){return this.mostrarError({mensaje:t,titulo:"Inesperado (buscarVacunacionesPaciente)"}),[{insumoDB:"error de buscarVacunacionesPaciente, recargar pagina",id:void 0}]}finally{this.ocultarLoading()}},async pacienteVacunasPDF(){localStorage.setItem("localStorageTemp",JSON.stringify({paciente:this.pacienteId}));let a=await this.routerResolve({name:"VacunasAplicacionesImprimir",query:{descarga:!1}});this.mostrarDialogIframe({src:a.href,titulo_name:`Vacunaciones ${this.pacienteNombreDocumento}`})}}},A=_,C=e(81656),k=(0,C.A)(A,f,b,!1,null,null,null),w=k.exports}}]);