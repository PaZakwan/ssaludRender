"use strict";(globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]=globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[2136],{77765:(t,e,a)=>{a.d(e,{Z:()=>c});var s=function(){var t=this,e=t._self._c;return t.field.array?e("span",[t.field.object?e("span",t._l(t._get(t.props.item,t.field.ruta),(function(a,s){return e("code",{key:`${t.field.text}-${s}`,attrs:{STYLE:"margin:4px"}},[t.field.keyShow?e("span",[t._v(t._s(t.field.date?t.mostrarFecha(a[t.field.keyShow],t.field.time)||"--------":a[t.field.keyShow]??"--------"))]):e("span",t._l(a,(function(i,o,r){return e("span",{key:`${t.field.text}-${s}-${o}`},[t._v(t._s(o)+": "),e("kbd",[t._v(t._s(isNaN(i)&&"Invalid Date"!==t.mostrarFecha(i,t.field.time)?t.mostrarFecha(i,t.field.time)||"--------":i??"--------"))]),r!=Object.keys(a).length-1?e("span",[t._v(t._s("\n"))]):t._e()])})),0)])})),0):e("span",t._l(t._get(t.props.item,t.field.ruta),(function(a,s){return e("code",{key:`${t.field.text}-${s}`,attrs:{STYLE:"margin:4px"}},[t._v(t._s(t.field.date?t.mostrarFecha(a,t.field.time)||"--------":a??"--------"))])})),0)]):t.field.object?e("span",[e("code",{attrs:{STYLE:"margin:4px"}},[t.field.keyShow?e("span",[t._v(t._s(t.field.date?t.mostrarFecha(t._get(t.props.item,t.field.ruta)[t.field.keyShow],t.field.time)||"--------":t._get(t.props.item,t.field.ruta)[t.field.keyShow]??"--------"))]):e("span",t._l(t._get(t.props.item,t.field.ruta),(function(a,s,i){return e("span",{key:`${t.field.text}-${s}`},[t._v(t._s(s)+": "),e("kbd",[t._v(t._s(isNaN(a)&&"Invalid Date"!==t.mostrarFecha(a,t.field.time)?`${t.mostrarFecha(a,t.field.time)}`||"--------":a??"--------"))]),i!=Object.keys(t._get(t.props.item,t.field.ruta)).length-1?e("span",[t._v(t._s("\n"))]):t._e()])})),0)])]):e("span",{style:""+(t.field.numeric&&t._get(t.props.item,t.field.ruta)<0?"color: red;":"")},[t._v(t._s(t.field.date?t.mostrarFecha(t.props.item[t.field.ruta],t.field.time)||"--------":t.field.boolean?""+(t._get(t.props.item,t.field.ruta)&&"false"!=t._get(t.props.item,t.field.ruta)&&"0"!=t._get(t.props.item,t.field.ruta)?"Si":"No"):t._get(t.props.item,t.field.ruta)?.toLocaleString("es-AR")??"--------"))])},i=[];const o={name:"body-data-table-dinamic",props:["props","field"]},r=o;var l=a(1001),n=(0,l.Z)(r,s,i,!1,null,null,null);const c=n.exports},27720:(t,e,a)=>{a.d(e,{Z:()=>h});var s=a(46961),i=a(15084),o=a(74618),r=function(){var t=this,e=t._self._c;return e(i.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[e(o.h,t._g({attrs:{clearable:!t.soloLect&&!!t.clear,"background-color":t.soloLect?`${t.color} lighten-2`:`${t.color} lighten-5`,"prepend-icon":t.prepend,label:t.label,messages:t.msg,placeholder:t.holder,readonly:"",color:`${t.color} darken-3`,rules:t.req?t.validate:[]},on:{"click:clear":function(e){return t.$emit("input","")}},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}},a))]}}]),model:{value:t.menufecha1,callback:function(e){t.menufecha1=e},expression:"menufecha1"}},[e(s.Z,{attrs:{readonly:t.soloLect,"allowed-dates":t.allowedDates,min:t.fecMin,max:t.fecMax,color:`${t.color} darken-3`,"header-color":`${t.color} darken-1`,locale:"mx"},on:{input:function(e){t.menufecha1=!1,t.$emit("input",e)}},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1)},l=[];const n={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable","messages","placeholder"],data(){return{menufecha1:!1,validate:[t=>t?""===t.trim()?"Este campo es requerido.":!(t&&t.length<10)||"Ingrese fecha valida (AAAA-MM-DD).":"Este campo es requerido."]}},computed:{fecha(){return this.value},soloLect(){return this.soloLectura||!1},prepend(){return this.icon||"event"},req(){return this.requerido||!1},clear(){return this.clearable||!1},msg(){return this.messages||""},holder(){return this.placeholder||""},fecMin(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction(){return this.filtro||[]}},methods:{allowedDates(t){return!this.restriction.includes(new Date(t).getUTCDay())}}},c=n;var d=a(1001),u=(0,d.Z)(c,r,l,!1,null,null,null);const h=u.exports},25172:(t,e,a)=>{a.r(e),a.d(e,{default:()=>b});var s=a(67416),i=a(66194),o=a(18956),r=a(32353),l=a(66530),n=a(60683),c=a(59456),d=a(98143),u=(a(70560),function(){var t=this,e=t._self._c;return e(l.Z,{attrs:{fluid:"","grid-list-xs":""}},[e(c.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(r.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1),e(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[e(r.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== ====== Control / Estadistica ====== ======")])],1),e(o.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[e(r.ZB,{staticClass:"px-0"},[e(c.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""},on:{keypress:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.especialidad&&t.$router.push({name:t.especialidad})}}},[e(d.Cl),e(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(s.Z,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.especialidades,label:"Especialidad a controlar","prepend-icon":"fas fa-stethoscope",color:"cuarto"},on:{"click:clear":function(e){t.$nextTick((()=>t.especialidad=null))}},model:{value:t.especialidad,callback:function(e){t.especialidad=e},expression:"especialidad"}})],1),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:!t.especialidad,loading:t.loading.estado,to:{name:t.especialidad}}},[t._v("Continuar ")]),e(d.Cl)],1)],1)],1)],1)],1)],1)}),h=[],p=a(20629);const f={name:"clinicoControl",data:()=>({especialidad:null,optionsJson:{}}),async created(){this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})},computed:{...(0,p.rn)(["loading"]),especialidades(){return this.optionsJson.motivo_especialidad?["Hojas 2.1",...this.optionsJson.motivo_especialidad]:["Hojas 2.1"]}},methods:{...(0,p.nv)(["returnOptionsJSON"])}},m=f;var v=a(1001),g=(0,v.Z)(m,u,h,!1,null,null,null);const b=g.exports},45159:(t,e,a)=>{a.r(e),a.d(e,{default:()=>$});var s=a(58469),i=a(67416),o=a(66194),r=a(18956),l=a(32353),n=a(19418),c=a(66530),d=a(47352),u=a(50108),h=a(60683),p=a(50445),f=a(73667),m=a(59456),v=a(36446),g=a(98143),b=a(74618),x=function(){var t=this,e=t._self._c;return e(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[e(m.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[e(h.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(r.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(l.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1)],1),e(m.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[e(h.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(r.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[e(m.Z,{attrs:{row:""}},[e(h.Z,{attrs:{"px-3":""}},[e(l.ZB,{staticClass:"px-0 text-uppercase"},[t._v("==##== Control / Hojas 2.1 ==##==")])],1),e(g.Cl),e(o.Z,{attrs:{fab:"",small:"",color:"primary darken-2"},on:{click:function(e){return t.retroceder()}}},[e(f.Z,[t._v("far fa-arrow-alt-circle-left")])],1)],1)],1),e(r.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[e(l.ZB,{staticClass:"px-0"},[e(m.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[e(h.Z,{attrs:{xs12:"","px-3":""}},[e(r.Z,{staticClass:"grey lighten-3"},[e(p.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(e){t.valido=e},expression:"valido"}},[e(m.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaHojas2()}}},[e(h.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(h.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(h.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[e(i.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto",items:t.optionsJson.motivo_especialidad,label:"Especialidad de la Hoja 2.1","prepend-icon":"fas fa-stethoscope",rules:[...t.rules.requerido]},on:{"click:clear":function(e){t.$nextTick((()=>t.filtro.especialidad=null))}},model:{value:t.filtro.especialidad,callback:function(e){t.$set(t.filtro,"especialidad",e)},expression:"filtro.especialidad"}})],1),e(h.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[e(i.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5","item-value":"id","item-text":"area",items:t.unidadesAtencionDB,label:"Lugar de Atencion","prepend-icon":"fa-house-medical-flag",color:"cuarto"},on:{"click:clear":function(e){t.$nextTick((()=>t.filtro.area=null))}},model:{value:t.filtro.area,callback:function(e){t.$set(t.filtro,"area",e)},expression:"filtro.area"}})],1),e(h.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[e(i.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5","item-value":"id","item-text":"nombreC",items:t.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",color:"cuarto"},on:{"click:clear":function(e){t.$nextTick((()=>t.filtro.profesional=null))}},model:{value:t.filtro.profesional,callback:function(e){t.$set(t.filtro,"profesional",e)},expression:"filtro.profesional"}})],1)],1)],1),e(l.h7,[e(g.Cl),e(o.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaHojas2()}}},[t._v("Buscar ")]),e(g.Cl)],1)],1)],1)],1)],1)],1)],1),e(h.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[e(n.Z,{staticClass:"title text-capitalize terciary"},[e(h.Z,{attrs:{xs5:"","px-2":""}}),e(h.Z,{attrs:{"display-1":"","font-weight-bold":"",xs12:"",sm6:"","px-2":""}},[e(f.Z,{attrs:{large:"",color:"black",left:""}},[t._v("insert_chart")]),t._v(" Resultados ")],1),e(g.Cl),e(h.Z,{attrs:{xs1:"","px-2":""}}),e(m.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"","align-content-center":""}},[e(h.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[e(i.Z,{staticClass:"capitalizar",attrs:{color:"black","background-color":"terciary lighten-4",items:t.filtroShowOptions,label:"Mostrar Informacion","prepend-icon":"insert_chart"},model:{value:t.filtroShow,callback:function(e){t.filtroShow=e},expression:"filtroShow"}})],1),e(u.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e(g.Cl),e(h.Z,{attrs:{xs12:"","px-2":""}},[e(i.Z,{staticClass:"capitalizar",attrs:{clearable:"",color:"black","background-color":"terciary lighten-4",items:t.filtroHeaderOptions,label:"Mostrar Columnas","prepend-icon":"pie_chart","menu-props":{top:!0,auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:t.filtroHeaderSelected,callback:function(e){t.filtroHeaderSelected=e},expression:"filtroHeaderSelected"}})],1)],1)],1),e(n.Z,{staticClass:"title text-capitalize terciary lighten-2"},[e(h.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[e(b.h,{attrs:{clearable:"",color:"grey lighten-1","background-color":"terciary lighten-4","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(g.Cl),e(u.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e(o.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.informe()}}},[t._v("Informe (En Desarrollo PDF)")])],1),e(d.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.dataShowList,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(e){t.paginacion=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[e(s.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[e(s.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[e("tr",{class:t.backgroundClass(a.item)},t._l(t.headers,(function(t){return e("td",{key:t.text,class:t.class},[e("bodyDataTableDinamic",{attrs:{props:a,field:t}})],1)})),0)]}}])},[e(v.Z,{attrs:{color:"green",indeterminate:""}})],1)],1)],1)],1)},y=[],k=(a(70560),a(20629)),C=a(27720),_=a(77765);const Z={name:"controlHojas2",components:{dateSelect:C.Z,bodyDataTableDinamic:_.Z},data:()=>({paginacion:{sortBy:"Rango",descending:!1,rowsPerPage:10,page:1},search:"",dataList:{},filtroShowMain:"",filtroShowOptions:[],filtroShow:"",filtroHeaderSelected:[],unidadesAtencionDB:[{id:null,area:"Tod@s"}],profesionalesDB:[{id:null,nombreC:"Tod@s"}],optionsJson:{},valido:!0,filtro:{desde:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",hasta:"",especialidad:"",area:null,profesional:null}}),computed:{...(0,k.rn)(["loading","hoy","rules"]),dataShowList(){let t=[];return this.filtroShow&&(t=this.dataList[this.filtroShow]),this.paginacion.page>Math.ceil(t.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),t},filtroHeaderOptions(){let t=Object.keys(this.dataShowList[0]||[]);return["Derivado","Rango","Edad_Total"].forEach((e=>{let a=t.indexOf(e);a>=0&&t.splice(a,1)})),this.filtroHeaderSelected=t,t},headers(){if(0!=this.dataList.length){let t=[];return"Derivados"===this.filtroShow?(t.push({text:"Derivados De",value:"Derivado",class:"text-capitalize text-sm-left",ruta:"Derivado"}),this.filtroHeaderSelected.includes("Derivados_Cantidad")&&t.push({text:"Derivados Cantidad",value:"Derivados_Cantidad",class:"text-sm-left",ruta:"Derivados_Cantidad"}),this.filtroHeaderSelected.includes("Motivos")&&t.push({text:"Motivos",value:"Motivos",class:"text-sm-left",ruta:"Motivos",array:!0}),t):(t.push({text:"Rango Etario",value:"Rango",class:"text-capitalize text-sm-left",ruta:"Rango"}),this.filtroHeaderSelected.includes("Total")&&t.push({text:"Total",value:"Total",class:"text-sm-left",ruta:"Total"}),this.filtroHeaderSelected.includes("Edad_Promedio")&&t.push({text:"Edad Promedio",value:"Edad_Promedio",class:"text-sm-left",ruta:"Edad_Promedio"}),this.filtroHeaderSelected.includes("Genero")&&t.push({text:"Genero",value:"Genero",class:"text-sm-left",ruta:"Genero",object:!0}),this.filtroHeaderSelected.includes("Actividad")&&t.push({text:"Actividad",value:"Actividad",class:"text-sm-left",ruta:"Actividad",object:!0}),this.filtroHeaderSelected.includes("Presentacion")&&t.push({text:"Presentacion",value:"Presentacion",class:"text-sm-left",ruta:"Presentacion",object:!0}),this.filtroHeaderSelected.includes("Comorbilidad")&&t.push({text:"Comorbilidad",value:"Comorbilidad",class:"text-sm-left",ruta:"Comorbilidad",object:!0}),this.filtroHeaderSelected.includes("Diagnostico")&&t.push({text:"Diagnostico",value:"Diagnostico",class:"text-sm-left",ruta:"Diagnostico",object:!0}),this.filtroHeaderSelected.includes("Riesgo_Cardio_%")&&t.push({text:"Riesgo Cardio [%]",value:"Riesgo_Cardio_%",class:"text-sm-left",ruta:"Riesgo_Cardio_%",object:!0}),"Nutricion"===this.filtroShowMain?(this.filtroHeaderSelected.includes("Puntaje_Z")&&t.push({text:"Puntaje Z",value:"Puntaje_Z",class:"text-sm-left",ruta:"Puntaje_Z",object:!0}),t):t)}return[]}},async created(){this.filtro.hasta=this.hoy,this.profesionalesDB.push(...await this.cargarProfesionalesBusqueda()),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.unidadesAtencionDB.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,k.OI)(["mostrarError"]),...(0,k.nv)(["requestAPI","returnOptionsJSON","retroceder"]),...(0,k.nv)("main",["buscarAreaFiltros"]),...(0,k.nv)("profesional",["cargarProfesionalesBusqueda"]),backgroundClass(t){if(!t)return""},async consultaHojas2(){if(this.$refs.form.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/control/${this.filtro.especialidad}/hoja2?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&area=${this.filtro.area}&profesional=${this.filtro.profesional}`});this.filtroShowOptions=Object.keys(t?.data?.resumen||[]),this.filtroShow=this.filtroShowOptions[0]||"",this.filtroShowMain=this.filtro.especialidad||"",this.dataList=t?.data?.resumen||{},Object.keys(this.dataList).forEach((t=>{Array.isArray(this.dataList[t])||"object"!==typeof this.dataList||(this.dataList[t]=Object.values(this.dataList[t]))}))}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async informe(){console.log("informe dataList",this.dataList),console.log("informe totales",this.totales)}}},w=Z;var P=a(1001),S=(0,P.Z)(w,x,y,!1,null,null,null);const $=S.exports},20576:(t,e,a)=>{a.r(e),a.d(e,{default:()=>I});var s=a(58469),i=a(66194),o=a(18956),r=a(32353),l=a(19418),n=a(66530),c=a(47352),d=a(50108),u=a(84791),h=a(94694),p=a(60683),f=a(50445),m=a(73667),v=a(59456),g=a(36446),b=a(14036),x=a(98143),y=a(74618),k=function(){var t=this,e=t._self._c;return e(n.Z,{attrs:{fluid:"","grid-list-xs":""}},[e(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[e(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(r.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1)],1),e(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[e(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[e(v.Z,{attrs:{row:""}},[e(p.Z,{attrs:{"px-3":""}},[e(r.ZB,{staticClass:"px-0 text-uppercase"},[t._v("==##== Control / Nutricion ==##==")])],1),e(x.Cl),e(i.Z,{attrs:{fab:"",small:"",color:"primary darken-2"},on:{click:function(e){return t.retroceder()}}},[e(m.Z,[t._v("far fa-arrow-alt-circle-left")])],1)],1)],1),e(o.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[e(r.ZB,{staticClass:"px-0"},[e(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[e(p.Z,{attrs:{xs12:"","px-3":""}},[e(u.Z,{attrs:{expand:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[e("b",[t._v("Permanencia")]),t._v(" de las personas que iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formPermanencia",attrs:{"lazy-validation":""},model:{value:t.valido.permanencia,callback:function(e){t.$set(t.valido,"permanencia",e)},expression:"valido.permanencia"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaPermanencia()}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t.optionsJson.motivo_actividades?e(b.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.filtro.permanencia.descripcion,callback:function(e){t.$set(t.filtro.permanencia,"descripcion",e)},expression:"filtro.permanencia.descripcion"}}):t._e()],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.filtro.permanencia.diasAbandono,callback:function(e){t.$set(t.filtro.permanencia,"diasAbandono",e)},expression:"filtro.permanencia.diasAbandono"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaPermanencia()}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1),e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[t._v(" Personas que "),e("b",[t._v('perdieron "X" peso y continuan')]),t._v(" el Programa que iniciaron entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formPeso",attrs:{"lazy-validation":""},model:{value:t.valido.peso,callback:function(e){t.$set(t.valido,"peso",e)},expression:"valido.peso"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaPeso()}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t.optionsJson.motivo_actividades?e(b.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.filtro.peso.descripcion,callback:function(e){t.$set(t.filtro.peso,"descripcion",e)},expression:"filtro.peso.descripcion"}}):t._e()],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.filtro.peso.diasAbandono,callback:function(e){t.$set(t.filtro.peso,"diasAbandono",e)},expression:"filtro.peso.diasAbandono"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",hint:"Peso perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas]},model:{value:t.filtro.peso.pesoPerdido,callback:function(e){t.$set(t.filtro.peso,"pesoPerdido",e)},expression:"filtro.peso.pesoPerdido"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaPeso()}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1),e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[t._v(" Personas que "),e("b",[t._v('bajaron "X" de IMC')]),t._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formIMC",attrs:{"lazy-validation":""},model:{value:t.valido.IMC,callback:function(e){t.$set(t.valido,"IMC",e)},expression:"valido.IMC"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaIMC()}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t.optionsJson.motivo_actividades?e(b.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.filtro.IMC.descripcion,callback:function(e){t.$set(t.filtro.IMC,"descripcion",e)},expression:"filtro.IMC.descripcion"}}):t._e()],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",hint:"IMC perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(-100),t.rules.maxNumber(100)]},model:{value:t.filtro.IMC.IMCPerdido,callback:function(e){t.$set(t.filtro.IMC,"IMCPerdido",e)},expression:"filtro.IMC.IMCPerdido"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaIMC()}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1),e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[t._v(" Personas que adoptaron "),e("b",[t._v('"X+" habitos saludables')]),t._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:t.valido.habitos,callback:function(e){t.$set(t.valido,"habitos",e)},expression:"valido.habitos"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaHabitos("Si")}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t.optionsJson.motivo_actividades?e(b.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.filtro.habitos.descripcion,callback:function(e){t.$set(t.filtro.habitos,"descripcion",e)},expression:"filtro.habitos.descripcion"}}):t._e()],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-leaf",label:"Habitos Saludables Adoptados",hint:"Habitos Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas]},model:{value:t.filtro.habitos.habitosGanados,callback:function(e){t.$set(t.filtro.habitos,"habitosGanados",e)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaHabitos("Si")}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1),e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[t._v(" Personas que adoptaron "),e("b",[t._v('"X+" habitos no saludables')]),t._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:t.valido.habitos,callback:function(e){t.$set(t.valido,"habitos",e)},expression:"valido.habitos"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaHabitos("No")}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t.optionsJson.motivo_actividades?e(b.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:t.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.filtro.habitos.descripcion,callback:function(e){t.$set(t.filtro.habitos,"descripcion",e)},expression:"filtro.habitos.descripcion"}}):t._e()],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fastfood",label:"Habitos No Saludables Adoptados",hint:"Habitos No Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas]},model:{value:t.filtro.habitos.habitosGanados,callback:function(e){t.$set(t.filtro.habitos,"habitosGanados",e)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaHabitos("No")}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1),e(h.Z,{scopedSlots:t._u([{key:"header",fn:function(){return[e("div",{staticClass:"title grey lighten-3"},[t._v(" Personas con "),e("b",[t._v('"X+" consultas nutricionales')]),t._v(" entre fechas [x,y]. ")])]},proxy:!0}])},[e(o.Z,{staticClass:"grey lighten-3"},[e(f.Z,{ref:"formNutricionistas",attrs:{"lazy-validation":""},model:{value:t.valido.nutricionistas,callback:function(e){t.$set(t.valido,"nutricionistas",e)},expression:"valido.nutricionistas"}},[e(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.consultaNutricionistas()}}},[e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:t.filtro.hasta,requerido:"true"},model:{value:t.filtro.desde,callback:function(e){t.$set(t.filtro,"desde",e)},expression:"filtro.desde"}})],1),e(p.Z,{attrs:{xs12:"",sm5:""}},[e("dateSelect",{staticClass:"capitalizar",attrs:{value:t.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:t.filtro.desde,requerido:"true"},model:{value:t.filtro.hasta,callback:function(e){t.$set(t.filtro,"hasta",e)},expression:"filtro.hasta"}})],1),e(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fact_check",label:"Consultas Nutricionales",hint:"Consultas Nutricionales Esperadas. (minimas)","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.filtro.nutricion.consultas,callback:function(e){t.$set(t.filtro.nutricion,"consultas",e)},expression:"filtro.nutricion.consultas"}})],1)],1)],1),e(r.h7,[e(x.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.consultaNutricionistas()}}},[t._v("Buscar ")]),e(x.Cl)],1)],1)],1)],1)],1)],1)],1)],1)],1),e(p.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[e(l.Z,{staticClass:"title text-capitalize terciary"},[e(m.Z,{attrs:{large:"",color:"black",left:""}},[t._v("insert_chart")]),t._v(" Resultados "),e(x.Cl),e(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e(y.h,{attrs:{clearable:"",color:"grey lighten-1","background-color":"terciary lighten-4","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),e(l.Z,{staticClass:"title text-capitalize terciary lighten-2"},[e("div",[e(m.Z,{attrs:{color:"terciary darken-2",left:""}},[t._v("pie_chart")]),t._v(" Totales: "+t._s(t.totales)+" ")],1),e(x.Cl),e(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(e){return t.informe()}}},[t._v("Informe (En Desarrollo PDF)")])],1),e(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.dataList,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(e){t.paginacion=e}},scopedSlots:t._u([{key:"no-data",fn:function(){return[e(s.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[e(s.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[e("tr",{class:t.backgroundClass(a.item)},t._l(t.headers,(function(t){return e("td",{key:t.text,class:t.class},[e("bodyDataTableDinamic",{attrs:{props:a,field:t}})],1)})),0)]}}])},[e(g.Z,{attrs:{color:"green",indeterminate:""}})],1)],1)],1)],1)},C=[],_=a(20629),Z=a(27720),w=a(77765);const P={name:"controlNutricion",components:{dateSelect:Z.Z,bodyDataTableDinamic:w.Z},data:()=>({paginacion:{sortBy:"paciente.nombreC",descending:!1,rowsPerPage:10,page:1},headersBase:[{text:"Apellido, Nombre",value:"paciente.nombreC",class:"text-capitalize text-sm-left",ruta:"paciente.nombreC"},{text:"Documento",value:"paciente.documentoC",class:"text-sm-left",ruta:"paciente.documentoC"}],search:"",dataList:[],totales:{},headerSet:"",valido:{permanencia:!0,peso:!0,IMC:!0,habitos:!0,nutricionistas:!0},optionsJson:{},filtro:{desde:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",hasta:"",permanencia:{descripcion:"reduccion de peso",diasAbandono:14},peso:{pesoPerdido:1e3,descripcion:"reduccion de peso",diasAbandono:14},IMC:{IMCPerdido:5,descripcion:"reduccion de peso"},habitos:{habitosGanados:2,descripcion:"reduccion de peso"},nutricion:{consultas:2}}}),computed:{...(0,_.rn)(["loading","hoy","rules"]),headers(){return 0!=this.dataList.length?"Permanencia"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:"Peso"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Peso Perdido [gr]",value:"pesoPerdidoInicial",class:"text-sm-left",ruta:"pesoPerdidoInicial"},{text:"Perdido Ultimo Pesaje [gr]",value:"pesoPerdidoUltimoPesaje",class:"text-sm-left",ruta:"pesoPerdidoUltimoPesaje"},{text:"Consultas Peso [gr]",value:"consultas.peso",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"peso"}]:"IMC"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"IMC Perdido Inicial",value:"IMCPerdidoInicial",class:"text-sm-left",ruta:"IMCPerdidoInicial"},{text:"IMC Perdido Ultimo",value:"IMCPerdidoUltimoPesaje",class:"text-sm-left",ruta:"IMCPerdidoUltimoPesaje"},{text:"IMC % Perdido Inicial",value:"IMCDiferenciaPorcentual",class:"text-sm-left",ruta:"IMCDiferenciaPorcentual"},{text:"Consultas IMC",value:"consultas.IMC",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"IMC"}]:"Habitos"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Habitos Diferencia",value:"habitosDiferenciaInicial",class:"text-sm-left",ruta:"habitosDiferenciaInicial"},{text:"Habitos Ultima Diferencia",value:"habitosUltimasDiferencia",class:"text-sm-left",ruta:"habitosUltimasDiferencia"},{text:"Consultas Habitos",value:"consultas.habitos",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"habitos"}]:"Nutricionistas"===this.headerSet?[...this.headersBase,{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Consultas Nutricionales",value:"consultasCantidad",class:"text-sm-left",ruta:"consultasCantidad"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:this.headersBase:[]}},async created(){this.filtro.hasta=this.hoy,this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})},methods:{...(0,_.OI)(["mostrarError"]),...(0,_.nv)(["requestAPI","returnOptionsJSON","retroceder"]),backgroundClass(t){if(!t)return"";try{if("Peso"===this.headerSet){if("Si"===t.permanencia&&"Si"===t.cumplio)return"background-color: terciary lighten-5";if("No"===t.permanencia&&"Si"===t.cumplio)return"background-color: terciary lighten-2"}else if("Si"===t.permanencia||"Si"===t.cumplio)return"background-color: terciary lighten-5"}catch(e){return""}},async consultaPermanencia(){if(this.$refs.formPermanencia.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/permanencia?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.permanencia.diasAbandono}&programa=${this.filtro.permanencia.descripcion}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="Permanencia",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaPeso(){if(this.$refs.formPeso.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/peso?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.peso.diasAbandono}&programa=${this.filtro.peso.descripcion}&pesoPerdido=${this.filtro.peso.pesoPerdido}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="Peso",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaIMC(){if(this.$refs.formIMC.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/IMC?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&IMCPerdido=${this.filtro.IMC.IMCPerdido}&programa=${this.filtro.IMC.descripcion}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="IMC",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaHabitos(t){if(this.$refs.formHabitos.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/habitos?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&habitoEsperado=${this.filtro.habitos.habitosGanados||2}&programa=${this.filtro.habitos.descripcion}&saludable=${t}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Habitos",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaNutricionistas(){if(this.$refs.formNutricionistas.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/nutricionistas?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&consultasEsperadas=${this.filtro.nutricion.consultas||0}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="Nutricionistas",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async informe(){console.log("informe dataList",this.dataList),console.log("informe totales",this.totales)}}},S=P;var $=a(1001),M=(0,$.Z)(S,k,C,!1,null,null,null);const I=M.exports},84791:(t,e,a)=>{a.d(e,{Z:()=>l});var s=a(75721),i=a(30021),o=a(45530),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(t[s]=a[s])}return t};const l=(0,o.Z)(s.Z,(0,i.J)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return r({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(t){var e=-1;if(!t){var a=this.open.reduce((function(t,e){return e?t+1:t}),0),s=Array(this.items.length).fill(!1);1===a&&(e=this.open.indexOf(!0)),e>-1&&(s[e]=!0),this.open=s}this.$emit("input",t?this.open:e>-1?e:null)},value:function(t){this.updateFromValue(t)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(t){if(!Array.isArray(t)||this.expand){var e=Array(this.items.length).fill(!1);"number"===typeof t?e[t]=!0:null!==t&&(e=t),this.updatePanels(e)}},updatePanels:function(t){this.open=t;for(var e=0;e<this.items.length;e++)this.items[e].toggle(t&&t[e])},panelClick:function(t){for(var e=this.expand?this.open.slice():Array(this.items.length).fill(!1),a=0;a<this.items.length;a++)this.items[a]._uid===t&&(e[a]=!this.open[a],!this.expand&&this.$emit("input",e[a]?a:null));this.updatePanels(e),this.expand&&this.$emit("input",e)},register:function(t){var e=this.items.push(t)-1;null!==this.value&&this.updateFromValue(this.value),t.toggle(!!this.open[e])},unregister:function(t){var e=this.items.findIndex((function(e){return e._uid===t._uid}));this.items.splice(e,1),this.open.splice(e,1)}},render:function(t){return t("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},94694:(t,e,a)=>{a.d(e,{Z:()=>h});var s=a(22482),i=a(76815),o=a(54735),r=a(38197),l=a(30021),n=a(99524),c=a(45530),d=a(28219);function u(t){if(Array.isArray(t)){for(var e=0,a=Array(t.length);e<t.length;e++)a[e]=t[e];return a}return Array.from(t)}const h=(0,c.Z)(i.Z,o.Z,r.Z,(0,l.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,d.Kd)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(t){13===t.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var t=[].concat(u(this.$slots.header||[]));return this.hideActions||t.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},t)},genIcon:function(){var t=this.$slots.actions||[this.$createElement(n.Z,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},t)])},toggle:function(t){var e=this;t&&(this.isBooted=!0),this.$nextTick((function(){return e.isActive=t}))}},render:function(t){return t("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),t(s.Fx,[this.genBody()])])}})},50445:(t,e,a)=>{a.d(e,{Z:()=>i});var s=a(30021);const i={name:"v-form",mixins:[(0,s.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,a=function(t){return t.$watch("hasError",(function(a){e.$set(e.errorBag,t._uid,a)}),{immediate:!0})},s={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(e.errorBag.hasOwnProperty(t._uid)||(s.valid=a(t)))})):s.valid=a(t),s},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var a=this.watchers.find((function(t){return t._uid===e._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}}}]);