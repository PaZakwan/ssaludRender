"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[637],{6404:function(e,t,a){a.d(t,{Z:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.field.array?t("span",[e.field.object?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i){return t("code",{key:`${e.field.text}-${i}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(a[e.field.keyShow],e.field.time):a[e.field.keyShow]||"0"==a[e.field.keyShow]?a[e.field.keyShow]:"S/D"))]):t("span",e._l(a,(function(s,o,r){return t("span",{key:`${e.field.text}-${i}-${o}`},[e._v(e._s(o)+": "),t("kbd",[e._v(e._s(isNaN(s)&&"Invalid Date"!==e.mostrarFecha(s,e.field.time)?e.mostrarFecha(s,e.field.time)||"S/D":s||"0"==s?s:"S/D"))]),r!=Object.keys(a).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i){return t("code",{key:`${e.field.text}-${i}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(e.field.date?e.mostrarFecha(a,e.field.time):a||"0"==a?a:"S/D"))])})),0)]):e.field.object?t("span",[t("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time):e._get(e.props.item,e.field.ruta)[e.field.keyShow]||"0"==e._get(e.props.item,e.field.ruta)[e.field.keyShow]?e._get(e.props.item,e.field.ruta)[e.field.keyShow]:"--------"))]):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i,s){return t("span",{key:`${e.field.text}-${i}`},[e._v(e._s(i)+": "),t("kbd",[e._v(e._s(isNaN(a)&&"Invalid Date"!==e.mostrarFecha(a,e.field.time)?`${e.mostrarFecha(a,e.field.time)}`||"S/D":a||"0"==a?`${a}`:"S/D"))]),s!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])]):t("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e.field.date?e.mostrarFecha(e.props.item[e.field.ruta],e.field.time):e.field.boolean?""+(e._get(e.props.item,e.field.ruta)&&"false"!=e._get(e.props.item,e.field.ruta)&&"0"!=e._get(e.props.item,e.field.ruta)?"Si":"No"):e._get(e.props.item,e.field.ruta)||"0"==e._get(e.props.item,e.field.ruta)?e._get(e.props.item,e.field.ruta).toLocaleString("es-AR"):"--------"))])},s=[],o={name:"body-data-table-dinamic",props:["props","field"]},r=o,n=a(1001),l=(0,n.Z)(r,i,s,!1,null,null,null),c=l.exports},3979:function(e,t,a){a.d(t,{Z:function(){return f}});var i=a(6961),s=a(683),o=a(9456),r=a(5084),n=a(4618),l=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.Z,{attrs:{xs12:"","px-2":""}},[t(r.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(n.h,e._g({attrs:{clearable:!e.soloLect&&!!e.clear,"background-color":e.soloLect?`${e.color} lighten-2`:`${e.color} lighten-5`,label:e.label,"prepend-icon":e.prepend,readonly:"",color:`${e.color} darken-3`,rules:e.req?e.validate:[]},on:{"click:clear":function(t){return e.$emit("input","")}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}},a))]}}]),model:{value:e.menufecha1,callback:function(t){e.menufecha1=t},expression:"menufecha1"}},[t(i.Z,{attrs:{readonly:e.soloLect,"allowed-dates":e.allowedDates,min:e.fecMin,max:e.fecMax,color:`${e.color} darken-3`,"header-color":`${e.color} darken-1`,locale:"mx"},on:{input:function(t){e.menufecha1=!1,e.$emit("input",t)}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1)],1)],1)},c=[],d={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable"],data(){return{menufecha1:!1,validate:[e=>e?""===e.trim()?"Este campo es requerido.":!(e&&e.length<10)||"Ingrese fecha valida (AAAA-MM-DD).":"Este campo es requerido."]}},computed:{fecha:function(){return this.value},soloLect:function(){return this.soloLectura||!1},prepend:function(){return this.icon||"event"},req:function(){return this.requerido||!1},clear:function(){return this.clearable||!1},fecMin:function(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax:function(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction:function(){return this.filtro||[]}},methods:{allowedDates:function(e){return!this.restriction.includes(new Date(e).getUTCDay())}}},u=d,h=a(1001),p=(0,h.Z)(u,l,c,!1,null,null,null),f=p.exports},689:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var i=a(8469),s=a(6194),o=a(8956),r=a(2353),n=a(9418),l=a(6530),c=a(7352),d=a(108),u=a(4791),h=a(4694),p=a(683),f=a(445),m=a(3667),v=a(9456),b=a(6446),g=a(4036),x=a(8143),y=a(4618),k=function(){var e=this,t=e._self._c;return t(l.Z,{attrs:{fluid:"","grid-list-xs":""}},[t(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(r.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1)],1),t(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[t(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[t(v.Z,{attrs:{row:""}},[t(p.Z,{attrs:{"px-3":""}},[t(r.ZB,{staticClass:"px-0 text-uppercase"},[e._v("==##== Control / Nutricion ==##==")])],1),t(x.Cl),t(s.Z,{attrs:{fab:"",small:"",color:"primary darken-2"},on:{click:function(t){return e.retroceder()}}},[t(m.Z,[e._v("far fa-arrow-alt-circle-left")])],1)],1)],1),t(o.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[t(r.ZB,{staticClass:"px-0"},[t(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(p.Z,{attrs:{xs12:"","px-3":""}},[t(u.Z,{attrs:{expand:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[t("b",[e._v("Permanencia")]),e._v(" de las personas que iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formPermanencia",attrs:{"lazy-validation":""},model:{value:e.valido.permanencia,callback:function(t){e.$set(e.valido,"permanencia",t)},expression:"valido.permanencia"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaPermanencia()}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(g.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.permanencia.descripcion,callback:function(t){e.$set(e.filtro.permanencia,"descripcion",t)},expression:"filtro.permanencia.descripcion"}}):e._e()],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.permanencia.diasAbandono,callback:function(t){e.$set(e.filtro.permanencia,"diasAbandono",t)},expression:"filtro.permanencia.diasAbandono"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaPermanencia()}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1),t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que "),t("b",[e._v('perdieron "X" peso y continuan')]),e._v(" el Programa que iniciaron entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formPeso",attrs:{"lazy-validation":""},model:{value:e.valido.peso,callback:function(t){e.$set(e.valido,"peso",t)},expression:"valido.peso"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaPeso()}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(g.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.peso.descripcion,callback:function(t){e.$set(e.filtro.peso,"descripcion",t)},expression:"filtro.peso.descripcion"}}):e._e()],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.peso.diasAbandono,callback:function(t){e.$set(e.filtro.peso,"diasAbandono",t)},expression:"filtro.peso.diasAbandono"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",hint:"Peso perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.peso.pesoPerdido,callback:function(t){e.$set(e.filtro.peso,"pesoPerdido",t)},expression:"filtro.peso.pesoPerdido"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaPeso()}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1),t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que "),t("b",[e._v('bajaron "X" de IMC')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formIMC",attrs:{"lazy-validation":""},model:{value:e.valido.IMC,callback:function(t){e.$set(e.valido,"IMC",t)},expression:"valido.IMC"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaIMC()}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(g.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.IMC.descripcion,callback:function(t){e.$set(e.filtro.IMC,"descripcion",t)},expression:"filtro.IMC.descripcion"}}):e._e()],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",hint:"IMC perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(-100),e.rules.maxNumber(100)]},model:{value:e.filtro.IMC.IMCPerdido,callback:function(t){e.$set(e.filtro.IMC,"IMCPerdido",t)},expression:"filtro.IMC.IMCPerdido"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaIMC()}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1),t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que adoptaron "),t("b",[e._v('"X+" habitos saludables')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:e.valido.habitos,callback:function(t){e.$set(e.valido,"habitos",t)},expression:"valido.habitos"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaHabitos("Si")}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(g.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.habitos.descripcion,callback:function(t){e.$set(e.filtro.habitos,"descripcion",t)},expression:"filtro.habitos.descripcion"}}):e._e()],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-leaf",label:"Habitos Saludables Adoptados",hint:"Habitos Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.habitos.habitosGanados,callback:function(t){e.$set(e.filtro.habitos,"habitosGanados",t)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaHabitos("Si")}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1),t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que adoptaron "),t("b",[e._v('"X+" habitos no saludables')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:e.valido.habitos,callback:function(t){e.$set(e.valido,"habitos",t)},expression:"valido.habitos"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaHabitos("No")}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(g.r,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.habitos.descripcion,callback:function(t){e.$set(e.filtro.habitos,"descripcion",t)},expression:"filtro.habitos.descripcion"}}):e._e()],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fastfood",label:"Habitos No Saludables Adoptados",hint:"Habitos No Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.habitos.habitosGanados,callback:function(t){e.$set(e.filtro.habitos,"habitosGanados",t)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaHabitos("No")}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1),t(h.Z,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas con "),t("b",[e._v('"X+" consultas nutricionales')]),e._v(" entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.Z,{staticClass:"grey lighten-3"},[t(f.Z,{ref:"formNutricionistas",attrs:{"lazy-validation":""},model:{value:e.valido.nutricionistas,callback:function(t){e.$set(e.valido,"nutricionistas",t)},expression:"valido.nutricionistas"}},[t(v.Z,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaNutricionistas()}}},[t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.Z,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.Z,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.h,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fact_check",label:"Consultas Nutricionales",hint:"Consultas Nutricionales Esperadas. (minimas)","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.nutricion.consultas,callback:function(t){e.$set(e.filtro.nutricion,"consultas",t)},expression:"filtro.nutricion.consultas"}})],1)],1)],1),t(r.h7,[t(x.Cl),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaNutricionistas()}}},[e._v("Buscar ")]),t(x.Cl)],1)],1)],1)],1)],1)],1)],1)],1)],1),t(p.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[t(n.Z,{staticClass:"title text-capitalize terciary"},[t(m.Z,{attrs:{large:"",color:"black",left:""}},[e._v("insert_chart")]),e._v(" Resultados "),t(x.Cl),t(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(y.h,{attrs:{clearable:"",color:"grey lighten-1","background-color":"terciary lighten-4","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(n.Z,{staticClass:"title text-capitalize terciary lighten-2"},[t("div",[t(m.Z,{attrs:{color:"terciary darken-2",left:""}},[e._v("pie_chart")]),e._v(" Totales: "+e._s(e.totales)+" ")],1),t(x.Cl),t(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(s.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.informe()}}},[e._v("Informe (En Desarrollo PDF)")])],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.dataList,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(i.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(i.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:e.backgroundClass(a.item)},e._l(e.headers,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)})),0)]}}])},[t(b.Z,{attrs:{color:"green",indeterminate:""}})],1)],1)],1)],1)},_=[],C=a(629),Z=a(3979),P=a(6404),$={name:"controlNutricion",components:{dateSelect:Z.Z,bodyDataTableDinamic:P.Z},data:()=>({paginacion:{sortBy:"paciente.nombreC",descending:!1,rowsPerPage:10,page:1},headersBase:[{text:"Apellido, Nombre",value:"paciente.nombreC",class:"text-capitalize text-sm-left",ruta:"paciente.nombreC"},{text:"Documento",value:"paciente.documentoC",class:"text-sm-left",ruta:"paciente.documentoC"}],search:"",dataList:[],totales:{},headerSet:"",valido:{permanencia:!0,peso:!0,IMC:!0,habitos:!0,nutricionistas:!0},optionsJson:{},filtro:{desde:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",hasta:"",permanencia:{descripcion:"reduccion de peso",diasAbandono:14},peso:{pesoPerdido:1e3,descripcion:"reduccion de peso",diasAbandono:14},IMC:{IMCPerdido:5,descripcion:"reduccion de peso"},habitos:{habitosGanados:2,descripcion:"reduccion de peso"},nutricion:{consultas:2}}}),computed:{...(0,C.rn)(["loading","hoy","rules"]),headers(){return 0!=this.dataList.length?"Permanencia"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:"Peso"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Peso Perdido [gr]",value:"pesoPerdidoInicial",class:"text-sm-left",ruta:"pesoPerdidoInicial"},{text:"Perdido Ultimo Pesaje [gr]",value:"pesoPerdidoUltimoPesaje",class:"text-sm-left",ruta:"pesoPerdidoUltimoPesaje"},{text:"Consultas Peso [gr]",value:"consultas.peso",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"peso"}]:"IMC"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"IMC Perdido Inicial",value:"IMCPerdidoInicial",class:"text-sm-left",ruta:"IMCPerdidoInicial"},{text:"IMC Perdido Ultimo",value:"IMCPerdidoUltimoPesaje",class:"text-sm-left",ruta:"IMCPerdidoUltimoPesaje"},{text:"IMC % Perdido Inicial",value:"IMCDiferenciaPorcentual",class:"text-sm-left",ruta:"IMCDiferenciaPorcentual"},{text:"Consultas IMC",value:"consultas.IMC",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"IMC"}]:"Habitos"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Habitos Diferencia",value:"habitosDiferenciaInicial",class:"text-sm-left",ruta:"habitosDiferenciaInicial"},{text:"Habitos Ultima Diferencia",value:"habitosUltimasDiferencia",class:"text-sm-left",ruta:"habitosUltimasDiferencia"},{text:"Consultas Habitos",value:"consultas.habitos",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"habitos"}]:"Nutricionistas"===this.headerSet?[...this.headersBase,{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Consultas Nutricionales",value:"consultasCantidad",class:"text-sm-left",ruta:"consultasCantidad"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:this.headersBase:[]}},async created(){this.filtro.hasta=this.hoy,this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})},methods:{...(0,C.OI)(["mostrarError"]),...(0,C.nv)(["requestAPI","returnOptionsJSON","retroceder"]),backgroundClass(e){if(!e)return"";try{if("Peso"===this.headerSet){if("Si"===e.permanencia&&"Si"===e.cumplio)return"background-color: terciary lighten-5";if("No"===e.permanencia&&"Si"===e.cumplio)return"background-color: terciary lighten-2"}else if("Si"===e.permanencia||"Si"===e.cumplio)return"background-color: terciary lighten-5"}catch(t){return""}},async consultaPermanencia(){if(this.$refs.formPermanencia.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/permanencia?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.permanencia.diasAbandono}&programa=${this.filtro.permanencia.descripcion}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Permanencia",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaPeso(){if(this.$refs.formPeso.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/peso?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.peso.diasAbandono}&programa=${this.filtro.peso.descripcion}&pesoPerdido=${this.filtro.peso.pesoPerdido}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Peso",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaIMC(){if(this.$refs.formIMC.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/IMC?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&IMCPerdido=${this.filtro.IMC.IMCPerdido}&programa=${this.filtro.IMC.descripcion}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="IMC",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaHabitos(e){if(this.$refs.formHabitos.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/habitos?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&habitoEsperado=${this.filtro.habitos.habitosGanados||2}&programa=${this.filtro.habitos.descripcion}&saludable=${e}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="Habitos",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaNutricionistas(){if(this.$refs.formNutricionistas.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/nutricionistas?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&consultasEsperadas=${this.filtro.nutricion.consultas||0}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Nutricionistas",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async informe(){console.log("informe dataList",this.dataList),console.log("informe totales",this.totales)}}},w=$,S=a(1001),I=(0,S.Z)(w,k,_,!1,null,null,null),M=I.exports},4791:function(e,t,a){a.d(t,{Z:function(){return n}});var i=a(5721),s=a(21),o=a(5530),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},n=(0,o.Z)(i.Z,(0,s.J)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return r({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(e){var t=-1;if(!e){var a=this.open.reduce((function(e,t){return t?e+1:e}),0),i=Array(this.items.length).fill(!1);1===a&&(t=this.open.indexOf(!0)),t>-1&&(i[t]=!0),this.open=i}this.$emit("input",e?this.open:t>-1?t:null)},value:function(e){this.updateFromValue(e)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(e){if(!Array.isArray(e)||this.expand){var t=Array(this.items.length).fill(!1);"number"===typeof e?t[e]=!0:null!==e&&(t=e),this.updatePanels(t)}},updatePanels:function(e){this.open=e;for(var t=0;t<this.items.length;t++)this.items[t].toggle(e&&e[t])},panelClick:function(e){for(var t=this.expand?this.open.slice():Array(this.items.length).fill(!1),a=0;a<this.items.length;a++)this.items[a]._uid===e&&(t[a]=!this.open[a],!this.expand&&this.$emit("input",t[a]?a:null));this.updatePanels(t),this.expand&&this.$emit("input",t)},register:function(e){var t=this.items.push(e)-1;null!==this.value&&this.updateFromValue(this.value),e.toggle(!!this.open[t])},unregister:function(e){var t=this.items.findIndex((function(t){return t._uid===e._uid}));this.items.splice(t,1),this.open.splice(t,1)}},render:function(e){return e("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},4694:function(e,t,a){var i=a(2482),s=a(6815),o=a(4735),r=a(8197),n=a(21),l=a(9524),c=a(5530),d=a(8219);function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}t["Z"]=(0,c.Z)(s.Z,o.Z,r.Z,(0,n.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,d.Kd)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(e){13===e.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var e=[].concat(u(this.$slots.header||[]));return this.hideActions||e.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},e)},genIcon:function(){var e=this.$slots.actions||[this.$createElement(l.Z,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},e)])},toggle:function(e){var t=this;e&&(this.isBooted=!0),this.$nextTick((function(){return t.isActive=e}))}},render:function(e){return e("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),e(i.Fx,[this.genBody()])])}})},445:function(e,t,a){a.d(t,{Z:function(){return s}});var i=a(21),s={name:"v-form",mixins:[(0,i.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},i={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?i.shouldValidate=e.$watch("shouldValidate",(function(s){s&&(t.errorBag.hasOwnProperty(e._uid)||(i.valid=a(e)))})):i.valid=a(e),i},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var t=this.watchInput(e);this.inputs.push(e),this.watchers.push(t)},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}}}]);