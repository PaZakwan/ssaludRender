"use strict";(globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]=globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[372],{3979:(e,a,t)=>{t.d(a,{Z:()=>m});var r=t(6961),i=t(683),o=t(9456),l=t(5084),n=t(4618),s=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"","px-2":""}},[a(l.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(n.h,e._g({attrs:{clearable:!e.soloLect&&!!e.clear,"background-color":e.soloLect?`${e.color} lighten-2`:`${e.color} lighten-5`,label:e.label,"prepend-icon":e.prepend,readonly:"",color:`${e.color} darken-3`,rules:e.req?e.validate:[]},on:{"click:clear":function(a){return e.$emit("input","")}},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:"fecha"}},t))]}}]),model:{value:e.menufecha1,callback:function(a){e.menufecha1=a},expression:"menufecha1"}},[a(r.Z,{attrs:{readonly:e.soloLect,"allowed-dates":e.allowedDates,min:e.fecMin,max:e.fecMax,color:`${e.color} darken-3`,"header-color":`${e.color} darken-1`,locale:"mx"},on:{input:function(a){e.menufecha1=!1,e.$emit("input",a)}},model:{value:e.fecha,callback:function(a){e.fecha=a},expression:"fecha"}})],1)],1)],1)},c=[];const d={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable"],data(){return{menufecha1:!1,validate:[e=>e?""===e.trim()?"Este campo es requerido.":!(e&&e.length<10)||"Ingrese fecha valida (AAAA-MM-DD).":"Este campo es requerido."]}},computed:{fecha:function(){return this.value},soloLect:function(){return this.soloLectura||!1},prepend:function(){return this.icon||"event"},req:function(){return this.requerido||!1},clear:function(){return this.clearable||!1},fecMin:function(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax:function(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction:function(){return this.filtro||[]}},methods:{allowedDates:function(e){return!this.restriction.includes(new Date(e).getUTCDay())}}},u=d;var p=t(1001),h=(0,p.Z)(u,s,c,!1,null,null,null);const m=h.exports},5764:(e,a,t)=>{t.d(a,{Z:()=>S});var r=t(6579),i=t(6194),o=t(8956),l=t(2353),n=t(5049),s=t(683),c=t(445),d=t(3667),u=t(2208),p=t(9456),h=t(4036),m=t(8143),f=t(4920),g=function(){var e=this,a=e._self._c;return a(n.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:e.dialogPaciente.state,callback:function(a){e.$set(e.dialogPaciente,"state",a)},expression:"dialogPaciente.state"}},[a(o.Z,{staticClass:"dialog-draggable-window",attrs:{tile:""}},[a(f.Z,{key:!e.dialogPaciente.id,staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[a(d.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"black darken-2"}},[e._v(e._s(e.dialogPaciente.id?"fas fa-user-edit":"fas fa-user-plus"))]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[e._v(e._s(e.dialogPaciente.id?`Editar: ${e.dataEdit.nombreC}`:"Alta Nuevo Paciente"))]),a(m.Cl),a(r.Z,{directives:[{name:"show",rawName:"v-show",value:e.dataEdit.validadoRENAPER,expression:"dataEdit.validadoRENAPER"}],staticClass:"mx-1",attrs:{tile:!1,size:"32px"}},[a(u.Z,{attrs:{src:t(6239),alt:"renaper"}})],1),a(d.Z,{attrs:{large:"",disabled:e.loading.estado,color:"error darken-1"},on:{click:e.close}},[e._v("cancel_presentation")])],1),a(l.ZB,{staticClass:"my-0 py-0"},[a(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(p.Z,{attrs:{wrap:""}},[a("formPaciente",{attrs:{paciente:e.dataEdit}})],1),"ADMIN_ROLE"===e.persona.role&&e.dialogPaciente.id?a(p.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"","ma-2":""}},[a(o.Z,{attrs:{dark:"",color:"error darken-1"}},[a(l.ZB,{staticClass:"px-0 text-xs-center text-uppercase"},[e._v(" === Visibilidad del Objeto === ")])],1)],1),a(s.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(h.r,{attrs:{rules:[...e.rules.requerido],"item-value":"valor","item-text":"label",items:e.estados,label:"Estado","prepend-icon":"check_circle","background-color":"true"==e.dataEdit.estado?"green lighten-1":"error lighten-1",color:"terciary"},model:{value:e.dataEdit.estado,callback:function(a){e.$set(e.dataEdit,"estado",a)},expression:"dataEdit.estado"}})],1),a(s.Z,{attrs:{xs0:"",sm3:"","px-3":""}})],1):e._e()],1)],1),a(l.h7,[a(p.Z,{attrs:{row:"",wrap:""}},[a(m.Cl),a(i.Z,{staticClass:"error darken-1",attrs:{disabled:e.loading.estado,round:"",loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar ")]),a(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:e.loading.estado||e.dialogPaciente.soloLectura,loading:e.loading.estado,round:""},on:{click:function(a){return e.guardarPaciente()}}},[e._v(" "+e._s(e.valido?e.dialogPaciente.id?"Guardar Cambios":"Alta Paciente":"Formulario No valido")+" ")])],1)],1)],1)],1)},y=[],b=t(629),v=t(7416),x=t(6961),A=t(5084),k=t(4618),_=t(5730),E=t(1415),L=function(){var e=this,a=e._self._c;return a(p.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura||e.paciente.validadoRENAPER,clearable:!(e.soloLectura||e.paciente.validadoRENAPER),"background-color":e.soloLectura||e.paciente.validadoRENAPER?"terciary":"terciary lighten-5","prepend-icon":"person",label:"Apellido",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"terciary","validate-on-blur":""},model:{value:e.paciente.apellido,callback:function(a){e.$set(e.paciente,"apellido",a)},expression:"paciente.apellido"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura||e.paciente.validadoRENAPER,clearable:!(e.soloLectura||e.paciente.validadoRENAPER),"background-color":e.soloLectura||e.paciente.validadoRENAPER?"terciary":"terciary lighten-5","prepend-icon":"person",label:"Nombre",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"terciary","validate-on-blur":""},model:{value:e.paciente.nombre,callback:function(a){e.$set(e.paciente,"nombre",a)},expression:"paciente.nombre"}})],1),a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(v.Z,{attrs:{readonly:e.soloLectura||e.paciente.validadoRENAPER,clearable:!(e.soloLectura||e.paciente.validadoRENAPER),"background-color":e.soloLectura||e.paciente.validadoRENAPER?"terciary":"terciary lighten-5",items:e.documentos,label:"Tipo de Documento","prepend-icon":"fas fa-id-card",color:"terciary","validate-on-blur":"",rules:e.paciente.documento?[...e.rules.requerido]:[]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.tipo_doc=null))}},model:{value:e.paciente.tipo_doc,callback:function(a){e.$set(e.paciente,"tipo_doc",a)},expression:"paciente.tipo_doc"}})],1),a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura||e.paciente.validadoRENAPER,clearable:!(e.soloLectura||e.paciente.validadoRENAPER),"background-color":e.soloLectura||e.paciente.validadoRENAPER?"terciary":"terciary lighten-5",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"far fa-id-card",label:"Documento",type:"number",maxlength:"10",counter:"",rules:e.paciente.tipo_doc?[...e.rules.requerido,...e.rules.soloNumero,e.rules.minNumber(0),e.rules.maxLength(10)]:[...e.rules.soloNumero,e.rules.minNumber(0),e.rules.maxLength(10)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.documento,callback:function(a){e.$set(e.paciente,"documento",a)},expression:"paciente.documento"}})],1),a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(h.r,{attrs:{readonly:e.soloLectura||e.paciente.validadoRENAPER,clearable:!(e.soloLectura||e.paciente.validadoRENAPER),"background-color":e.soloLectura||e.paciente.validadoRENAPER?"terciary":"terciary lighten-5",items:e.sexos,label:"Sexo","prepend-icon":"fas fa-venus-mars",color:"terciary",rules:[...e.rules.requerido]},model:{value:e.paciente.sexo,callback:function(a){e.$set(e.paciente,"sexo",a)},expression:"paciente.sexo"}})],1),a(s.Z,{class:e.paciente.fec_fallecimiento?"sm2":"sm3",attrs:{xs12:"","px-3":""}}),e.soloLectura||e.paciente.validadoRENAPER?a(s.Z,{class:e.paciente.fec_fallecimiento?"sm4":"sm6",attrs:{xs12:"","px-3":""}},[a(k.h,{attrs:{readonly:"","background-color":"terciary",label:"Fecha de Nacimiento","prepend-icon":"event",color:"terciary darken-3",rules:[...e.rules.requerido,...e.rules.fecha]},model:{value:e.paciente.fec_nac,callback:function(a){e.$set(e.paciente,"fec_nac",a)},expression:"paciente.fec_nac"}})],1):a(s.Z,{class:e.paciente.fec_fallecimiento?"sm4":"sm6",attrs:{xs12:"","px-3":""}},[a(A.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(k.h,e._g({attrs:{clearable:"","background-color":"terciary lighten-5",label:"Fecha de Nacimiento","prepend-icon":"event",readonly:"",color:"terciary darken-3",placeholder:"YYYY-MM-DD",rules:[...e.rules.requerido,...e.rules.fecha]},model:{value:e.paciente.fec_nac,callback:function(a){e.$set(e.paciente,"fec_nac",a)},expression:"paciente.fec_nac"}},t))]}}]),model:{value:e.menuFecha,callback:function(a){e.menuFecha=a},expression:"menuFecha"}},[a(x.Z,{ref:"picker",attrs:{readonly:e.soloLectura,color:"terciary darken-3","header-color":"terciary darken-1",locale:"mx",max:e.hoy,min:"1900-01-01"},on:{change:e.saveDate},model:{value:e.paciente.fec_nac,callback:function(a){e.$set(e.paciente,"fec_nac",a)},expression:"paciente.fec_nac"}})],1)],1),e.paciente.fec_fallecimiento?a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(k.h,{attrs:{readonly:"","background-color":"terciary",label:"Fecha de Deceso","prepend-icon":"fa-solid fa-cross fa-beat",color:"terciary darken-3",rules:[...e.rules.requerido,...e.rules.fecha]},model:{value:e.paciente.fec_fallecimiento,callback:function(a){e.$set(e.paciente,"fec_fallecimiento",a)},expression:"paciente.fec_fallecimiento"}})],1):e._e(),a(s.Z,{class:e.paciente.fec_fallecimiento?"sm2":"sm3",attrs:{xs12:"","px-3":""}}),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"phone",label:"Telefono",type:"text",onkeydown:"return event.key === 'Backspace' || event.key === 'Delete' || event.key === 'ArrowRight' || event.key === 'ArrowLeft' || /^[0-9\\s.,+=-]+$/.test(event.key)",maxlength:"15",counter:"",rules:[...e.rules.soloNumeroMas,e.rules.maxLength(15)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.telefono,callback:function(a){e.$set(e.paciente,"telefono",a)},expression:"paciente.telefono"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"mail",label:"E-Mail",type:"text",rules:[...e.rules.mail],color:"terciary","validate-on-blur":""},model:{value:e.paciente.email,callback:function(a){e.$set(e.paciente,"email",a)},expression:"paciente.email"}})],1),a(p.Z,{attrs:{grey:"","lighten-3":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"place",label:"Direccion",type:"text",color:"terciary","validate-on-blur":""},model:{value:e.paciente.dir_calle,callback:function(a){e.$set(e.paciente,"dir_calle",a)},expression:"paciente.dir_calle"}})],1),a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"#",label:"Nro",type:"number",rules:[...e.rules.soloNumero,e.rules.minNumber(0)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.dir_numero,callback:function(a){e.$set(e.paciente,"dir_numero",a)},expression:"paciente.dir_numero"}})],1),a(s.Z,{attrs:{xs12:"",sm3:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"far fa-building",label:"Piso",type:"text",color:"terciary"},model:{value:e.paciente.dir_piso,callback:function(a){e.$set(e.paciente,"dir_piso",a)},expression:"paciente.dir_piso"}})],1),a(s.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"far fa-map",label:"Barrio",type:"text",color:"terciary"},model:{value:e.paciente.dir_barrio,callback:function(a){e.$set(e.paciente,"dir_barrio",a)},expression:"paciente.dir_barrio"}})],1),a(s.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(v.Z,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",items:e.optionsJson.opcLocalidades,"item-value":"description","item-text":"description",label:"Localidad (Ciudad)","prepend-icon":"fas fa-city",color:"terciary",rules:[...e.rules.requerido]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.dir_localidad=null))}},model:{value:e.paciente.dir_localidad,callback:function(a){e.$set(e.paciente,"dir_localidad",a)},expression:"paciente.dir_localidad"}})],1),a(s.Z,{attrs:{xs12:"",sm3:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"domain",label:"Depto",type:"text",color:"terciary"},model:{value:e.paciente.dir_depto,callback:function(a){e.$set(e.paciente,"dir_depto",a)},expression:"paciente.dir_depto"}})],1),a(s.Z,{attrs:{xs12:"","mx-3":""}},[a(_.Z,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Descripcion del Domicilio",color:"terciary","prepend-icon":"house"},model:{value:e.paciente.dir_descripcion,callback:function(a){e.$set(e.paciente,"dir_descripcion",a)},expression:"paciente.dir_descripcion"}})],1)],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"fas fa-id-card-alt",label:"Cobertura Social",type:"text",color:"terciary","validate-on-blur":""},model:{value:e.paciente.oSocial,callback:function(a){e.$set(e.paciente,"oSocial",a)},expression:"paciente.oSocial"}})],1),a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"fas fa-id-card-alt",label:"Numero de Afiliado",type:"Number",color:"terciary","validate-on-blur":""},model:{value:e.paciente.oSocialNumero,callback:function(a){e.$set(e.paciente,"oSocialNumero",a)},expression:"paciente.oSocialNumero"}})],1),a(s.Z,{attrs:{xs12:"",terciary:"","lighten-1":"","pa-1":""}},[a("h4",e._g({staticClass:"title white--text"},e.on),[e._v(" N° de Historial Clinico en las Unidades de Atencion ")])]),e._l(e.paciente.hist_salitas,(function(t,r){return a(s.Z,{key:`hist_salitas-${r}`,attrs:{xs12:""}},[a(p.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(v.Z,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencion,label:"Unidad de Atencion","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:e.paciente.hist_salitas[r].historial||0!=r?e.rules.requerido:[]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.hist_salitas[r].area=null))}},model:{value:e.paciente.hist_salitas[r].area,callback:function(a){e.$set(e.paciente.hist_salitas[r],"area",a)},expression:"paciente.hist_salitas[index].area"}})],1),a(s.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(k.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",label:"N° de Historial en la Unidad","prepend-icon":"fas fa-file-medical",type:"text",color:"terciary","validate-on-blur":"",maxlength:e.paciente.hist_salitas[r].area||e.paciente.hist_salitas[r].historial||0!=r?"9":"",counter:!(!e.paciente.hist_salitas[r].area&&!e.paciente.hist_salitas[r].historial)||0!=r,rules:e.paciente.hist_salitas[r].area||e.paciente.hist_salitas[r].historial||0!=r?[...e.rules.requerido,...e.rules.textoNumero,e.rules.maxLength(9)]:[]},model:{value:e.paciente.hist_salitas[r].historial,callback:function(a){e.$set(e.paciente.hist_salitas[r],"historial",a)},expression:"paciente.hist_salitas[index].historial"}})],1),0===r?a(E.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({attrs:{disabled:e.soloLectura,flat:"",icon:"",color:"blue lighten-2"},on:{click:function(a){return e.agregarFila(e.paciente.hist_salitas,{area:null,historial:""})}}},t),[a(d.Z,{attrs:{large:""}},[e._v("add_circle")])],1)]}}],null,!0)},[a("span",[e._v("Agregar Historial en nueva Unidad")])]):a(E.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({attrs:{disabled:e.soloLectura,small:"",flat:"",icon:"",color:"red lighten-2"},on:{click:function(a){return e.borrarFila(e.paciente.hist_salitas,r)}}},t),[a(d.Z,[e._v("delete_forever")])],1)]}}],null,!0)},[a("span",[e._v("Eliminar Historial"+e._s(""+(e.paciente.hist_salitas[r].historial?`: ${e.paciente.hist_salitas[r].historial}`:".")))])])],1)],1)}))],2)},w=[];const N={name:"formPaciente",props:["paciente"],data(){return{menuFecha:!1,unidadesAtencion:[],optionsJson:{opcLocalidades:[]},sexos:["Masculino","Femenino"],documentos:["DNI","Cédula Mercosur","Pasaporte extranjero","Otro documento extranjero","Pasaporte","CI","LE","LC"]}},computed:{...(0,b.rn)(["hoy","rules"]),...(0,b.rn)({soloLectura:e=>e.paciente.dialogPaciente.soloLectura})},watch:{menuFecha(e){e&&setTimeout((()=>this.$refs.picker.activePicker="YEAR"))}},async mounted(){this.optionsJson.opcLocalidades=await this.returnOptionsJSON({key:"106",opcion:"opcLocalidades"}),this.unidadesAtencion.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,b.nv)(["returnOptionsJSON"]),...(0,b.nv)("main_areas",["buscarAreaFiltros"]),saveDate(e){this.$refs.menu.save(e)},agregarFila(e,a){e.push(a??"")},borrarFila(e,a){e.splice(a,1)}}},Z=N;var P=t(1001),D=(0,P.Z)(Z,L,w,!1,null,null,null);const R=D.exports,C={name:"dialogPaciente",props:["closeFinish"],components:{formPaciente:R},data:()=>({valido:!0,dataEdit:{},estados:[{label:"Activo",valor:"true"},{label:"Desactivado",valor:"false"}],dataEditBase:{apellido:"",nombre:"",tipo_doc:"",documento:"",dir_calle:"",dir_numero:"",dir_piso:"",dir_depto:"",dir_barrio:"",dir_localidad:"",dir_descripcion:"",zona:"",telefono:"",email:"",fec_nac:"",sexo:"",oSocial:"",oSocialNumero:"",hist_salitas:[{area:null,historial:""}],estado:"true",nombreC:"",fec_fallecimiento:"",validadoRENAPER:void 0}}),computed:{...(0,b.rn)(["loading","persona","rules"]),...(0,b.rn)("paciente",["dialogPaciente"])},watch:{async"dialogPaciente.state"(e){e&&(this.dataEdit=this._cloneDeep(this.dataEditBase),this.dialogPaciente.id&&await this.buscarPacienteID()),this.$refs.form.resetValidation()}},beforeMount(){this.dataEdit=this._cloneDeep(this.dataEditBase)},methods:{...(0,b.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,b.nv)(["requestAPI"]),...(0,b.nv)("paciente",["actualizarDialogPaciente"]),async buscarPacienteID(){try{this.mostrarLoading({titulo:"Buscando Paciente..."});let e=null;if(e=await this.requestAPI({method:"get",url:`/paciente/buscar/${this.dialogPaciente.id}`}),e?.data?.ok){let a={};for(const t in e.data.paciente)e.data.paciente.hasOwnProperty(t)&&("fec_nac"===t||e.data.paciente[t]instanceof Date?a[t]=this.mostrarFecha(e.data.paciente[t]):"number"===typeof e.data.paciente[t]||"boolean"===typeof e.data.paciente[t]?a[t]=e.data.paciente[t].toString():a[t]=e.data.paciente[t]);return 0===a.hist_salitas?.length&&(a.hist_salitas=this.dataEditBase.hist_salitas),this.dataEdit=Object.assign(this.dataEdit,a),a}return!1}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado (buscarPacienteID)"}),!1}finally{this.ocultarLoading()}},async validarRENAPER(){try{if(this.mostrarLoading({titulo:"Efectuando cambios..."}),!this.dataEdit.sexo||!this.dataEdit.documento)return this.mostrarError({mensaje:"Revise los campos obligatorios.\n Documento y Sexo.",titulo:"Valores Requeridos"}),!1;if(this.dataEdit.tipo_doc&&"DNI"!==this.dataEdit.tipo_doc)return this.mostrarError({mensaje:"RENAPER solamente verifica los DNI.",titulo:"Solamente DNI"}),!1;let e=null;return e=await this.requestAPI({method:"get",url:`/paciente/renaper/buscar?dni=${this.dataEdit.documento}&sx=${this.dataEdit.sexo[0]}`}),!!e?.data?.ok&&(this.dataEdit=Object.assign(this.dataEdit,e.data.paciente),!0)}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado (validarRENAPER)"}),!1}finally{this.ocultarLoading()}},async guardarPaciente(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Guardando Paciente..."});let e=this._cloneDeep(this.dataEdit);if(!e._id){let a=this.isVacio(e,!0);if(!0===a.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;e=a.dato}let a=null;return a=e._id?await this.requestAPI({method:"put",url:`/paciente/${e._id}`,update:e}):await this.requestAPI({method:"post",url:"/paciente",update:e}),!!a?.data?.ok&&(a.data.paciente?.documentoC?this.mostrarMensaje({msj:[`Paciente ${e._id?"Editado":"Guardado"} exitosamente.`,`<##> Documento: ${a.data.paciente.documentoC.toString()} <##>`],titulo:"Completado"}):this.mostrarMensaje({msj:[`Paciente ${e._id?"Editado":"Guardado"} exitosamente.`],titulo:"Completado"}),this.close(),!0)}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado (guardarPaciente)"}),!1}finally{this.ocultarLoading()}},close(){this.actualizarDialogPaciente({state:!1}),this.closeFinish?.()}}},B=C;var F=(0,P.Z)(B,g,y,!1,null,null,null);const S=F.exports},445:(e,a,t)=>{t.d(a,{Z:()=>i});var r=t(21);const i={name:"v-form",mixins:[(0,r.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var a=this,t=function(e){return e.$watch("hasError",(function(t){a.$set(a.errorBag,e._uid,t)}),{immediate:!0})},r={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(a.errorBag.hasOwnProperty(e._uid)||(r.valid=t(e)))})):r.valid=t(e),r},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var a=this.watchInput(e);this.inputs.push(e),this.watchers.push(a)},unregister:function(e){var a=this.inputs.find((function(a){return a._uid===e._uid}));if(a){var t=this.watchers.find((function(e){return e._uid===a._uid}));t.valid&&t.valid(),t.shouldValidate&&t.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==a._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(e){var a=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return a.$emit("submit",e)}}},this.$slots.default)}}},6239:e=>{e.exports="data:image/png;base64,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"}}]);