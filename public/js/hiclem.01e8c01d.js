"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[6177],{65970:(a,t,e)=>{e.r(t),e.d(t,{default:()=>Xa});var o=e(58469),i=e(66194),s=e(18956),r=e(32353),l=e(19418),n=e(66530),c=e(47352),d=e(50108),u=e(60683),p=e(73667),h=e(59456),g=e(36446),m=e(98143),v=e(74618),f=function(){var a=this,t=a._self._c;return t(n.Z,{attrs:{fluid:"","grid-list-xs":""}},[t(h.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:""}},[t(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.Z,{staticClass:"cuarto darken-2"},[t(r.ZB,{staticClass:"white--text text-xs-center text-uppercase"},[a._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1),t(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.Z,{staticClass:"cuarto darken-1"},[t(r.ZB,{staticClass:"white--text text-xs-center"},[a._v("====== ====== BUSCAR ====== ======")])],1),t(s.Z,{staticClass:"elevation-6 grey lighten-2"},[t(u.Z,{attrs:{xs12:""},on:{keypress:function(t){return!t.type.indexOf("key")&&a._k(t.keyCode,"enter",13,t.key,"Enter")?null:a.recargarDataTable(a.filtroPacientes)}}},[t("formFiltroPaciente",{attrs:{filtro:a.filtroPacientes}})],1),t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},["ADMIN_ROLE"===a.persona.role?t(i.Z,{staticClass:"white--text orange darken-4",attrs:{round:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.recargarDataTable("todos")}}},[a._v("Cargar Toda la BD")]):a._e(),t(m.Cl),t(m.Cl),t(m.Cl),t(i.Z,{staticClass:"white--text cuarto darken-2",attrs:{round:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.recargarDataTable(a.filtroPacientes)}}},[a._v("Buscar ")]),t(m.Cl)],1)],1)],1),t(u.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[t(l.Z,{staticClass:"title text-capitalize white--text terciary elevation-6"},[t(p.Z,{attrs:{large:"",color:"white",left:""}},[a._v("people")]),a._v(" Pacientes "),t(m.Cl),t(d.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(v.h,{attrs:{clearable:"","append-icon":"search",label:"Filtrar","single-line":"","hide-details":"",color:"grey lighten-3 "},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1),t(h.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t(u.Z,{attrs:{xs12:"",sm7:"","px-3":""}},[t(h.Z,{attrs:{"align-left":"","justify-left":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"","px-3":""}},[t(p.Z,{attrs:{small:"",color:"terciary darken-2",left:""}},[a._v("fas fa-user-edit")]),t("span",{staticClass:"body-2 black--text"},[a._v("Actualizar Informacion del Paciente")])],1),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(p.Z,{attrs:{small:"",color:"orange darken-2",left:""}},[a._v("fa-book-medical")]),t("span",{staticClass:"body-2 black--text"},[a._v("Ver Historial Clinico del Paciente")])],1)],1)],1),t(m.Cl),t(d.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogPaciente({state:!0})}}},[a._v("Alta Nuevo Paciente")])],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:a.headers,items:a.dataTable,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item)},[t("td",{staticClass:"text-sm-left"},[t("div",{staticStyle:{width:"70px"}},[t(h.Z,{attrs:{row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"",sm5:""}},[t(i.Z,{attrs:{flat:"",icon:"",disabled:a.loading.estado,color:"terciary"},on:{click:function(t){return a.actualizarDialogPaciente({state:!0,id:e.item._id})}}},[t(p.Z,[a._v("fas fa-user-edit")])],1)],1),t(u.Z,{attrs:{xs12:"",sm5:""}},[t(i.Z,{attrs:{flat:"",icon:"",disabled:a.loading.estado,color:"orange darken-2"},on:{click:function(t){return a.actualizarDialogHistorial({state:!0,id:e.item._id})}}},[t(p.Z,[a._v("fa-book-medical")])],1)],1)],1)],1)]),t("td",{staticClass:"text-capitalize text-sm-left"},[a._v(a._s(e.item.nombreC))]),t("td",{staticClass:"text-sm-left"},[a._v(a._s(e.item.fec_nac))]),t("td",{staticClass:"text-sm-left"},[a._v(a._s(e.item.documentoC))]),t("td",{staticClass:"text-capitalize text-sm-left"},[a._v(a._s(e.item.direccion))]),t("td",{staticClass:"text-capitalize text-sm-left"},[a._v(a._s(e.item.dir_localidad))]),t("td",{staticClass:"text-sm-left"},[a._v(a._s(e.item.telefono))])])]}}]),model:{value:a.seleccionados,callback:function(t){a.seleccionados=t},expression:"seleccionados"}},[t(g.Z,{attrs:{color:"green",indeterminate:""}})],1)],1),t("dialogPaciente",{attrs:{closeFinish:a.recargarDataTable}}),t("dialogHistorial",{attrs:{closeFinish:a.recargarDataTable}})],1)],1)},b=[],x=e(20629),y=e(74272),_=e(6167),C=e(95049),k=e(84791),Z=e(50445),M=e(24920),w=function(){var a=this,t=a._self._c;return t(C.Z,{attrs:{"max-width":"90%",persistent:"",scrollable:""},model:{value:a.dialogHistorial.state,callback:function(t){a.$set(a.dialogHistorial,"state",t)},expression:"dialogHistorial.state"}},[t(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(M.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Historial Clinico")]),t(m.Cl),t(p.Z,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.ZB,[t(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.Z,{attrs:{"grid-list-md":""}},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""}},[t("expandPacienteData")],1)],1),t("formHistorial",{attrs:{historial_unico:a.dataEdit,sexo:a.dialogHistorial.paciente?.sexo,refreshState:a.dialogHistorial.state,soloLectura:a.dialogHistorial.soloLectura}}),t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandMotivos",{attrs:{expandOpen:0===a.expandPanel||a.expandPanel?.[0],refresh:a.recargarPaciente}}),t("expandMedicacion",{attrs:{expandOpen:1===a.expandPanel||a.expandPanel?.[1],refresh:a.recargarPaciente}})],1)],1),"ADMIN_ROLE"===a.persona.role?t(u.Z,{attrs:{xs12:"","px-3":""}},[t("pre",[a._v("                // DESARROLLAR RESUMEN expand    Medicacion\n                // DESARROLLAR RESUMEN expand    Antropometria\n                // DESARROLLAR RESUMEN expand    Signos Vitales\n                // DESARROLLAR RESUMEN expand    Vacunas\n                // DESARROLLAR RESUMEN expand    Coberturas Medicas\n              ")])]):a._e()],1)],1)],1)],1),t(r.h7,[t(h.Z,{attrs:{row:"",wrap:""}},[t(m.Cl),t(i.Z,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogHistorial.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorial({data:a.dataEdit,validate:a.$refs.form.validate,finish:a.recargarPaciente})}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},E=[],L=e(16579),H=e(94694),P=function(){var a=this,t=a._self._c;return t(H.Z,{staticClass:"grey lighten-4",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.Z,{attrs:{color:"black"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.Z,{staticClass:"black--text title",attrs:{xs12:""}},[t(L.Z,{staticClass:"mr-2 mb-1",attrs:{size:"38px",color:"white"}},[t(p.Z,{staticStyle:{height:"30px",width:"30px"},attrs:{color:"black"}},[a._v("person")])],1),t("b",[a._v(" "+a._s(` ${a.dialogHistorial.paciente?.apellido}, ${a.dialogHistorial.paciente?.nombre} ${a.dialogHistorial.paciente?.documentoC?`(${a.dialogHistorial.paciente?.documentoC})`:""} `)+" ")]),t(d.Z,{staticClass:"mx-1 black"})],1)]},proxy:!0}])},[t(s.Z,[t(r.ZB,{staticClass:"grey lighten-4 pa-0"},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{staticClass:"capitalizar",attrs:{value:`${a.dialogHistorial.paciente?.apellido}, ${a.dialogHistorial.paciente?.nombre}`,"prepend-icon":"person",label:"Apellido, Nombre",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{value:`${a.dialogHistorial.paciente?.documentoC}`,"prepend-icon":"far fa-id-card",label:"Documento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{value:`${a.dialogHistorial.paciente?.fec_nac}`,"prepend-icon":"event",label:"Fec. Nacimiento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{value:`${a.dialogHistorial.paciente?.telefono}`,"prepend-icon":"phone",label:"Telefono",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{value:`${a.dialogHistorial.paciente?.direccion}`,"prepend-icon":"home",label:"Domicilio",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{value:`${a.dialogHistorial.paciente?.dir_localidad}`,"prepend-icon":"fas fa-city",label:"Localidad",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1)],1)],1)],1)],1)},$=[];const A={name:"expandPacienteData",data(){return{}},computed:{...(0,x.rn)("hiclem",["dialogHistorial"])},methods:{}},D=A;var S=e(1001),O=(0,S.Z)(D,P,$,!1,null,null,null);const z=O.exports;var F=e(883),N=e(67416),T=e(21415),B=function(){var a=this,t=a._self._c;return t(H.Z,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.Z,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.Z,{staticClass:"white--text subheading",attrs:{xs12:""}},[t("p",{staticClass:"mb-1"},[t("b",[t(L.Z,{staticClass:"mr-2",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.Z,{staticStyle:{height:"28px",width:"28px"},attrs:{color:"orange darken-2"}},[a._v("fa-book-medical")])],1),t("span",{domProps:{innerHTML:a._s(" Motivos de Atencion (Consultas) ")}})],1)]),t(d.Z,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.Z,[t(r.ZB,{staticClass:"terciary lighten-2"},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(l.Z,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.Z,{attrs:{xs12:"",sm4:""}},[t(N.Z,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltroEstado,label:"Mostrar Motivos"},model:{value:a.filtroEstado,callback:function(t){a.filtroEstado=t},expression:"filtroEstado"}})],1),t(u.Z,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogMotivoHistorial({state:!0})}}},[a._v("Nuevo Motivo")])],1),t(u.Z,{attrs:{xs12:"",sm4:""}},[t(v.h,{attrs:{dark:"",clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogMotivoHistorial({state:!0,motivo:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(g.Z,{attrs:{color:"terciary",indeterminate:""}})],1)],1),t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(T.Z,{attrs:{right:""},scopedSlots:a._u([{key:"activator",fn:function({on:e}){return[t("b",{staticStyle:{cursor:"pointer"},on:{click:function(t){a.showTooltip=!a.showTooltip}}},[a._v("Informacion de Colores en Motivos"),t(p.Z,a._g({staticStyle:{transform:"rotate(180deg)"},attrs:{medium:"",color:"orange lighten-4",right:""}},e),[a._v("info_outline")])],1)]}}]),model:{value:a.showTooltip,callback:function(t){a.showTooltip=t},expression:"showTooltip"}},[t("pre",[a._v("Activos:\n  "),t("span",{staticClass:"black--text background-color: red lighten-3",staticStyle:{"font-weight":"bold"}},[a._v("Critica: Rojo")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: orange lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Moderada: Amarillo")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: green lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Leve: Verde")]),a._v("\n  "),t("span",{staticClass:"black--text background-color: grey lighten-2",staticStyle:{"font-weight":"bold"}},[a._v("Incapaz de evaluar: Gris")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Finalizado: Celeste")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue",staticStyle:{"font-weight":"bold"}},[a._v("Abandonado: Azul")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-2",staticStyle:{"font-weight":"bold"}},[a._v("Suspendido: Azul Claro")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue darken-2",staticStyle:{"font-weight":"bold"}},[a._v("Cancelado: Azul Oscuro")])])])],1)],1)],1)],1),t("dialogMotivo",{attrs:{closeFinish:a.closeMotivo}})],1)},I=[],j=function(){var a=this,t=a._self._c;return t(C.Z,{attrs:{"max-width":"85%",persistent:"",scrollable:""},model:{value:a.dialogMotivoHistorial.state,callback:function(t){a.$set(a.dialogMotivoHistorial,"state",t)},expression:"dialogMotivoHistorial.state"}},[t(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(M.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Motivo")]),t(m.Cl),t(p.Z,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.ZB,[t(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.Z,{attrs:{"grid-list-md":""}},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a.dataEdit.id?t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""}},[t("expandPacienteData")],1)],1):a._e(),t("formMotivo",{attrs:{motivo:a.dataEdit}}),a.dataEdit.id?t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandConsulta",{attrs:{expandOpen:0===a.expandPanel||a.expandPanel?.[0]}})],1)],1):a._e(),a.dataEdit.id&&"ADMIN_ROLE"===a.persona.role?t(u.Z,{attrs:{xs12:"","px-3":""}},[t("pre",[a._v("                // Desarrollar Estudios / Contra-Referencias\n                // Desarrollar Medicamentos\n              ")])]):a._e()],1)],1)],1)],1),t(r.h7,[t(h.Z,{attrs:{row:"",wrap:""}},[t(m.Cl),t(i.Z,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogMotivoHistorial.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialMotivo()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},R=[],q=e(91232),J=e(25730),V=function(){var a=this,t=a._self._c;return t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogMotivoHistorial.soloLectura,value:a.motivo.createdAt,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha de Inicio",icon:"event",requerido:!0,min:"",max:a.hoy,filtro:""},model:{value:a.motivo.createdAt,callback:function(t){a.$set(a.motivo,"createdAt",t)},expression:"motivo.createdAt"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_severidad,label:"Severidad","prepend-icon":"traffic",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.severidad=null))}},model:{value:a.motivo.severidad,callback:function(t){a.$set(a.motivo,"severidad",t)},expression:"motivo.severidad"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_especialidad,label:"Especialidad del Motivo","prepend-icon":"fas fa-stethoscope",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.motivo_especialidad=null))}},model:{value:a.motivo.motivo_especialidad,callback:function(t){a.$set(a.motivo,"motivo_especialidad",t)},expression:"motivo.motivo_especialidad"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:a.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.profesional=null))}},model:{value:a.motivo.profesional,callback:function(t){a.$set(a.motivo,"profesional",t)},expression:"motivo.profesional"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_estado,label:"Estado","prepend-icon":"fas fa-tasks",rules:[...a.rules.requerido]},model:{value:a.motivo.estado,callback:function(t){a.$set(a.motivo,"estado",t)},expression:"motivo.estado"}})],1),"Activo"!=a.motivo.estado?t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogMotivoHistorial.soloLectura,value:a.motivo.estadoFecha,"background-color":"terciary lighten-5",color:"terciary",label:`Fecha de ${a.motivo.estado}`,icon:"event",requerido:!0,min:"",max:a.hoy,filtro:"",rules:[...a.rules.requerido]},model:{value:a.motivo.estadoFecha,callback:function(t){a.$set(a.motivo,"estadoFecha",t)},expression:"motivo.estadoFecha"}})],1):a._e(),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(q.Z,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5",color:"terciary",items:a.optionsActividadesJson,label:"Descripcion / Sintomas / Programas de control","prepend-icon":"fact_check",rules:[...a.rules.requerido],"auto-grow":"",rows:"2"},on:{"click:clear":function(t){a.$nextTick((()=>a.motivo.actividad=null))}},model:{value:a.motivo.descripcion,callback:function(t){a.$set(a.motivo,"descripcion",t)},expression:"motivo.descripcion"}})],1),t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(J.Z,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Evolucion",color:"terciary","prepend-icon":"fa-book-medical"},model:{value:a.motivo.evolucion,callback:function(t){a.$set(a.motivo,"evolucion",t)},expression:"motivo.evolucion"}})],1),t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(J.Z,{attrs:{readonly:a.dialogMotivoHistorial.soloLectura,clearable:!a.dialogMotivoHistorial.soloLectura,"background-color":a.dialogMotivoHistorial.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Diagnostico",color:"terciary","prepend-icon":"fas fa-comment-medical"},model:{value:a.motivo.diagnostico,callback:function(t){a.$set(a.motivo,"diagnostico",t)},expression:"motivo.diagnostico"}})],1)],1)},G=[],U=e(27720);const K={name:"formMotivo",components:{dateSelect:U.Z},props:["motivo"],data(){return{profesionalesDB:[],optionsJson:{}}},computed:{...(0,x.rn)(["hoy","rules"]),...(0,x.rn)("hiclem",["dialogMotivoHistorial"]),optionsActividadesJson(){return this.motivo.motivo_especialidad&&this.optionsJson.motivo_actividades?this.optionsJson.motivo_actividades[this.motivo.motivo_especialidad]:[]}},watch:{async"dialogMotivoHistorial.state"(a){a&&setTimeout((async()=>{this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})}),350)},"motivo.estado"(a){"Activo"==a&&(this.motivo.estadoFecha="")}},methods:{...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("profesional",["cargarProfesionalesBusqueda"])}},Q=K;var W=(0,S.Z)(Q,V,G,!1,null,null,null);const X=W.exports;var Y=function(){var a=this,t=a._self._c;return t(H.Z,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.Z,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.Z,{staticClass:"white--text subheading",attrs:{xs12:""}},[t("p",{staticClass:"mb-1"},[t("b",[t(L.Z,{staticClass:"mr-2",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.Z,{staticStyle:{height:"28px",width:"28px"},attrs:{color:"orange darken-2"}},[a._v("fa-book-medical")])],1),t("span",{domProps:{innerHTML:a._s(" Consultas ")}})],1)]),t(d.Z,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.Z,[t(r.ZB,{staticClass:"terciary lighten-2"},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(l.Z,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.Z,{attrs:{xs12:"",sm4:""}},[t(N.Z,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltros,label:"Mostrar Especialidad"},model:{value:a.filtro,callback:function(t){a.filtro=t},expression:"filtro"}})],1),t(u.Z,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogConsultaMotivo({state:!0})}}},[a._v("Nueva Consulta")])],1),t(u.Z,{attrs:{xs12:"",sm4:""}},[t(v.h,{attrs:{dark:"",clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item.consulta),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogConsultaMotivo({state:!0,consulta:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(g.Z,{attrs:{color:"terciary",indeterminate:""}})],1)],1)],1)],1)],1),t("dialogConsulta",{attrs:{closeFinish:a.buscarConsultasMotivo}})],1)},aa=[],ta=(e(70560),function(){var a=this,t=a._self._c;return t(C.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:a.dialogConsultaMotivo.state,callback:function(t){a.$set(a.dialogConsultaMotivo,"state",t)},expression:"dialogConsultaMotivo.state"}},[t(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(M.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[a._v("fa-book-medical")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Consulta")]),t(m.Cl),t(p.Z,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.ZB,[t(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.Z,{attrs:{"grid-list-md":""}},[t(h.Z,{attrs:{wrap:""}},[t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""},model:{value:a.expandPanel,callback:function(t){a.expandPanel=t},expression:"expandPanel"}},[t("expandPacienteData",{attrs:{expandOpen:0===a.expandPanel||a.expandPanel?.[0]}}),t("expandMedicacion",{attrs:{expandOpen:1===a.expandPanel||a.expandPanel?.[1]}})],1)],1),t(u.Z,{attrs:{xs12:""}},[t("formConsulta",{attrs:{dataEdit:a.dataEdit,dataEditBase:a.dataEditBase}})],1),"Nutricion"===a.dataEdit.especialidad?t(u.Z,{attrs:{xs12:""}},[t("formNutricion",{attrs:{dataEdit:a.dataEdit,dataEditBase:a.dataEditBase}})],1):a._e(),"Diabetes"===a.dataEdit.especialidad?t(u.Z,{attrs:{xs12:""}},[t("pre",[a._v("                Desarrollando especialidad Diabetes Hoja 2.\n                  Medicamentos. (Cambios de medicacion[autoCargar en Medicamentos])\n                  HA1C. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Fondo de Ojo. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Funcion Renal. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Ecocardiograma. (se solicito el estudio[autoCargar en estudios] o el resultado)\n              ")])]):a._e()],1)],1)],1)],1),t(r.h7,[t(h.Z,{attrs:{row:"",wrap:""}},[t(m.Cl),t(i.Z,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogConsultaMotivo.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialConsulta()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)}),ea=[],oa=function(){var a=this,t=a._self._c;return t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"cake",label:"Edad",type:"number",color:"cuarto","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumero,a.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Nacimiento.","persistent-hint":""},model:{value:a.consulta.edad_años,callback:function(t){a.$set(a.consulta,"edad_años",t)},expression:"consulta.edad_años"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-venus-mars",label:"Sexo",type:"text",color:"cuarto","validate-on-blur":"",rules:[...a.rules.requerido]},model:{value:a.consulta.sexo,callback:function(t){a.$set(a.consulta,"sexo",t)},expression:"consulta.sexo"}})],1),t(u.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),t(u.Z,{attrs:{xs12:"",sm8:"","px-3":""}},[t(q.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","item-value":"area","item-text":"area",items:a.unidadesAtencionDB,label:"Derivado de... (Opcional)","prepend-icon":"fas fa-hand-holding-medical",color:"terciary","return-object":!1},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.derivado=null))}},model:{value:a.consulta.derivado,callback:function(t){a.$set(a.consulta,"derivado",t)},expression:"consulta.derivado"}})],1),t(u.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),a.consulta.derivado?t(u.Z,{attrs:{xs12:"","px-3":""}},[t(J.Z,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","auto-grow":"",label:"Motivo de Referencia",color:"terciary","prepend-icon":"fact_check",rows:"2",rules:[...a.rules.requerido]},model:{value:a.consulta.motivoReferencia,callback:function(t){a.$set(a.consulta,"motivoReferencia",t)},expression:"consulta.motivoReferencia"}})],1):a._e(),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","item-value":"id","item-text":"area",items:a.unidadesAtencionDB,label:"Lugar de Atencion","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.area=null))}},model:{value:a.consulta.area,callback:function(t){a.$set(a.consulta,"area",t)},expression:"consulta.area"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:a.dialogConsultaMotivo.soloLectura,value:a.consulta.fecha,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha",icon:"event",requerido:!0,min:"",max:a.hoy,filtro:""},model:{value:a.consulta.fecha,callback:function(t){a.$set(a.consulta,"fecha",t)},expression:"consulta.fecha"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:a.optionsJson.motivo_especialidad,label:"Especialidad de la Consulta","prepend-icon":"fas fa-stethoscope",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.especialidad=null))},change:a.resetForm},model:{value:a.consulta.especialidad,callback:function(t){a.$set(a.consulta,"especialidad",t)},expression:"consulta.especialidad"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:a.optionsActividadesJson,label:"Actividad de la Consulta","prepend-icon":"home_repair_service",rules:[...a.rules.requerido]},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.actividad=null))}},model:{value:a.consulta.actividad,callback:function(t){a.$set(a.consulta,"actividad",t)},expression:"consulta.actividad"}})],1),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(N.Z,{staticClass:"capitalizar text-capitalize",attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:a.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...a.rules.requerido],"menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},on:{"click:clear":function(t){a.$nextTick((()=>a.consulta.profesional=[]))}},scopedSlots:a._u([{key:"item",fn:function(e){return[t("label",{staticStyle:{"text-transform":"capitalize",cursor:"pointer"}},[t(p.Z,{attrs:{left:"",color:a.consulta&&a.consulta.profesional&&e.item.id&&-1!==a.consulta.profesional.indexOf(e.item.id)?"terciary":"black"}},[a._v(a._s(a.consulta&&a.consulta.profesional&&e.item.id&&-1!==a.consulta.profesional.indexOf(e.item.id)?"check_box":"check_box_outline_blank"))]),a._v(" "+a._s(e.item.nombreC)+" ")],1)]}}]),model:{value:a.consulta.profesional,callback:function(t){a.$set(a.consulta,"profesional",t)},expression:"consulta.profesional"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(J.Z,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","auto-grow":"",rows:"2",label:"Observacion",color:"terciary","prepend-icon":"visibility"},model:{value:a.consulta.observacion,callback:function(t){a.$set(a.consulta,"observacion",t)},expression:"consulta.observacion"}})],1)],1)},ia=[];const sa={name:"formConsulta",components:{dateSelect:U.Z},props:["dataEdit","dataEditBase"],data(){return{profesionalesDB:[],unidadesAtencionDB:[],optionsJson:{}}},computed:{...(0,x.rn)(["hoy","rules"]),...(0,x.rn)("hiclem",["dialogConsultaMotivo"]),consulta(){return this.dataEdit},optionsActividadesJson(){return this.consulta.especialidad&&this.optionsJson.consulta_actividades?this.optionsJson.consulta_actividades[this.consulta.especialidad]:[]}},watch:{async"dialogConsultaMotivo.state"(a){a&&setTimeout((async()=>{this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.unidadesAtencionDB.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))}),350)},"consulta.derivado"(a){a||(this.consulta.motivoReferencia="")}},methods:{...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("main",["buscarAreaFiltros"]),...(0,x.nv)("profesional",["cargarProfesionalesBusqueda"]),resetForm(a){a&&(this.consulta.actividad=null);for(const t in this.consulta)Object.hasOwnProperty.call(this.consulta,t)&&(Object.keys(this.dataEditBase).includes(t)||delete this.consulta[t])}}},ra=sa;var la=(0,S.Z)(ra,oa,ia,!1,null,null,null);const na=la.exports;var ca=e(77441),da=e(14036),ua=function(){var a=this,t=a._self._c;return"Nutricionista"===a.consulta.actividad?t(h.Z,{staticClass:"grey lighten-3",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a.consulta.embarazada_semana?t(u.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):a._e(),a.consulta.embarazada_semana?t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"pregnant_woman",label:"Embarazada Semana",type:"number",color:"cuarto","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Embarazo (Historial Gral)","persistent-hint":""},model:{value:a.consulta.embarazada_semana,callback:function(t){a.$set(a.consulta,"embarazada_semana",t)},expression:"consulta.embarazada_semana"}})],1):a._e(),a.consulta.embarazada_semana?t(u.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):a._e(),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(da.r,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJson.consulta_presentacion,label:"Presentacion","prepend-icon":"fact_check",color:"terciary",rules:[...a.rules.requerido]},model:{value:a.consulta.tipo_presentacion,callback:function(t){a.$set(a.consulta,"tipo_presentacion",t)},expression:"consulta.tipo_presentacion"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(ca.Z,{attrs:{readonly:"","background-color":"cuarto lighten-5",color:"cuarto","prepend-icon":"smoking_rooms",label:"Fuma: "+(a.consulta.fuma?"Si":"No"),hint:"Muestra el valor del Historial Gral.","persistent-hint":""},model:{value:a.consulta.fuma,callback:function(t){a.$set(a.consulta,"fuma",t)},expression:"consulta.fuma"}})],1),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(da.r,{attrs:{readonly:"","background-color":"cuarto lighten-5",items:a.optionsJson.consulta_antecedentes,label:"Antecedentes Patologicos","prepend-icon":"fas fa-diagnoses",color:"cuarto",multiple:"",hint:"Muestra valores del Historial Gral.","persistent-hint":""},model:{value:a.consulta.antecedentes_patologicos,callback:function(t){a.$set(a.consulta,"antecedentes_patologicos",t)},expression:"consulta.antecedentes_patologicos"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Diastolica (Baja) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.tension_arterial_diastolica,callback:function(t){a.$set(a.consulta,"tension_arterial_diastolica",t)},expression:"consulta.tension_arterial_diastolica"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Sistolica (Alta) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.tension_arterial_sistolica,callback:function(t){a.$set(a.consulta,"tension_arterial_sistolica",t)},expression:"consulta.tension_arterial_sistolica"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-stroopwafel",label:"Colesterol [mg/dl]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.colesterol,callback:function(t){a.$set(a.consulta,"colesterol",t)},expression:"consulta.colesterol"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(da.r,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":a.colorCardio,items:a.optionsJsonNutricion.consulta_riesgo_cardiovascular_colesterol,label:"Riesgo Cardiovascular Colesterol [%]","prepend-icon":"heart_broken",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido]},model:{value:a.consulta.riesgo_cardiovascular_colesterol,callback:function(t){a.$set(a.consulta,"riesgo_cardiovascular_colesterol",t)},expression:"consulta.riesgo_cardiovascular_colesterol"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-arrows-alt-v",label:"Talla [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.talla,callback:function(t){a.$set(a.consulta,"talla",t)},expression:"consulta.talla"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.peso,callback:function(t){a.$set(a.consulta,"peso",t)},expression:"consulta.peso"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5","prepend-icon":"radio_button_unchecked",label:"Cintura [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)]},model:{value:a.consulta.cintura,callback:function(t){a.$set(a.consulta,"cintura",t)},expression:"consulta.cintura"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",type:"number",color:"cuarto",rules:[...a.rules.requerido,...a.rules.soloNumeroMas,a.rules.minNumber(0)],hint:"Se autocalcula con la Talla y el Peso.","persistent-hint":""},model:{value:a.consulta.IMC,callback:function(t){a.$set(a.consulta,"IMC",t)},expression:"consulta.IMC"}})],1),t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(da.r,{attrs:{readonly:"","background-color":`${a.colorDiagnostic}`,"prepend-icon":"visibility",items:a.optionsJsonNutricion.consulta_diagnostico,label:"Diagnostico",color:"cuarto",hint:"Se autocalcula con el IMC.","persistent-hint":""},model:{value:a.consulta.diagnostico,callback:function(t){a.$set(a.consulta,"diagnostico",t)},expression:"consulta.diagnostico"}})],1),a.consulta.edad_años&&a.consulta.edad_años<=19?t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(da.r,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_puntaje_z,label:"Puntaje Z","prepend-icon":"Z",color:"terciary"},model:{value:a.consulta.puntaje_z,callback:function(t){a.$set(a.consulta,"puntaje_z",t)},expression:"consulta.puntaje_z"}})],1):t(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(da.r,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_habitos_saludables,label:"Habitos Saludables","prepend-icon":"fas fa-leaf",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:a.consulta.habitos_saludables,callback:function(t){a.$set(a.consulta,"habitos_saludables",t)},expression:"consulta.habitos_saludables"}})],1),t(u.Z,{attrs:{xs12:"","px-3":""}},[t(da.r,{attrs:{readonly:a.dialogConsultaMotivo.soloLectura,clearable:!a.dialogConsultaMotivo.soloLectura,"background-color":a.dialogConsultaMotivo.soloLectura?"terciary lighten-2":"terciary lighten-5",items:a.optionsJsonNutricion.consulta_habitos_no_saludables,label:"Habitos No Saludables","prepend-icon":"fastfood",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:a.consulta.habitos_no_saludables,callback:function(t){a.$set(a.consulta,"habitos_no_saludables",t)},expression:"consulta.habitos_no_saludables"}})],1)],1):a._e()},pa=[];const ha={name:"formNutricion",components:{},props:["dataEdit","dataEditBase"],data(){return{colorDiagnostic:"cuarto lighten-5",optionsJson:{},optionsJsonNutricion:{}}},computed:{...(0,x.rn)(["rules"]),...(0,x.rn)("hiclem",["dialogConsultaMotivo","dialogHistorial"]),consulta(){return this.dataEdit.peso&&this.dataEdit.talla?(this.$set(this.dataEdit,"IMC",(this.dataEdit.peso/1e3/(this.dataEdit.talla/100)**2).toFixed(2)),this.dataEdit.IMC<0?(this.$set(this.dataEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"):this.dataEdit.IMC<18.5?(this.$set(this.dataEdit,"diagnostico","Bajo Peso"),this.colorDiagnostic="yellow lighten-2"):this.dataEdit.IMC<25?(this.$set(this.dataEdit,"diagnostico","Normopeso"),this.colorDiagnostic="white"):this.dataEdit.IMC<30?(this.$set(this.dataEdit,"diagnostico","Sobrepeso"),this.colorDiagnostic="yellow lighten-2"):this.dataEdit.IMC<35?(this.$set(this.dataEdit,"diagnostico","Obesidad 1"),this.colorDiagnostic="orange lighten-2"):this.dataEdit.IMC<40?(this.$set(this.dataEdit,"diagnostico","Obesidad 2"),this.colorDiagnostic="red lighten-2"):(this.$set(this.dataEdit,"diagnostico","Obesidad Morbida"),this.colorDiagnostic="red")):(this.$set(this.dataEdit,"IMC",null),this.$set(this.dataEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"),this.dataEdit},colorCardio(){return this.dataEdit.riesgo_cardiovascular_colesterol?"menor a 10%"===this.dataEdit.riesgo_cardiovascular_colesterol?"white":"10-20%"===this.dataEdit.riesgo_cardiovascular_colesterol?"yellow lighten-2":"20-30%"===this.dataEdit.riesgo_cardiovascular_colesterol?"orange lighten-2":"30-40%"===this.dataEdit.riesgo_cardiovascular_colesterol?"red lighten-2":"red":"terciary lighten-5"}},watch:{"dataEdit.actividad"(a){if("Coordinador"!==a){let a=this.autoCalculoInicial();for(const t in a)Object.hasOwnProperty.call(a,t)&&this.$set(this.dataEdit,t,a[t]);return this.dataEdit}for(const t in this.dataEdit)if(Object.hasOwnProperty.call(this.dataEdit,t)&&!Object.keys(this.dataEditBase).includes(t))switch(typeof this.dataEdit[t]){case"object":if(Array.isArray(this.dataEdit[t])){this.$set(this.dataEdit,t,null);break}this.$set(this.dataEdit,t,null);break;case"string":case"number":case"boolean":this.$set(this.dataEdit,t,"");break;case"undefined":this.$set(this.dataEdit,t,null);break;default:this.$set(this.dataEdit,t,"")}}},async created(){this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.optionsJsonNutricion=await this.returnOptionsJSON({key:"hiclem",opcion:"nutricion"})},methods:{...(0,x.nv)(["returnOptionsJSON"]),autoCalculoInicial(){let a={};return a.antecedentes_patologicos=this.dataEdit.antecedentes_patologicos??this.dialogHistorial.historial.antecedentes_patologicos,a.fuma=this.dataEdit.fuma??this.dialogHistorial.historial.fuma,a.embarazada_semana=this.dataEdit.embarazada_semana,a}}},ga=ha;var ma=(0,S.Z)(ga,ua,pa,!1,null,null,null);const va=ma.exports;var fa=function(){var a=this,t=a._self._c;return t(H.Z,{staticClass:"terciary lighten-1",scopedSlots:a._u([{key:"actions",fn:function(){return[t(p.Z,{attrs:{color:"white"}},[a._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[t(u.Z,{staticClass:"white--text subheading",attrs:{xs12:""}},[t("p",{staticClass:"mb-1"},[t("b",[t(L.Z,{staticClass:"mr-2",attrs:{size:"38px",color:"grey lighten-2"}},[t(p.Z,{staticStyle:{height:"30px",width:"30px"},attrs:{color:"cyan darken-2"}},[a._v("fa-solid fa-pills")])],1),t("span",{domProps:{innerHTML:a._s(" Medicacion")}})],1)]),t(d.Z,{staticClass:"mx-1 white"})],1)]},proxy:!0}])},[t(s.Z,[t(r.ZB,{staticClass:"terciary lighten-2"},[t(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(l.Z,{staticClass:"title text-capitalize terciary elevation-6"},[t(u.Z,{attrs:{xs12:"",sm4:""}},[t(N.Z,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:a.opcionesFiltroEstado,label:"Mostrar Medicacion"},model:{value:a.filtroEstado,callback:function(t){a.filtroEstado=t},expression:"filtroEstado"}})],1),t(u.Z,{staticClass:"text-xs-center",attrs:{xs12:"",sm4:""}},[t(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:a.persona.historial_clinico<2||a.loading.estado,loading:a.loading.estado},on:{click:function(t){return a.actualizarDialogMedicacion({state:!0})}}},[a._v("Nueva Medicacion")])],1),t(u.Z,{attrs:{xs12:"",sm4:""}},[t(v.h,{attrs:{dark:"",clearable:"",color:"white","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}})],1)],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:a.headers,items:a.dataTableFilter,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(t){a.paginacion=t}},scopedSlots:a._u([{key:"no-data",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[t("tr",{class:a.backgroundClass(e.item),staticStyle:{cursor:"pointer"},on:{click:function(t){return a.actualizarDialogMedicacion({state:!0,medicacion:e.item})}}},a._l(a.headers,(function(o){return t("td",{key:o.value,class:o.class},[a._v(" "+a._s(o.date?a.mostrarFecha(e.item[o.ruta]):a._get(e.item,o.ruta)||"0"==a._get(e.item,o.ruta)?a._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[t(g.Z,{attrs:{color:"terciary",indeterminate:""}})],1)],1),t(u.Z,{attrs:{xs12:"","mx-3":""}},[t(T.Z,{attrs:{right:""},scopedSlots:a._u([{key:"activator",fn:function({on:e}){return[t("b",{staticStyle:{cursor:"pointer"},on:{click:function(t){a.showTooltip=!a.showTooltip}}},[a._v("Informacion de Colores en Medicacion"),t(p.Z,a._g({staticStyle:{transform:"rotate(180deg)"},attrs:{medium:"",color:"orange lighten-4",right:""}},e),[a._v("info_outline")])],1)]}}]),model:{value:a.showTooltip,callback:function(t){a.showTooltip=t},expression:"showTooltip"}},[t("pre",[t("span",{staticClass:"black--text background-color: green lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Activo: Verde")]),a._v("\n"),t("span",{staticClass:"black--text background-color: blue lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Finalizado: Celeste")]),a._v("\n"),t("span",{staticClass:"black--text background-color: orange lighten-4",staticStyle:{"font-weight":"bold"}},[a._v("Suspendido: Anaranjado")])])])],1),t("b",[a._v(" AGREGAR DIALGO PARA VER LA MEDICACION RETIRADA POR EL PACIENTE. ")])],1)],1)],1),t("dialogMedicacion",{attrs:{closeFinish:a.closeMedicacion}})],1)},ba=[],xa=function(){var a=this,t=a._self._c;return t(C.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:a.dialogMedicacion.state,callback:function(t){a.$set(a.dialogMedicacion,"state",t)},expression:"dialogMedicacion.state"}},[t(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[t(M.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"cyan darken-2"}},[a._v("fa-solid fa-pills")]),t("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[a._v("Medicacion")]),t(m.Cl),t(p.Z,{attrs:{large:"",disabled:a.loading.estado,color:"error darken-1"},on:{click:a.close}},[a._v("cancel_presentation")])],1),t(r.ZB,[t(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(t){a.valido=t},expression:"valido"}},[t(n.Z,{attrs:{"grid-list-md":""}},[t(h.Z,{attrs:{wrap:""}},[t(u.Z,{attrs:{xs12:""}},[t(k.Z,{attrs:{focusable:""}},[t("expandPacienteData")],1)],1),t(u.Z,{attrs:{xs12:""}},[a._v(" DESARROLLAR FORMULARIO MEDICACION (CONSOLIDADOS) "),t("br"),t("hr"),a._v(" dataEdit:"+a._s(a.dataEdit)+" ")])],1)],1)],1)],1),t(r.h7,[t(h.Z,{attrs:{row:"",wrap:""}},[t(m.Cl),t(i.Z,{staticClass:"error darken-1",attrs:{disabled:a.loading.estado,round:"",loading:a.loading.estado},on:{click:a.close}},[a._v(" Cerrar ")]),t(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:a.loading.estado||!a.valido||a.dialogMedicacion.soloLectura,round:"",loading:a.loading.estado},on:{click:function(t){return a.guardarHistorialMedicacion()}}},[a._v(" "+a._s(a.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},ya=[];const _a={name:"dialogMedicacion",props:["closeFinish"],components:{expandPacienteData:z},data:()=>({valido:!0,dataEdit:{},dataEditBase:{_id:"",id:"",usuario_modifico:"",updatedAt:"",area:"",paciente:"",profesional:null,medicamento:"",fecha_inicio:"",fecha_declaracion_jurada:"",dias_declaracion_por_vencer:"",dias_declaracion_vencida:"",estado:""}}),computed:{...(0,x.rn)(["loading"]),...(0,x.rn)("hiclem",["dialogMedicacion"])},watch:{"dialogMedicacion.state"(a){a?setTimeout((async()=>{this.dialogMedicacion.medicacion?this.dataEdit=Object.assign({...this.dataEditBase},this.dialogMedicacion.medicacion):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.nv)(["requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogMedicacion"]),close(){this.actualizarDialogMedicacion({state:!1}),this.closeFinish?.()},async guardarHistorialMedicacion(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Guardando Medicacion..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/medicacion/guardar",update:a}),t?.data?.ok){let t=a._id?"Editada":"Guardada";return this.mostrarMensaje({msj:[`Consulta ${t} exitosamente.`],titulo:"Completado"}),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialMedicacion)"}),!1}finally{this.close(),this.ocultarLoading()}}}},Ca=_a;var ka=(0,S.Z)(Ca,xa,ya,!1,null,null,null);const Za=ka.exports,Ma={name:"expandMedicacion",props:["expandOpen","refresh"],components:{dialogMedicacion:Za},data(){return{paginacion:{sortBy:"fecha_declaracion_jurada",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Declaracion Jurada",value:"fecha_declaracion_jurada",class:"text-sm-left",ruta:"fecha_declaracion_jurada",date:!0,width:"10%"},{text:"Medicamento",value:"medicamento.nombreC",class:"text-sm-left",ruta:"medicamento.nombreC",width:"50%"},{text:"Profesional",value:"profesional.nombreC",class:"text-sm-left",ruta:"profesional.nombreC",width:"30%"},{text:"Declaracion Vencida",value:"declaracion_vencida",class:"text-sm-left",ruta:"declaracion_vencida",date:!0,width:"10%"}],dataTable:[],search:"",showTooltip:!1,filtroEstado:null,opcionesFiltroEstado:[{text:"Todos",value:null}]}},async created(){this.opcionesFiltroEstado=[{text:"Todos",value:null},...(await this.returnOptionsJSON({key:"hiclem",opcion:"base"})).medicamentos_estado]},computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["dialogHistorial"]),dataTableFilter(){let a=this.dataTable;return this.filtroEstado&&(a=this.dataTable.filter((a=>a.estado===this.filtroEstado))),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async"dialogHistorial.state"(a){a&&this.expandOpen&&this.dialogHistorial.id&&await this.buscarMedicacionesPaciente()},async expandOpen(a){a&&this.dialogHistorial.state&&this.dialogHistorial.id&&await this.buscarMedicacionesPaciente()}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.nv)(["returnOptionsJSON","requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogMedicacion"]),backgroundClass(a){if(!a)return"";try{return"Activo"===a.estado?"background-color: green lighten-4":"Finalizado"===a.estado?"background-color: blue lighten-4":"Suspendido"===a.estado?"background-color: orange lighten-4":"background-color: terciary lighten-5"}catch(t){return""}},async buscarMedicacionesPaciente(){try{if(this.mostrarLoading({titulo:"Buscando Medica (Motivos)..."}),!this.dialogHistorial.id)return this.mostrarError({mensaje:"buscarMedicacionesPaciente: El id del paciente es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/medicacion/buscar/${this.dialogHistorial.id}`,Error404:"no"});this.dataTable=a?.data?.medicaciones}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarMedicacionesPaciente)"}),null}finally{this.ocultarLoading()}},async closeMedicacion(){await(this.refresh?.()),await this.buscarMedicacionesPaciente()}}},wa=Ma;var Ea=(0,S.Z)(wa,fa,ba,!1,null,null,null);const La=Ea.exports,Ha={name:"dialogConsulta",props:["closeFinish"],components:{expandPacienteData:z,formConsulta:na,formNutricion:va,expandMedicacion:La},data:()=>({expandPanel:null,valido:!0,dataEdit:{},dataEditBase:{id:"",_id:"",usuario_modifico:"",createdAt:"",updatedAt:"",profesional:null,paciente:"",motivo:"",especialidad:"",edad_años:"",sexo:"",area:null,fecha:"",actividad:"",observacion:"",derivado:"",motivoReferencia:""}}),computed:{...(0,x.rn)(["loading"]),...(0,x.rn)("hiclem",["dialogConsultaMotivo"])},watch:{"dialogConsultaMotivo.state"(a){a?setTimeout((async()=>{this.dialogConsultaMotivo.consulta?this.dataEdit=Object.assign({...this.dataEditBase},this.dialogConsultaMotivo.consulta):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.nv)(["requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogConsultaMotivo"]),close(){this.actualizarDialogConsultaMotivo({state:!1}),this.closeFinish?.()},async guardarHistorialConsulta(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Guardando Consulta..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/consulta/guardar",update:a}),t?.data?.ok){let t=a._id?"Editada":"Guardada";return this.mostrarMensaje({msj:[`Consulta ${t} exitosamente.`],titulo:"Completado"}),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialConsulta)"}),!1}finally{this.close(),this.ocultarLoading()}}}},Pa=Ha;var $a=(0,S.Z)(Pa,ta,ea,!1,null,null,null);const Aa=$a.exports,Da={name:"expandConsulta",props:["expandOpen"],components:{dialogConsulta:Aa},data(){return{paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:5,page:1},headers_base:[{text:"Fecha",value:"fecha",class:"text-sm-left",ruta:"fecha",date:!0},{text:"Especialidad",value:"especialidad",class:"text-sm-left",ruta:"especialidad"},{text:"Actividad",value:"actividad",class:"text-sm-left",ruta:"actividad"},{text:"Observacion",value:"observacion",class:"text-sm-left",ruta:"observacion"}],dataTable:[],search:"",filtro:null,opcionesFiltros:[{text:"Todos",value:null},{text:"Nutricion",value:"Nutricion"}]}},computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["dialogMotivoHistorial"]),headers(){let a=this._cloneDeep(this.headers_base);return"Nutricion"===this.filtro?(a.push({text:"Talla [cm]",value:"talla",class:"text-sm-left",ruta:"talla"},{text:"Peso [gr]",value:"peso",class:"text-sm-left",ruta:"peso"},{text:"IMC",value:"IMC",class:"text-sm-left",ruta:"IMC"},{text:"Diagnostico",value:"diagnostico",class:"text-sm-left",ruta:"diagnostico"}),a):a},dataTableFilter(){let a=this.dataTable;return this.filtro&&(a=[...this.dataTable.filter((a=>a.especialidad===this.filtro))]),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async"dialogMotivoHistorial.state"(a){a&&this.expandOpen&&this.dialogMotivoHistorial.motivo?.id&&await this.buscarConsultasMotivo()},async expandOpen(a){a&&this.dialogMotivoHistorial.state&&this.dialogMotivoHistorial.motivo?.id&&await this.buscarConsultasMotivo()}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.nv)(["requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogConsultaMotivo"]),backgroundClass(a){try{return a?"background-color: grey lighten-4":""}catch(t){return""}},async buscarConsultasMotivo(){try{if(this.mostrarLoading({titulo:"Buscando Consultas del Motivo..."}),!this.dialogMotivoHistorial.motivo?.id)return this.mostrarError({mensaje:"buscarConsultasMotivo: El id del motivo es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/consulta/buscar/${this.dialogMotivoHistorial.motivo.id}`,Error404:"no"});this.dataTable=a?.data?.consultas}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarConsultasMotivo)"}),null}finally{this.ocultarLoading()}}}},Sa=Da;var Oa=(0,S.Z)(Sa,Y,aa,!1,null,null,null);const za=Oa.exports,Fa={name:"dialogMotivo",props:["closeFinish"],components:{expandPacienteData:z,formMotivo:X,expandConsulta:za},data:()=>({expandPanel:null,valido:!0,dataEdit:{},dataEditBase:{createdAt:"",paciente:"",profesional:"",estado:"Activo",estadoFecha:"",motivo_especialidad:"",severidad:"Incapaz de evaluar",descripcion:"",evolucion:"",diagnostico:""}}),computed:{...(0,x.rn)(["loading","persona","hoy"]),...(0,x.rn)("hiclem",["dialogMotivoHistorial"])},async created(){this.dataEditBase.createdAt=this.hoy},watch:{"dialogMotivoHistorial.state"(a){a?setTimeout((async()=>{this.dialogMotivoHistorial.motivo?this.dataEdit=this._cloneDeep(this.dialogMotivoHistorial.motivo):this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.dataEditBase),this.$refs.form.resetValidation())}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.nv)(["requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogMotivoHistorial"]),close(){this.actualizarDialogMotivoHistorial({state:!1}),this.closeFinish?.()},async guardarHistorialMotivo(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Efectuando cambios..."});let a=this._cloneDeep(this.dataEdit);if(!a._id){let t=this.isVacio(a,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;a=t.dato}let t=null;if(t=await this.requestAPI({method:"put",url:"/HistorialClinico/motivo/guardar",update:a}),t?.data?.ok){let t=a._id?"Editado":"Guardado";return this.mostrarMensaje({msj:[`Motivo ${t} exitosamente.`],titulo:"Completado"}),this.close(),!0}return!1}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (guardarHistorialMotivo)"}),!1}finally{this.ocultarLoading()}}}},Na=Fa;var Ta=(0,S.Z)(Na,j,R,!1,null,null,null);const Ba=Ta.exports,Ia={name:"expandMotivos",props:["expandOpen","refresh"],components:{dialogMotivo:Ba},data(){return{paginacion:{sortBy:"createdAt",descending:!0,rowsPerPage:5,page:1},headers:[{text:"Fecha Inicial",value:"createdAt",class:"text-sm-left",ruta:"createdAt",date:!0,width:"10%"},{text:"Especialidad",value:"motivo_especialidad",class:"text-capitalize text-sm-left",ruta:"motivo_especialidad",width:"25%"},{text:"Descripcion / Sintomas / Programas de control",value:"descripcion",class:"text-sm-left",ruta:"descripcion",width:"55%"},{text:"Severidad",value:"severidad",class:"text-sm-left",ruta:"severidad",width:"10%"}],dataTable:[],search:"",showTooltip:!1,filtroEstado:null,opcionesFiltroEstado:[{text:"Todos",value:null}]}},async created(){this.opcionesFiltroEstado=[{text:"Todos",value:null},...(await this.returnOptionsJSON({key:"hiclem",opcion:"base"})).motivo_estado]},computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["dialogHistorial"]),dataTableFilter(){let a=this.dataTable;return this.filtroEstado&&(a=this.dataTable.filter((a=>a.estado===this.filtroEstado))),this.paginacion.page>Math.ceil(a.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),a}},watch:{async"dialogHistorial.state"(a){a&&this.expandOpen&&this.dialogHistorial.id&&await this.buscarMotivosPaciente()},async expandOpen(a){a&&this.dialogHistorial.state&&this.dialogHistorial.id&&await this.buscarMotivosPaciente()}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","ocultarLoading"]),...(0,x.nv)(["returnOptionsJSON","requestAPI"]),...(0,x.nv)("hiclem",["actualizarDialogMotivoHistorial"]),backgroundClass(a){try{return a?"Activo"===a.estado?"Critica"===a.severidad?"background-color: red lighten-3":"Moderada"===a.severidad?"background-color: orange lighten-4":"Leve"===a.severidad?"background-color: green lighten-4":"Incapaz de evaluar"===a.severidad?"background-color: grey lighten-2":"background-color: terciary lighten-5":"Finalizado"===a.estado?"background-color: blue lighten-4":"Abandonado"===a.estado?"background-color: blue":"Suspendido"===a.estado?"background-color: blue lighten-2":"Cancelado"===a.estado?"background-color: blue darken-2":"background-color: terciary lighten-5":""}catch(t){return""}},async buscarMotivosPaciente(){try{if(this.mostrarLoading({titulo:"Buscando Historial (Motivos)..."}),!this.dialogHistorial.id)return this.mostrarError({mensaje:"buscarMotivosPaciente: El id del paciente es necesario.",titulo:"Valores Requeridos"}),null;let a=await this.requestAPI({method:"get",url:`/HistorialClinico/motivo/buscar/${this.dialogHistorial.id}`,Error404:"no"});this.dataTable=a?.data?.motivos}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado (buscarMotivosPaciente)"}),null}finally{this.ocultarLoading()}},async closeMotivo(){await(this.refresh?.()),await this.buscarMotivosPaciente()}}},ja=Ia;var Ra=(0,S.Z)(ja,B,I,!1,null,null,null);const qa=Ra.exports,Ja={name:"dialogHistorial",props:["closeFinish"],components:{expandPacienteData:z,formHistorial:F.Z,expandMotivos:qa,expandMedicacion:La},data:()=>({expandPanel:null,valido:!0,dataEdit:{}}),computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["dialogHistorial","historialBase"])},watch:{async"dialogHistorial.state"(a){a?setTimeout((async()=>{this.dataEdit=this._cloneDeep(this.historialBase),this.dialogHistorial.id&&await this.recargarPaciente(),this.$refs.form.resetValidation()}),350):(this.dataEdit=this._cloneDeep(this.historialBase),this.$refs.form.resetValidation())}},methods:{...(0,x.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,x.nv)(["requestAPI"]),...(0,x.nv)("paciente",["buscarPacienteFiltros"]),...(0,x.nv)("hiclem",["actualizarDialogHistorial","buscarHistorialPacienteId","guardarHistorial"]),close(){this.actualizarDialogHistorial({state:!1}),this.closeFinish?.()},async recargarPaciente(){let a=await this.buscarHistorialPacienteId({pacienteId:this.dialogHistorial.id});this.dataEdit=this._cloneDeep(a);let t=await this.buscarPacienteFiltros({filtro:{_id:this.dialogHistorial.id},populate:"no",select:"nombre apellido dir_calle dir_numero direccion tipo_doc documento documentoC telefono fec_nac dir_localidad sexo oSocial oSocialNumero",limite:1});t=Object.assign({id:"",nombre:"",apellido:"",dir_calle:"",dir_numero:"",direccion:"",tipo_doc:"",documento:"",documentoC:"",telefono:"",fec_nac:"",dir_localidad:"",sexo:"",oSocial:"",oSocialNumero:""},t?.[0]??{}),this.actualizarDialogHistorial({state:this.dialogHistorial.state,id:this.dialogHistorial.id,paciente:t,historial:a})}}},Va=Ja;var Ga=(0,S.Z)(Va,w,E,!1,null,null,null);const Ua=Ga.exports,Ka={name:"clinicoBuscar",components:{formFiltroPaciente:y.Z,dialogPaciente:_.Z,dialogHistorial:Ua},data:()=>({dataTable:[],filtroPacientes:{apellido:"",nombre:"",documento:"",dir_barrio:"",dir_localidad:"",hist_salitas:{area:null,historial:""}},ultimoFiltro:!1,search:"",paginacion:{sortBy:"nombreC",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"_id",sortable:!1,width:"5%"},{text:"Nombre Completo",value:"nombreC",width:"25%"},{text:"Fec. Nac.",value:"fec_nac",width:"10%"},{text:"Documento",value:"documentoC",width:"10%"},{text:"Domicilio",value:"direccion",width:"25%"},{text:"Localidad",value:"dir_localidad",width:"10%"},{text:"Telefono",value:"telefono",width:"15%"}]}),computed:{...(0,x.rn)(["loading","persona"])},methods:{...(0,x.nv)("hiclem",["actualizarDialogHistorial"]),...(0,x.nv)("paciente",["actualizarDialogPaciente","buscarPacienteFiltros"]),backgroundClass(a){if(!a)return"";try{return a.estado?"background-color: terciary lighten-5":"background-color: error lighten-4"}catch(t){return""}},async recargarDataTable(a){if(a){let t=await this.buscarPacienteFiltros({filtro:a,populate:"no",select:"nombre apellido nombreC fec_nac documento tipo_doc documentoC dir_calle dir_numero direccion dir_localidad telefono sexo estado"});t&&(this.dataTable=t,this.ultimoFiltro=this._cloneDeep(a))}else this.ultimoFiltro&&(this.dataTable=await this.buscarPacienteFiltros({filtro:this.ultimoFiltro,populate:"no",select:"nombre apellido nombreC fec_nac documento tipo_doc documentoC dir_calle dir_numero direccion dir_localidad telefono sexo estado"}));this.paginacion.page>Math.ceil(this.dataTable?.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}}},Qa=Ka;var Wa=(0,S.Z)(Qa,f,b,!1,null,null,null);const Xa=Wa.exports},74272:(a,t,e)=>{e.d(t,{Z:()=>b});var o=e(67416),i=e(18956),s=e(50108),r=e(84791),l=e(94694),n=e(60683),c=e(59456),d=e(74618),u=function(){var a=this,t=a._self._c;return t(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(n.Z,{attrs:{xs12:"",md4:"","px-3":""}},[t(d.h,{attrs:{onkeydown:"return event.key !== 'ñ' && event.key !== 'Ñ'","prepend-icon":"far fa-id-card",label:"Documento",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5",maxlength:"14",counter:""},model:{value:a.filtro.documento,callback:function(t){a.$set(a.filtro,"documento",t)},expression:"filtro.documento"}})],1),t(n.Z,{attrs:{xs12:"",md4:"","px-3":""}},[t(d.h,{attrs:{"prepend-icon":"person",label:"Apellido",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:a.filtro.apellido,callback:function(t){a.$set(a.filtro,"apellido",t)},expression:"filtro.apellido"}})],1),t(n.Z,{attrs:{xs12:"",md4:"","px-3":""}},[t(d.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:a.filtro.nombre,callback:function(t){a.$set(a.filtro,"nombre",t)},expression:"filtro.nombre"}})],1),t(n.Z,{attrs:{xs12:"",md10:"","px-3":"","mb-3":""}},[t(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(r.Z,{model:{value:a.panel,callback:function(t){a.panel=t},expression:"panel"}},[t(l.Z,{staticClass:"v-expansion-panel-header--center v-expansion-panel-header--background-cuarto",scopedSlots:a._u([{key:"header",fn:function(){return[a._v("Filtro Avanzado")]},proxy:!0}])},[t(i.Z,[t(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(d.h,{attrs:{"prepend-icon":"far fa-map",label:"Barrio",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:a.filtro.dir_barrio,callback:function(t){a.$set(a.filtro,"dir_barrio",t)},expression:"filtro.dir_barrio"}})],1),t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(o.Z,{attrs:{items:a.optionsJson.opcLocalidades,"item-value":"description","item-text":"description",label:"Localidad","prepend-icon":"fas fa-city",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},on:{"click:clear":function(t){a.$nextTick((()=>a.filtro.dir_localidad=null))}},model:{value:a.filtro.dir_localidad,callback:function(t){a.$set(a.filtro,"dir_localidad",t)},expression:"filtro.dir_localidad"}})],1),t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(d.h,{attrs:{"prepend-icon":"escalator_warning",label:"Responsable Documento",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:a.filtro.doc_responsable,callback:function(t){a.$set(a.filtro,"doc_responsable",t)},expression:"filtro.doc_responsable"}})],1),t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(d.h,{attrs:{"prepend-icon":"far fa-id-badge",label:"ID del PS",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:a.filtro.ps_id,callback:function(t){a.$set(a.filtro,"ps_id",t)},expression:"filtro.ps_id"}})],1)],1)],1)],1)],1)],1)],1),t(n.Z,{attrs:{xs12:"",cuarto:"","lighten-1":"","px-3":"","mx-3":""}},[t("h4",{staticClass:"title white--text"},[a._v("Historiales Clinicos en Unidades de Atencion")])]),t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(o.Z,{attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto","item-value":"id","item-text":"area",items:a.unidadesAtencion,label:"Unidad de Atencion","prepend-icon":"fa-house-medical-flag"},on:{"click:clear":function(t){a.$nextTick((()=>a.filtro.hist_salitas.area=null))}},model:{value:a.filtro.hist_salitas.area,callback:function(t){a.$set(a.filtro.hist_salitas,"area",t)},expression:"filtro.hist_salitas.area"}})],1),t(n.Z,{attrs:{xs12:"",md5:"","px-3":""}},[t(d.h,{attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto",type:"text","prepend-icon":"fas fa-file-medical",label:"ID de Historial en la Unidad",maxlength:"9",counter:""},model:{value:a.filtro.hist_salitas.historial,callback:function(t){a.$set(a.filtro.hist_salitas,"historial",t)},expression:"filtro.hist_salitas.historial"}})],1),t(n.Z,{attrs:{xs12:"","pa-0":""}},[t(s.Z,{staticClass:"mt-1 cuarto darken-1"})],1)],1)},p=[],h=(e(70560),e(20629));const g={name:"formFiltroPaciente",props:["filtro"],data(){return{panel:[],unidadesAtencion:[],optionsJson:{opcLocalidades:[]}}},async created(){this.optionsJson.opcLocalidades=await this.returnOptionsJSON({key:"106",opcion:"opcLocalidades"}),this.unidadesAtencion.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,h.nv)(["returnOptionsJSON"]),...(0,h.nv)("main",["buscarAreaFiltros"])}},m=g;var v=e(1001),f=(0,v.Z)(m,u,p,!1,null,null,null);const b=f.exports},84791:(a,t,e)=>{e.d(t,{Z:()=>l});var o=e(75721),i=e(30021),s=e(45530),r=Object.assign||function(a){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o])}return a};const l=(0,s.Z)(o.Z,(0,i.J)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return r({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(a){var t=-1;if(!a){var e=this.open.reduce((function(a,t){return t?a+1:a}),0),o=Array(this.items.length).fill(!1);1===e&&(t=this.open.indexOf(!0)),t>-1&&(o[t]=!0),this.open=o}this.$emit("input",a?this.open:t>-1?t:null)},value:function(a){this.updateFromValue(a)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(a){if(!Array.isArray(a)||this.expand){var t=Array(this.items.length).fill(!1);"number"===typeof a?t[a]=!0:null!==a&&(t=a),this.updatePanels(t)}},updatePanels:function(a){this.open=a;for(var t=0;t<this.items.length;t++)this.items[t].toggle(a&&a[t])},panelClick:function(a){for(var t=this.expand?this.open.slice():Array(this.items.length).fill(!1),e=0;e<this.items.length;e++)this.items[e]._uid===a&&(t[e]=!this.open[e],!this.expand&&this.$emit("input",t[e]?e:null));this.updatePanels(t),this.expand&&this.$emit("input",t)},register:function(a){var t=this.items.push(a)-1;null!==this.value&&this.updateFromValue(this.value),a.toggle(!!this.open[t])},unregister:function(a){var t=this.items.findIndex((function(t){return t._uid===a._uid}));this.items.splice(t,1),this.open.splice(t,1)}},render:function(a){return a("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},94694:(a,t,e)=>{e.d(t,{Z:()=>p});var o=e(22482),i=e(76815),s=e(54735),r=e(38197),l=e(30021),n=e(99524),c=e(45530),d=e(28219);function u(a){if(Array.isArray(a)){for(var t=0,e=Array(a.length);t<a.length;t++)e[t]=a[t];return e}return Array.from(a)}const p=(0,c.Z)(i.Z,s.Z,r.Z,(0,l.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,d.Kd)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(a){13===a.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var a=[].concat(u(this.$slots.header||[]));return this.hideActions||a.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},a)},genIcon:function(){var a=this.$slots.actions||[this.$createElement(n.Z,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},a)])},toggle:function(a){var t=this;a&&(this.isBooted=!0),this.$nextTick((function(){return t.isActive=a}))}},render:function(a){return a("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),a(o.Fx,[this.genBody()])])}})}}]);