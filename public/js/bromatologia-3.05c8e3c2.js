"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[8757],{60453:(a,r,e)=>{e.r(r),e.d(r,{default:()=>L});var s=e(55669),i=e(15852),t=e(1899),o=e(48122),n=e(16251),l=e(41614),c=e(59594),u=e(46227),d=e(69155),p=e(55731),m=function(){var a=this,r=a._self._c;return r(o.A,{attrs:{"grid-list-xs":""}},[r(d.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[r(l.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[r(i.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[r(t.OQ,{staticClass:"px-0 text-uppercase"},[a._v("====== Bromatologia ======")])],1)],1),r(l.A,{attrs:{"pa-1":"","ma-1":"",terciary:"",xs12:""}},[r(d.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","darken-2":""}},[r(l.A,{attrs:{"px-3":""}},[r(u.A,{attrs:{medium:"",color:"white",left:""}},[a._v("colorize")]),r("span",{staticClass:"title white--text"},[a._v("Validar Analisis")])],1),r(p.hc),r(n.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),r(s.A,{staticClass:"white--text",attrs:{round:"",to:{name:"BromatologiaBuscar"},color:"terciary darken-1",disabled:a.loading.estado,loading:a.loading.estado}},[a._v("Buscar Analisis")])],1),r(i.A,{staticClass:"elevation-6"},[r(t.OQ,[r(c.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(r){a.valido=r},expression:"valido"}},[r("formValidar",{attrs:{analisis:a.analisis,persona:a.persona}})],1)],1),r(d.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[r(p.hc),r(n.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),r(s.A,{class:{"terciary darken-1":a.valido,"error darken-1":!a.valido},attrs:{round:"",dark:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:a.validar}},[a._v(" "+a._s(a.valido?"Validar Analisis":"Formulario No valido"))])],1)],1)],1)],1)],1)},h=[],g=(e(44114),e(95353)),f=e(57e3),x=e(51257),b=function(){var a=this,r=a._self._c;return r("div",[r(d.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[r(l.A,{attrs:{xs12:"","ma-2":""}},[r(i.A,{attrs:{dark:"",color:"terciary darken-1"}},[r(t.OQ,{staticClass:"px-0 text-uppercase"},[a._v(" === Datos Generales === ")])],1)],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"","prepend-icon":"assignment",label:"# Orden",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.orden,callback:function(r){a.$set(a.analisis,"orden",r)},expression:"analisis.orden"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"assignment",label:"Fecha de Solicitud",type:"date",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.fec_solicitud,callback:function(r){a.$set(a.analisis,"fec_solicitud",r)},expression:"analisis.fec_solicitud"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"assignment",label:"# Muestra",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.muestra,callback:function(r){a.$set(a.analisis,"muestra",r)},expression:"analisis.muestra"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"assignment",label:"Fecha de Inspeccion",type:"date",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.fec_inspeccion,callback:function(r){a.$set(a.analisis,"fec_inspeccion",r)},expression:"analisis.fec_inspeccion"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"","prepend-icon":"assignment",label:"# Expediente",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.expediente,callback:function(r){a.$set(a.analisis,"expediente",r)},expression:"analisis.expediente"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"assignment",label:"Fecha de Resultado",type:"date",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.fec_resultado,callback:function(r){a.$set(a.analisis,"fec_resultado",r)},expression:"analisis.fec_resultado"}})],1),r(l.A,{attrs:{xs12:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"person",label:"Inspector",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.inspector,callback:function(r){a.$set(a.analisis,"inspector",r)},expression:"analisis.inspector"}})],1),r(l.A,{attrs:{xs12:"","px-3":""}},[r(x.A,{attrs:{readonly:"","auto-grow":"",rows:"2","prepend-icon":"description",label:"Observacion",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.observacion,callback:function(r){a.$set(a.analisis,"observacion",r)},expression:"analisis.observacion"}})],1),r(l.A,{attrs:{xs12:"","ma-2":""}},[r(i.A,{attrs:{dark:"",color:"terciary darken-1"}},[r(t.OQ,{staticClass:"px-0 text-uppercase"},[a._v(" === Datos Especiales === ")])],1)],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"colorize",label:"Tipo de Analisis",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.tipo_analisis,callback:function(r){a.$set(a.analisis,"tipo_analisis",r)},expression:"analisis.tipo_analisis"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"fas fa-archway",label:"Origen",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.origen,callback:function(r){a.$set(a.analisis,"origen",r)},expression:"analisis.origen"}})],1),"Fisico-Quimico"===a.analisis.tipo_analisis?r(d.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"search",label:"Fuente de Analisis",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.fuente_analisis,callback:function(r){a.$set(a.analisis,"fuente_analisis",r)},expression:"analisis.fuente_analisis"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"invert_colors_on",label:"Color",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.color,callback:function(r){a.$set(a.analisis,"color",r)},expression:"analisis.color"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"graphic_eq",label:"Olor",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.olor,callback:function(r){a.$set(a.analisis,"olor",r)},expression:"analisis.olor"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"pie_chart",label:"Aspecto",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.aspecto,callback:function(r){a.$set(a.analisis,"aspecto",r)},expression:"analisis.aspecto"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":Number(a.analisis.ph).toFixed(2)<6.5||7.5<Number(a.analisis.ph).toFixed(2)},attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"PH",label:"PH",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.ph,callback:function(r){a.$set(a.analisis,"ph",r)},expression:"analisis.ph"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":45<Number(a.analisis.nitratos).toFixed(2)},attrs:{readonly:"","prepend-icon":"grain",label:"Nitratos (mg/L)",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.nitratos,callback:function(r){a.$set(a.analisis,"nitratos",r)},expression:"analisis.nitratos"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":.1<Number(a.analisis.nitritos).toFixed(2)},attrs:{readonly:"","prepend-icon":"grain",label:"Nitritos (mg/L)",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.nitritos,callback:function(r){a.$set(a.analisis,"nitritos",r)},expression:"analisis.nitritos"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":400<Number(a.analisis.sulfato).toFixed(2)},attrs:{readonly:"","prepend-icon":"grain",label:"Sulfato (mg/L)",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.sulfatoFormato,callback:function(r){a.sulfatoFormato=r},expression:"sulfatoFormato"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":.01<Number(a.analisis.arsenico).toFixed(2)},attrs:{readonly:"","prepend-icon":"AS",label:"Arsenico (mg/L)",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.arsenicoFormato,callback:function(r){a.arsenicoFormato=r},expression:"arsenicoFormato"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":250<Number(a.analisis.cloruros).toFixed(2)},attrs:{readonly:"","prepend-icon":"CL",label:"Cloruros (mg/L)",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.cloruros,callback:function(r){a.$set(a.analisis,"cloruros",r)},expression:"analisis.cloruros"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":400<Number(a.analisis.dureza).toFixed(2)},attrs:{readonly:"","prepend-icon":"texture",label:"Dureza (mg CaCO3/L)",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.dureza,callback:function(r){a.$set(a.analisis,"dureza",r)},expression:"analisis.dureza"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":400<Number(a.analisis.alcalinidad).toFixed(2)},attrs:{readonly:"","prepend-icon":"radio_button_checked",label:"Alcalinidad (mg CaCO3/L)",type:"number",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.alcalinidad,callback:function(r){a.$set(a.analisis,"alcalinidad",r)},expression:"analisis.alcalinidad"}})],1)],1):a._e(),"Bacteriologico"===a.analisis.tipo_analisis?r(d.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{attrs:{readonly:"",rules:[...a.rules.requerido],"prepend-icon":"search",label:"Fuente de Analisis",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.fuente_analisis,callback:function(r){a.$set(a.analisis,"fuente_analisis",r)},expression:"analisis.fuente_analisis"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":">500"===a.analisis.mesofilas},attrs:{readonly:"","prepend-icon":"exposure",label:"Bacterias mesofilas en agar",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.mesofilas,callback:function(r){a.$set(a.analisis,"mesofilas",r)},expression:"analisis.mesofilas"}})],1),r(l.A,{attrs:{id:"italic",xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":"Contiene"===a.analisis.echerihia},attrs:{readonly:"","prepend-icon":"bug_report",label:"Escherichia coli",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.echerihia,callback:function(r){a.$set(a.analisis,"echerihia",r)},expression:"analisis.echerihia"}})],1),r(l.A,{attrs:{id:"italic",xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":"Contiene"===a.analisis.pseudomonaAeruginosa},attrs:{readonly:"","prepend-icon":"bug_report",label:"Pseudomona aeruginosa",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.pseudomonaAeruginosa,callback:function(r){a.$set(a.analisis,"pseudomonaAeruginosa",r)},expression:"analisis.pseudomonaAeruginosa"}})],1),r(l.A,{attrs:{xs12:"",sm6:"","px-3":""}},[r(f.W,{class:{"background-color: error lighten-1":3<Number(a.analisis.coliformes).toFixed(2)},attrs:{readonly:"","prepend-icon":"bug_report",label:"Bacterias coliformes",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.coliformesFormato,callback:function(r){a.coliformesFormato=r},expression:"coliformesFormato"}})],1),r(l.A,{attrs:{xs0:"",sm6:""}})],1):a._e(),"Alimento"===a.analisis.tipo_analisis?r(d.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[r(l.A,{attrs:{xs12:"","px-3":""}},[r(x.A,{attrs:{readonly:"","auto-grow":"",rows:"2","prepend-icon":"description",label:"Observacion del Alimento",type:"text",color:"terciary","background-color":"terciary lighten-2"},model:{value:a.analisis.observacionAlimento,callback:function(r){a.$set(a.analisis,"observacionAlimento",r)},expression:"analisis.observacionAlimento"}})],1)],1):a._e(),r(l.A,{attrs:{xs12:"","ma-2":""}},[r(i.A,{attrs:{dark:"",color:"terciary darken-1"}},[r(t.OQ,{staticClass:"px-0 text-uppercase"},[a._v(" === Conclusion === ")])],1)],1),r(l.A,{attrs:{xs12:"","mx-3":"","my-4":""}},[r(x.A,{attrs:{rules:[...a.rules.requerido],label:"Conclusion",color:"terciary","background-color":"terciary lighten-5","prepend-icon":"description",clearable:""},model:{value:a.analisis.conclusion,callback:function(r){a.$set(a.analisis,"conclusion",r)},expression:"analisis.conclusion"}})],1)],1)],1)},y=[];const v={name:"formValidar",props:["analisis","persona"],data(){return{}},computed:{...(0,g.aH)(["rules"]),coliformesFormato:function(){return this.analisis.coliformes?Number(this.analisis.coliformes)<3?"<3":this.analisis.coliformes:""},sulfatoFormato:function(){return this.analisis.sulfato?Number(this.analisis.sulfato)<200?"<200":this.analisis.sulfato:""},arsenicoFormato:function(){return this.analisis.arsenico?Number(this.analisis.arsenico).toFixed(2)<.01?"<0.01":this.analisis.arsenico:""}}},A=v;var k=e(81656),_=(0,k.A)(A,b,y,!1,null,null,null);const w=_.exports,$={name:"analisisValidar",components:{formValidar:w},data(){return{valido:!0,analisis:{orden:"",origen:"",muestra:"",expediente:"",titular:"",rubro:"",dir_calle:"",dir_numero:"",dir_entre:"",dir_barrio:"",telefono:"",inspector:"",fec_solicitud:"",fec_inspeccion:"",fec_resultado:"",observacion:"",tipo_analisis:"",fuente_analisis:"",conclusion:"LA MUESTRA CUMPLE/NO CUMPLE CON LOS CRITERIOS DE POTABILIDAD SEGÚN EL CÓDIGO ALIMENTARIO ARGENTINO (CAA).",mesofilas:"",coliformes:"",echerihia:"",pseudomonaAeruginosa:"",color:"",olor:"",aspecto:"",ph:"",nitratos:"",nitritos:"",sulfato:"",arsenico:"",cloruros:"",dureza:"",alcalinidad:"",observacionAlimento:"",estado:!0}}},computed:{...(0,g.aH)(["APIURL","axiosConfig","loading","persona"])},created(){let{id:a}=this.$route.params;this.cargarAnalisis(a)},methods:{...(0,g.PY)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),async cargarAnalisis(a){try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let e=await this.axios.get(this.APIURL+"/bromatologia/buscar/"+a,this.axiosConfig);if(e.data.ok)for(const a in e.data.analisis)e.data.analisis.hasOwnProperty(a)&&("conclusion"!==a||e.data.analisis[a])&&("fec_inspeccion"===a||"fec_resultado"===a||"fec_solicitud"===a||"fec_verificado"===a?this.analisis[a]=this.mostrarFecha(e.data.analisis[a]):"number"===typeof e.data.analisis[a]||"boolean"===typeof e.data.analisis[a]?this.analisis[a]=e.data.analisis[a].toString():this.analisis[a]=e.data.analisis[a]);else try{this.mostrarError({errores:"",mensaje:e.data.err.message,titulo:e.status})}catch(r){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(r){try{this.mostrarError({errores:r.response.data.err.errors,mensaje:r.response.data.err.message,titulo:r.response.status})}catch(r){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}this.$router.push({name:"BromatologiaBuscar"})}finally{this.ocultarLoading()}},async validar(){if(this.$refs.form.validate()){if(await this.$root.$confirm.open({titulo:"VALIDAR",msj:["Verifique que todos los datos esten cargados correctamente,\nuna vez Validado no se podra modificar.","Los Analisis Validados se podran descargar/imprimir, ademas de ser visibles para los usuarios con permiso de solo lectura.\n¿Desea continuar?"]}))try{this.mostrarLoading({titulo:"Validando Analisis...",color:"primary"});let r=await this.axios.put(this.APIURL+"/bromatologia/validar/"+this.analisis.id,this.analisis,this.axiosConfig);if(r.data.ok)this.analisis.usuario_verifico={},this.analisis.usuario_verifico.nombreC=this.persona.nombreC,this.analisis.fec_verificado=new Date,this.analisis.conclusion=this.analisis.conclusion,this.mostrarMensaje({msj:"Validacion efectuada exitosamente.",titulo:"Validacion Exitosa"}),this.$router.push({name:"BromatologiaBuscar"});else try{this.mostrarError({errores:"",mensaje:r.data.err.message,titulo:r.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(a){try{this.mostrarError({errores:a.response.data.err.errors,mensaje:a.response.data.err.message,titulo:a.response.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},C=$;var F=(0,k.A)(C,m,h,!1,null,null,null);const L=F.exports},59594:(a,r,e)=>{e.d(r,{A:()=>i});var s=e(88e3);const i={name:"v-form",mixins:[(0,s.G)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var a=Object.values(this.errorBag).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput:function(a){var r=this,e=function(a){return a.$watch("hasError",(function(e){r.$set(r.errorBag,a._uid,e)}),{immediate:!0})},s={_uid:a._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?s.shouldValidate=a.$watch("shouldValidate",(function(i){i&&(r.errorBag.hasOwnProperty(a._uid)||(s.valid=e(a)))})):s.valid=e(a),s},validate:function(){var a=this.inputs.filter((function(a){return!a.validate(!0)})).length;return!a},reset:function(){for(var a=this,r=this.inputs.length;r--;)this.inputs[r].reset();this.lazyValidation&&setTimeout((function(){a.errorBag={}}),0)},resetValidation:function(){for(var a=this,r=this.inputs.length;r--;)this.inputs[r].resetValidation();this.lazyValidation&&setTimeout((function(){a.errorBag={}}),0)},register:function(a){var r=this.watchInput(a);this.inputs.push(a),this.watchers.push(r)},unregister:function(a){var r=this.inputs.find((function(r){return r._uid===a._uid}));if(r){var e=this.watchers.find((function(a){return a._uid===r._uid}));e.valid&&e.valid(),e.shouldValidate&&e.shouldValidate(),this.watchers=this.watchers.filter((function(a){return a._uid!==r._uid})),this.inputs=this.inputs.filter((function(a){return a._uid!==r._uid})),this.$delete(this.errorBag,r._uid)}}},render:function(a){var r=this;return a("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(a){return r.$emit("submit",a)}}},this.$slots.default)}}}}]);