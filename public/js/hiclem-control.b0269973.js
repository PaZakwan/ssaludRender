"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[8169],{42681:function(e,t,a){a.d(t,{A:function(){return c}});var i=function(){var e=this,t=e._self._c;return e.field.array?t("span",[e.field.object?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i){return t("code",{key:`${e.field.text}-${i}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(a[e.field.keyShow]?e.field.date?e.mostrarFecha(a[e.field.keyShow],e.field.time):a[e.field.keyShow]:e.field.defaultValue??"--------"))]):t("span",e._l(a,(function(s,o,r){return t("span",{key:`${e.field.text}-${i}-${o}`},[e._v(e._s(o)+": "),t("kbd",[e._v(e._s(isNaN(s)&&"Invalid Date"!==e.mostrarFecha(s,e.field.time)?e.mostrarFecha(s,e.field.time)??e.field.defaultValue??"--------":s??e.field.defaultValue??"--------"))]),r!=Object.keys(a).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):e._get(e.props.item,e.field.ruta)?.length?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i){return t("code",{key:`${e.field.text}-${i}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(a?e.field.date?e.mostrarFecha(a,e.field.time):a:e.field.defaultValue??"--------"))])})),0):t("span",[e._v(e._s(e.field.defaultValue??"--------"))])]):e.field.object?t("span",[t("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e._get(e.props.item,e.field.ruta)?.[e.field.keyShow]?e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time):e._get(e.props.item,e.field.ruta)[e.field.keyShow]:e.field.defaultValue??"--------"))]):Object.keys(e._get(e.props.item,e.field.ruta)??{}).length?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,i,s){return t("span",{key:`${e.field.text}-${i}`},[e._v(e._s(i)+": "),t("kbd",[e._v(e._s(isNaN(a)&&"Invalid Date"!==e.mostrarFecha(a,e.field.time)?`${e.mostrarFecha(a,e.field.time)}`??0??0:a??e.field.defaultValue??"--------"))]),s!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0):t("span",[e._v(e._s(e.field.defaultValue??"--------"))])])]):t("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e._get(e.props.item,e.field.ruta)?e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta),e.field.time):e.field.boolean?e._get(e.props.item,e.field.ruta)?"Si":"No":e.field.dateCompare?e.field.dateCompare.onlyYear?e.getEdad({date:e._get(e.props.item,e.field.ruta),dateHasta:e._get(e.props.item,e.field.rutaCompare),onlyYear:!0,formatString:e.field.dateCompare.formatString}):e.field.dateCompare.formatA単oDia?e.getEdad({date:e._get(e.props.item,e.field.ruta),dateHasta:e._get(e.props.item,e.field.rutaCompare),onlyYear:!1,"formatA単oDia":e.field.dateCompare.formatA単oDia}).formatA単oDia:e.getEdad({date:e._get(e.props.item,e.field.ruta),dateHasta:e._get(e.props.item,e.field.rutaCompare),onlyYear:!1,formatString:e.field.dateCompare.formatString}).formatString:e._get(e.props.item,e.field.ruta)?.toLocaleString("es-AR"):e.field.defaultValue?e.field.defaultValue:e.field.boolean?"No":"--------"))])},s=[],o={name:"body-data-table-dinamic",props:["props","field"]},r=o,l=a(81656),n=(0,l.A)(r,i,s,!1,null,null,null),c=n.exports},81255:function(e,t,a){a.d(t,{A:function(){return h}});var i=a(97001),s=a(21522),o=a(57e3),r=function(){var e=this,t=e._self._c;return t(s.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(o.W,e._g({attrs:{clearable:!e.soloLect&&!!e.clear,"background-color":e.soloLect?`${e.color} lighten-2`:`${e.color} lighten-5`,"prepend-icon":e.prepend,label:e.label,messages:e.msg,placeholder:e.holder,readonly:"",color:`${e.color} darken-3`,rules:e.req?[...e.rules.requerido,...e.rules.fecha]:[]},on:{"click:clear":function(t){return e.$emit("input","")}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}},a))]}}]),model:{value:e.menufecha1,callback:function(t){e.menufecha1=t},expression:"menufecha1"}},[t(i.A,{attrs:{readonly:e.soloLect,"allowed-dates":e.allowedDates,min:e.fecMin,max:e.fecMax,color:`${e.color} darken-3`,"header-color":`${e.color} darken-1`,locale:"mx"},on:{input:function(t){e.menufecha1=!1,e.$emit("input",t)}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1)},l=[],n=a(95353),c={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable","messages","placeholder"],data(){return{menufecha1:!1}},computed:{...(0,n.aH)(["rules"]),fecha(){return this.value},soloLect(){return this.soloLectura??!1},prepend(){return this.icon??"event"},req(){return this.requerido??!1},clear(){return this.clearable??!1},msg(){return this.messages??""},holder(){return this.placeholder??""},fecMin(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction(){return this.filtro??[]}},methods:{allowedDates(e){return!this.restriction.includes(new Date(e).getUTCDay())}}},d=c,u=a(81656),p=(0,u.A)(d,r,l,!1,null,null,null),h=p.exports},8632:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var i=a(28597),s=a(28383),o=a(3150),r=a(1899),l=a(48122),n=a(41614),c=a(69155),d=a(55731),u=(a(44114),function(){var e=this,t=e._self._c;return t(l.A,{attrs:{fluid:"","grid-list-xs":""}},[t(c.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(n.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(r.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1),t(n.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.A,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[t(r.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== ====== Control / Estadistica ====== ======")])],1),t(o.A,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[t(r.OQ,{staticClass:"px-0"},[t(c.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":""},on:{keypress:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.especialidad&&e.$router.push({name:e.especialidad})}}},[t(d.hc),t(n.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(i.A,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.especialidades,label:"Especialidad a controlar","prepend-icon":"fas fa-stethoscope",color:"cuarto"},on:{"click:clear":function(t){e.$nextTick((()=>e.especialidad=null))}},model:{value:e.especialidad,callback:function(t){e.especialidad=t},expression:"especialidad"}})],1),t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:!e.especialidad,loading:e.loading.estado,to:{name:e.especialidad}}},[e._v("Continuar ")]),t(d.hc)],1)],1)],1)],1)],1)],1)}),p=[],h=a(95353),f={name:"clinicoControl",data:()=>({especialidad:null,optionsJson:{}}),async created(){this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})},computed:{...(0,h.aH)(["loading"]),especialidades(){return this.optionsJson.motivo_especialidad?["Hojas 2.1",...this.optionsJson.motivo_especialidad]:["Hojas 2.1"]}},methods:{...(0,h.i0)(["returnOptionsJSON"])}},m=f,g=a(81656),v=(0,g.A)(m,u,p,!1,null,null,null),b=v.exports},88315:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var i=a(21999),s=a(28597),o=a(28383),r=a(3150),l=a(1899),n=a(37471),c=a(48122),d=a(81851),u=a(34172),p=a(41614),h=a(21939),f=a(21527),m=a(69155),g=a(17912),v=a(55731),b=a(57e3),x=function(){var e=this,t=e._self._c;return t(c.A,{attrs:{fluid:"","grid-list-xs":""}},[t(m.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(p.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(r.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(l.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1)],1),t(m.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[t(p.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(r.A,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[t(m.A,{attrs:{row:""}},[t(p.A,{attrs:{"px-3":""}},[t(l.OQ,{staticClass:"px-0 text-uppercase"},[e._v("==##== Control / Hojas 2.1 ==##==")])],1),t(v.hc),t(o.A,{attrs:{fab:"",small:"",color:"primary darken-2"},on:{click:function(t){return e.retroceder()}}},[t(f.A,[e._v("far fa-arrow-alt-circle-left")])],1)],1)],1),t(r.A,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[t(l.OQ,{staticClass:"px-0"},[t(m.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(p.A,{attrs:{xs12:"","px-3":""}},[t(r.A,{staticClass:"grey lighten-3"},[t(h.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(m.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaHojas2()}}},[t(p.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(p.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(p.A,{attrs:{xs12:"",sm4:"","px-3":""}},[t(s.A,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto",items:e.optionsJson.motivo_especialidad,label:"Especialidad de la Hoja 2.1","prepend-icon":"fas fa-stethoscope",rules:[...e.rules.requerido]},on:{"click:clear":function(t){e.$nextTick((()=>e.filtro.especialidad=null))}},model:{value:e.filtro.especialidad,callback:function(t){e.$set(e.filtro,"especialidad",t)},expression:"filtro.especialidad"}})],1),t(p.A,{attrs:{xs12:"",sm4:"","px-3":""}},[t(s.A,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencionDB,label:"Lugar de Atencion","prepend-icon":"fa-house-medical-flag",color:"cuarto"},on:{"click:clear":function(t){e.$nextTick((()=>e.filtro.area=null))}},model:{value:e.filtro.area,callback:function(t){e.$set(e.filtro,"area",t)},expression:"filtro.area"}})],1),t(p.A,{attrs:{xs12:"",sm4:"","px-3":""}},[t(s.A,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5","item-value":"id","item-text":"nombreC",items:e.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",color:"cuarto"},on:{"click:clear":function(t){e.$nextTick((()=>e.filtro.profesional=null))}},model:{value:e.filtro.profesional,callback:function(t){e.$set(e.filtro,"profesional",t)},expression:"filtro.profesional"}})],1)],1)],1),t(l.SL,[t(m.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(o.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaHojas2()}}},[e._v("Buscar ")])],1)],1)],1)],1)],1)],1)],1)],1),t(p.A,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[t(n.A,{staticClass:"title text-capitalize terciary"},[t(p.A,{attrs:{xs5:"","px-2":""}}),t(p.A,{attrs:{"display-1":"","font-weight-bold":"",xs12:"",sm6:"","px-2":""}},[t(f.A,{attrs:{large:"",color:"black",left:""}},[e._v("insert_chart")]),e._v(" Resultados ")],1),t(v.hc),t(p.A,{attrs:{xs1:"","px-2":""}}),t(m.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"","align-content-center":""}},[t(p.A,{attrs:{xs12:"",sm6:"","px-2":""}},[t(s.A,{staticClass:"capitalizar",attrs:{color:"black","background-color":"terciary lighten-4",items:e.filtroShowOptions,label:"Mostrar Informacion","prepend-icon":"insert_chart"},model:{value:e.filtroShow,callback:function(t){e.filtroShow=t},expression:"filtroShow"}})],1),t(u.A,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(v.hc),t(p.A,{attrs:{xs12:"","px-2":""}},[t(s.A,{staticClass:"capitalizar",attrs:{clearable:"",color:"black","background-color":"terciary lighten-4",items:e.filtroHeaderOptions,label:"Mostrar Columnas","prepend-icon":"pie_chart","menu-props":{top:!0,auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:e.filtroHeaderSelected,callback:function(t){e.filtroHeaderSelected=t},expression:"filtroHeaderSelected"}})],1)],1)],1),t(n.A,{staticClass:"title text-capitalize terciary lighten-2"},[t(p.A,{attrs:{xs12:"",sm4:"","px-2":""}},[t(b.W,{attrs:{clearable:"",color:"grey lighten-1","background-color":"terciary lighten-4","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(v.hc),t(u.A,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(o.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.informe()}}},[e._v("Informe (En Desarrollo PDF)")])],1),t(d.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:e.headers,items:e.dataShowList,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(i.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(i.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:e.backgroundClass(a.item)},e._l(e.headers,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)})),0)]}}])},[t(g.A,{attrs:{color:"green",indeterminate:""}})],1)],1)],1)],1)},y=[],A=(a(44114),a(18111),a(7588),a(95353)),k=a(81255),_=a(42681),C={name:"controlHojas2",components:{dateSelect:k.A,bodyDataTableDinamic:_.A},data:()=>({paginacion:{sortBy:"Rango",descending:!1,rowsPerPage:10,page:1},search:"",dataList:{},filtroShowMain:"",filtroShowOptions:[],filtroShow:"",filtroHeaderSelected:[],unidadesAtencionDB:[{id:null,area:"Tod@s"}],profesionalesDB:[{id:null,nombreC:"Tod@s"}],optionsJson:{},valido:!0,filtro:{desde:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",hasta:"",especialidad:"",area:null,profesional:null}}),computed:{...(0,A.aH)(["loading","hoy","rules"]),dataShowList(){let e=[];return this.filtroShow&&(e=this.dataList[this.filtroShow]),this.paginacion.page>Math.ceil(e.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),e},filtroHeaderOptions(){let e=Object.keys(this.dataShowList[0]||[]);return["Derivado","Rango","Edad_Total"].forEach((t=>{let a=e.indexOf(t);a>=0&&e.splice(a,1)})),this.filtroHeaderSelected=e,e},headers(){if(0!=this.dataList.length){let e=[];return"Derivados"===this.filtroShow?(e.push({text:"Derivados De",value:"Derivado",class:"text-capitalize text-sm-left",ruta:"Derivado"}),this.filtroHeaderSelected.includes("Derivados_Cantidad")&&e.push({text:"Derivados Cantidad",value:"Derivados_Cantidad",class:"text-sm-left",ruta:"Derivados_Cantidad"}),this.filtroHeaderSelected.includes("Motivos")&&e.push({text:"Motivos",value:"Motivos",class:"text-sm-left",ruta:"Motivos",array:!0}),e):(e.push({text:"Rango Etario",value:"Rango",class:"text-capitalize text-sm-left",ruta:"Rango"}),this.filtroHeaderSelected.includes("Total")&&e.push({text:"Total",value:"Total",class:"text-sm-left",ruta:"Total"}),this.filtroHeaderSelected.includes("Edad_Promedio")&&e.push({text:"Edad Promedio",value:"Edad_Promedio",class:"text-sm-left",ruta:"Edad_Promedio"}),this.filtroHeaderSelected.includes("Genero")&&e.push({text:"Genero",value:"Genero",class:"text-sm-left",ruta:"Genero",object:!0}),this.filtroHeaderSelected.includes("Actividad")&&e.push({text:"Actividad",value:"Actividad",class:"text-sm-left",ruta:"Actividad",object:!0}),this.filtroHeaderSelected.includes("Presentacion")&&e.push({text:"Presentacion",value:"Presentacion",class:"text-sm-left",ruta:"Presentacion",object:!0}),this.filtroHeaderSelected.includes("Comorbilidad")&&e.push({text:"Comorbilidad",value:"Comorbilidad",class:"text-sm-left",ruta:"Comorbilidad",object:!0}),this.filtroHeaderSelected.includes("Diagnostico")&&e.push({text:"Diagnostico",value:"Diagnostico",class:"text-sm-left",ruta:"Diagnostico",object:!0}),this.filtroHeaderSelected.includes("Riesgo_Cardio_%")&&e.push({text:"Riesgo Cardio [%]",value:"Riesgo_Cardio_%",class:"text-sm-left",ruta:"Riesgo_Cardio_%",object:!0}),"Nutricion"===this.filtroShowMain?(this.filtroHeaderSelected.includes("Puntaje_Z")&&e.push({text:"Puntaje Z",value:"Puntaje_Z",class:"text-sm-left",ruta:"Puntaje_Z",object:!0}),e):e)}return[]}},async created(){this.filtro.hasta=this.hoy,this.profesionalesDB.push(...await this.cargarProfesionalesBusqueda()),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.unidadesAtencionDB.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,A.PY)(["mostrarError"]),...(0,A.i0)(["requestAPI","returnOptionsJSON","retroceder"]),...(0,A.i0)("main",["buscarAreaFiltros"]),...(0,A.i0)("profesional",["cargarProfesionalesBusqueda"]),backgroundClass(e){if(!e)return""},async consultaHojas2(){if(this.$refs.form.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/control/${this.filtro.especialidad}/hoja2?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&area=${this.filtro.area}&profesional=${this.filtro.profesional}`});this.filtroShowOptions=Object.keys(e?.data?.resumen||[]),this.filtroShow=this.filtroShowOptions[0]||"",this.filtroShowMain=this.filtro.especialidad||"",this.dataList=e?.data?.resumen||{},Object.keys(this.dataList).forEach((e=>{Array.isArray(this.dataList[e])||"object"!==typeof this.dataList||(this.dataList[e]=Object.values(this.dataList[e]))}))}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async informe(){console.log("informe dataList",this.dataList),console.log("informe totales",this.totales)}}},w=C,S=a(81656),P=(0,S.A)(w,x,y,!1,null,null,null),$=P.exports},32818:function(e,t,a){a.r(t),a.d(t,{default:function(){return M}});var i=a(21999),s=a(28383),o=a(3150),r=a(1899),l=a(37471),n=a(48122),c=a(81851),d=a(34172),u=a(28921),p=a(24496),h=a(41614),f=a(21939),m=a(21527),g=a(69155),v=a(17912),b=a(87202),x=a(55731),y=a(57e3),A=function(){var e=this,t=e._self._c;return t(n.A,{attrs:{fluid:"","grid-list-xs":""}},[t(g.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(h.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(r.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1)],1),t(g.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[t(h.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.A,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[t(g.A,{attrs:{row:""}},[t(h.A,{attrs:{"px-3":""}},[t(r.OQ,{staticClass:"px-0 text-uppercase"},[e._v("==##== Control / Nutricion ==##==")])],1),t(x.hc),t(s.A,{attrs:{fab:"",small:"",color:"primary darken-2"},on:{click:function(t){return e.retroceder()}}},[t(m.A,[e._v("far fa-arrow-alt-circle-left")])],1)],1)],1),t(o.A,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[t(r.OQ,{staticClass:"px-0"},[t(g.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"","text-xs-center":""}},[t(h.A,{attrs:{xs12:"","px-3":""}},[t(u.A,{attrs:{expand:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[t("b",[e._v("Permanencia")]),e._v(" de las personas que iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formPermanencia",attrs:{"lazy-validation":""},model:{value:e.valido.permanencia,callback:function(t){e.$set(e.valido,"permanencia",t)},expression:"valido.permanencia"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaPermanencia()}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(b.d,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.permanencia.descripcion,callback:function(t){e.$set(e.filtro.permanencia,"descripcion",t)},expression:"filtro.permanencia.descripcion"}}):e._e()],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.permanencia.diasAbandono,callback:function(t){e.$set(e.filtro.permanencia,"diasAbandono",t)},expression:"filtro.permanencia.diasAbandono"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaPermanencia()}}},[e._v("Buscar ")])],1)],1)],1)],1),t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que "),t("b",[e._v('perdieron "X" peso y continuan')]),e._v(" el Programa que iniciaron entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formPeso",attrs:{"lazy-validation":""},model:{value:e.valido.peso,callback:function(t){e.$set(e.valido,"peso",t)},expression:"valido.peso"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaPeso()}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(b.d,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.peso.descripcion,callback:function(t){e.$set(e.filtro.peso,"descripcion",t)},expression:"filtro.peso.descripcion"}}):e._e()],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"date_range",label:"Dias Abandono",hint:"Dias que pasaron sin ninguna consulta para considerar que abandono.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.peso.diasAbandono,callback:function(t){e.$set(e.filtro.peso,"diasAbandono",t)},expression:"filtro.peso.diasAbandono"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",hint:"Peso perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.peso.pesoPerdido,callback:function(t){e.$set(e.filtro.peso,"pesoPerdido",t)},expression:"filtro.peso.pesoPerdido"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaPeso()}}},[e._v("Buscar ")])],1)],1)],1)],1),t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que "),t("b",[e._v('bajaron "X" de IMC')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formIMC",attrs:{"lazy-validation":""},model:{value:e.valido.IMC,callback:function(t){e.$set(e.valido,"IMC",t)},expression:"valido.IMC"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaIMC()}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(b.d,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.IMC.descripcion,callback:function(t){e.$set(e.filtro.IMC,"descripcion",t)},expression:"filtro.IMC.descripcion"}}):e._e()],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",hint:"IMC perdido minimo esperado desde inicio.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(-100),e.rules.maxNumber(100)]},model:{value:e.filtro.IMC.IMCPerdido,callback:function(t){e.$set(e.filtro.IMC,"IMCPerdido",t)},expression:"filtro.IMC.IMCPerdido"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaIMC()}}},[e._v("Buscar ")])],1)],1)],1)],1),t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que adoptaron "),t("b",[e._v('"X+" habitos saludables')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:e.valido.habitos,callback:function(t){e.$set(e.valido,"habitos",t)},expression:"valido.habitos"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaHabitos("Si")}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(b.d,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.habitos.descripcion,callback:function(t){e.$set(e.filtro.habitos,"descripcion",t)},expression:"filtro.habitos.descripcion"}}):e._e()],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-leaf",label:"Habitos Saludables Adoptados",hint:"Habitos Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.habitos.habitosGanados,callback:function(t){e.$set(e.filtro.habitos,"habitosGanados",t)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaHabitos("Si")}}},[e._v("Buscar ")])],1)],1)],1)],1),t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas que adoptaron "),t("b",[e._v('"X+" habitos no saludables')]),e._v(" e iniciaron el Programa entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formHabitos",attrs:{"lazy-validation":""},model:{value:e.valido.habitos,callback:function(t){e.$set(e.valido,"habitos",t)},expression:"valido.habitos"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaHabitos("No")}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[e.optionsJson.motivo_actividades?t(b.d,{attrs:{clearable:"","background-color":"cuarto lighten-5",items:e.optionsJson.motivo_actividades["Nutricion"],label:"Programa","prepend-icon":"fact_check",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.filtro.habitos.descripcion,callback:function(t){e.$set(e.filtro.habitos,"descripcion",t)},expression:"filtro.habitos.descripcion"}}):e._e()],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fastfood",label:"Habitos No Saludables Adoptados",hint:"Habitos No Saludables Adoptados Esperados.","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas]},model:{value:e.filtro.habitos.habitosGanados,callback:function(t){e.$set(e.filtro.habitos,"habitosGanados",t)},expression:"filtro.habitos.habitosGanados"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaHabitos("No")}}},[e._v("Buscar ")])],1)],1)],1)],1),t(p.A,{scopedSlots:e._u([{key:"header",fn:function(){return[t("div",{staticClass:"title grey lighten-3"},[e._v(" Personas con "),t("b",[e._v('"X+" consultas nutricionales')]),e._v(" entre fechas [x,y]. ")])]},proxy:!0}])},[t(o.A,{staticClass:"grey lighten-3"},[t(f.A,{ref:"formNutricionistas",attrs:{"lazy-validation":""},model:{value:e.valido.nutricionistas,callback:function(t){e.$set(e.valido,"nutricionistas",t)},expression:"valido.nutricionistas"}},[t(g.A,{attrs:{"justify-center":"",row:"",wrap:""},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.consultaNutricionistas()}}},[t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,"background-color":"cuarto lighten-5",color:"cuarto",label:"Desde",icon:"event",max:e.filtro.hasta,requerido:"true"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(h.A,{attrs:{xs12:"",sm5:""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,"background-color":"cuarto lighten-5",color:"cuarto",label:"Hasta",icon:"event",min:e.filtro.desde,requerido:"true"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(h.A,{attrs:{xs12:"",sm5:"","pa-2":""}},[t(y.W,{attrs:{clearable:"","background-color":"cuarto lighten-5","prepend-icon":"fact_check",label:"Consultas Nutricionales",hint:"Consultas Nutricionales Esperadas. (minimas)","persistent-hint":"",type:"number",color:"cuarto","validate-on-blur":"",rules:[...e.rules.requerido,...e.rules.soloNumeroMas,e.rules.minNumber(0)]},model:{value:e.filtro.nutricion.consultas,callback:function(t){e.$set(e.filtro.nutricion,"consultas",t)},expression:"filtro.nutricion.consultas"}})],1)],1)],1),t(r.SL,[t(g.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.consultaNutricionistas()}}},[e._v("Buscar ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),t(h.A,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[t(l.A,{staticClass:"title text-capitalize terciary"},[t(m.A,{attrs:{large:"",color:"black",left:""}},[e._v("insert_chart")]),e._v(" Resultados "),t(x.hc),t(d.A,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(y.W,{attrs:{clearable:"",color:"grey lighten-1","background-color":"terciary lighten-4","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(l.A,{staticClass:"title text-capitalize terciary lighten-2"},[t("div",[t(m.A,{attrs:{color:"terciary darken-2",left:""}},[e._v("pie_chart")]),e._v(" Totales: "+e._s(e.totales)+" ")],1),t(x.hc),t(d.A,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(s.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.informe()}}},[e._v("Informe (En Desarrollo PDF)")])],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:e.headers,items:e.dataList,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(i.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(i.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:e.backgroundClass(a.item)},e._l(e.headers,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)})),0)]}}])},[t(v.A,{attrs:{color:"green",indeterminate:""}})],1)],1)],1)],1)},k=[],_=a(95353),C=a(81255),w=a(42681),S={name:"controlNutricion",components:{dateSelect:C.A,bodyDataTableDinamic:w.A},data:()=>({paginacion:{sortBy:"paciente.nombreC",descending:!1,rowsPerPage:10,page:1},headersBase:[{text:"Apellido, Nombre",value:"paciente.nombreC",class:"text-capitalize text-sm-left",ruta:"paciente.nombreC"},{text:"Documento",value:"paciente.documentoC",class:"text-sm-left",ruta:"paciente.documentoC"}],search:"",dataList:[],totales:{},headerSet:"",valido:{permanencia:!0,peso:!0,IMC:!0,habitos:!0,nutricionistas:!0},optionsJson:{},filtro:{desde:(new Date).getFullYear()-1+"-"+((new Date).getMonth()+1).toString().padStart(2,0)+"-01",hasta:"",permanencia:{descripcion:"reduccion de peso",diasAbandono:14},peso:{pesoPerdido:1e3,descripcion:"reduccion de peso",diasAbandono:14},IMC:{IMCPerdido:5,descripcion:"reduccion de peso"},habitos:{habitosGanados:2,descripcion:"reduccion de peso"},nutricion:{consultas:2}}}),computed:{...(0,_.aH)(["loading","hoy","rules"]),headers(){return 0!=this.dataList.length?"Permanencia"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:"Peso"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Permanencia",value:"permanencia",class:"text-sm-left",ruta:"permanencia"},{text:"Peso Perdido [gr]",value:"pesoPerdidoInicial",class:"text-sm-left",ruta:"pesoPerdidoInicial"},{text:"Perdido Ultimo Pesaje [gr]",value:"pesoPerdidoUltimoPesaje",class:"text-sm-left",ruta:"pesoPerdidoUltimoPesaje"},{text:"Consultas Peso [gr]",value:"consultas.peso",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"peso"}]:"IMC"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"IMC Perdido Inicial",value:"IMCPerdidoInicial",class:"text-sm-left",ruta:"IMCPerdidoInicial"},{text:"IMC Perdido Ultimo",value:"IMCPerdidoUltimoPesaje",class:"text-sm-left",ruta:"IMCPerdidoUltimoPesaje"},{text:"IMC % Perdido Inicial",value:"IMCDiferenciaPorcentual",class:"text-sm-left",ruta:"IMCDiferenciaPorcentual"},{text:"Consultas IMC",value:"consultas.IMC",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"IMC"}]:"Habitos"===this.headerSet?[...this.headersBase,{text:"Estado Actual",value:"estadoActual",class:"text-capitalize text-sm-left",ruta:"estadoActual"},{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Habitos Diferencia",value:"habitosDiferenciaInicial",class:"text-sm-left",ruta:"habitosDiferenciaInicial"},{text:"Habitos Ultima Diferencia",value:"habitosUltimasDiferencia",class:"text-sm-left",ruta:"habitosUltimasDiferencia"},{text:"Consultas Habitos",value:"consultas.habitos",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"habitos"}]:"Nutricionistas"===this.headerSet?[...this.headersBase,{text:"Cumplio",value:"cumplio",class:"text-sm-left",ruta:"cumplio"},{text:"Consultas Nutricionales",value:"consultasCantidad",class:"text-sm-left",ruta:"consultasCantidad"},{text:"Consultas Fecha",value:"consultas.fecha",class:"text-sm-left",ruta:"consultas",array:!0,object:!0,keyShow:"fecha",date:!0}]:this.headersBase:[]}},async created(){this.filtro.hasta=this.hoy,this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"})},methods:{...(0,_.PY)(["mostrarError"]),...(0,_.i0)(["requestAPI","returnOptionsJSON","retroceder"]),backgroundClass(e){if(!e)return"";try{if("Peso"===this.headerSet){if("Si"===e.permanencia&&"Si"===e.cumplio)return"background-color: terciary lighten-5";if("No"===e.permanencia&&"Si"===e.cumplio)return"background-color: terciary lighten-2"}else if("Si"===e.permanencia||"Si"===e.cumplio)return"background-color: terciary lighten-5"}catch(t){return""}},async consultaPermanencia(){if(this.$refs.formPermanencia.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/permanencia?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.permanencia.diasAbandono}&programa=${this.filtro.permanencia.descripcion}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Permanencia",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaPeso(){if(this.$refs.formPeso.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/peso?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&diasAbandono=${this.filtro.peso.diasAbandono}&programa=${this.filtro.peso.descripcion}&pesoPerdido=${this.filtro.peso.pesoPerdido}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Peso",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaIMC(){if(this.$refs.formIMC.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/IMC?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&IMCPerdido=${this.filtro.IMC.IMCPerdido}&programa=${this.filtro.IMC.descripcion}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="IMC",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaHabitos(e){if(this.$refs.formHabitos.validate()){let t=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/habitos?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&habitoEsperado=${this.filtro.habitos.habitosGanados||2}&programa=${this.filtro.habitos.descripcion}&saludable=${e}`});this.dataList=t?.data?.historiales||[],this.totales=t?.data?.totales||{},this.headerSet="Habitos",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async consultaNutricionistas(){if(this.$refs.formNutricionistas.validate()){let e=await this.requestAPI({method:"get",url:`/HistorialClinico/nutricion/nutricionistas?desde=${this.filtro.desde}&hasta=${this.filtro.hasta}&consultasEsperadas=${this.filtro.nutricion.consultas||0}`});this.dataList=e?.data?.historiales||[],this.totales=e?.data?.totales||{},this.headerSet="Nutricionistas",this.paginacion.page>Math.ceil(this.dataList.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async informe(){console.log("informe dataList",this.dataList),console.log("informe totales",this.totales)}}},P=S,$=a(81656),D=(0,$.A)(P,A,k,!1,null,null,null),M=D.exports},28921:function(e,t,a){a.d(t,{A:function(){return l}});var i=a(677),s=a(88e3),o=a(72006),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},l=(0,o.A)(i.A,(0,s.G)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return r({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(e){var t=-1;if(!e){var a=this.open.reduce((function(e,t){return t?e+1:e}),0),i=Array(this.items.length).fill(!1);1===a&&(t=this.open.indexOf(!0)),t>-1&&(i[t]=!0),this.open=i}this.$emit("input",e?this.open:t>-1?t:null)},value:function(e){this.updateFromValue(e)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(e){if(!Array.isArray(e)||this.expand){var t=Array(this.items.length).fill(!1);"number"===typeof e?t[e]=!0:null!==e&&(t=e),this.updatePanels(t)}},updatePanels:function(e){this.open=e;for(var t=0;t<this.items.length;t++)this.items[t].toggle(e&&e[t])},panelClick:function(e){for(var t=this.expand?this.open.slice():Array(this.items.length).fill(!1),a=0;a<this.items.length;a++)this.items[a]._uid===e&&(t[a]=!this.open[a],!this.expand&&this.$emit("input",t[a]?a:null));this.updatePanels(t),this.expand&&this.$emit("input",t)},register:function(e){var t=this.items.push(e)-1;null!==this.value&&this.updateFromValue(this.value),e.toggle(!!this.open[t])},unregister:function(e){var t=this.items.findIndex((function(t){return t._uid===e._uid}));this.items.splice(t,1),this.open.splice(t,1)}},render:function(e){return e("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},24496:function(e,t,a){var i=a(40657),s=a(88202),o=a(10362),r=a(61004),l=a(88e3),n=a(54582),c=a(72006),d=a(73803);function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}t.A=(0,c.A)(s.A,o.A,r.A,(0,l.W)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,d.OP)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(e){13===e.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var e=[].concat(u(this.$slots.header||[]));return this.hideActions||e.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},e)},genIcon:function(){var e=this.$slots.actions||[this.$createElement(n.A,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},e)])},toggle:function(e){var t=this;e&&(this.isBooted=!0),this.$nextTick((function(){return t.isActive=e}))}},render:function(e){return e("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),e(i.Qo,[this.genBody()])])}})},21939:function(e,t,a){a.d(t,{A:function(){return s}});var i=a(88e3),s={name:"v-form",mixins:[(0,i.G)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},i={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?i.shouldValidate=e.$watch("shouldValidate",(function(s){s&&(t.errorBag.hasOwnProperty(e._uid)||(i.valid=a(e)))})):i.valid=a(e),i},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var t=this.watchInput(e);this.inputs.push(e),this.watchers.push(t)},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}}}]);