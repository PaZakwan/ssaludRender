"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[870],{12683:function(e,t,a){a.d(t,{A:function(){return c}});var r=function(){var e=this,t=e._self._c;return e.field.array?t("span",[e.field.object?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r){return t("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(a[e.field.keyShow],e.field.time)||"--------":a[e.field.keyShow]??"--------"))]):t("span",e._l(a,(function(o,s,i){return t("span",{key:`${e.field.text}-${r}-${s}`},[e._v(e._s(s)+": "),t("kbd",[e._v(e._s(isNaN(o)&&"Invalid Date"!==e.mostrarFecha(o,e.field.time)?e.mostrarFecha(o,e.field.time)||"--------":o??"--------"))]),i!=Object.keys(a).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r){return t("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(e.field.date?e.mostrarFecha(a,e.field.time)||"--------":a??"--------"))])})),0)]):e.field.object?t("span",[t("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time)||"--------":e._get(e.props.item,e.field.ruta)[e.field.keyShow]??"--------"))]):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r,o){return t("span",{key:`${e.field.text}-${r}`},[e._v(e._s(r)+": "),t("kbd",[e._v(e._s(isNaN(a)&&"Invalid Date"!==e.mostrarFecha(a,e.field.time)?`${e.mostrarFecha(a,e.field.time)}`||"--------":a??"--------"))]),o!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])]):t("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e.field.date?e.mostrarFecha(e.props.item[e.field.ruta],e.field.time)||"--------":e.field.boolean?""+(e._get(e.props.item,e.field.ruta)&&"false"!=e._get(e.props.item,e.field.ruta)&&"0"!=e._get(e.props.item,e.field.ruta)?"Si":"No"):e._get(e.props.item,e.field.ruta)?.toLocaleString("es-AR")??"--------"))])},o=[],s={name:"body-data-table-dinamic",props:["props","field"]},i=s,n=a(81656),l=(0,n.A)(i,r,o,!1,null,null,null),c=l.exports},81255:function(e,t,a){a.d(t,{A:function(){return h}});var r=a(97001),o=a(21522),s=a(57e3),i=function(){var e=this,t=e._self._c;return t(o.A,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(s.W,e._g({attrs:{clearable:!e.soloLect&&!!e.clear,"background-color":e.soloLect?`${e.color} lighten-2`:`${e.color} lighten-5`,"prepend-icon":e.prepend,label:e.label,messages:e.msg,placeholder:e.holder,readonly:"",color:`${e.color} darken-3`,rules:e.req?[...e.rules.requerido,...e.rules.fecha]:[]},on:{"click:clear":function(t){return e.$emit("input","")}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}},a))]}}]),model:{value:e.menufecha1,callback:function(t){e.menufecha1=t},expression:"menufecha1"}},[t(r.A,{attrs:{readonly:e.soloLect,"allowed-dates":e.allowedDates,min:e.fecMin,max:e.fecMax,color:`${e.color} darken-3`,"header-color":`${e.color} darken-1`,locale:"mx"},on:{input:function(t){e.menufecha1=!1,e.$emit("input",t)}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1)},n=[],l=a(95353),c={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable","messages","placeholder"],data(){return{menufecha1:!1}},computed:{...(0,l.aH)(["rules"]),fecha(){return this.value},soloLect(){return this.soloLectura??!1},prepend(){return this.icon??"event"},req(){return this.requerido??!1},clear(){return this.clearable??!1},msg(){return this.messages??""},holder(){return this.placeholder??""},fecMin(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substring(0,10):this.min?this.min:void 0},fecMax(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substring(0,10):this.max?this.max:void 0},restriction(){return this.filtro??[]}},methods:{allowedDates(e){return!this.restriction.includes(new Date(e).getUTCDay())}}},d=c,u=a(81656),m=(0,u.A)(d,i,n,!1,null,null,null),h=m.exports},10975:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var r=a(28597),o=a(28383),s=a(3150),i=a(1899),n=a(48122),l=a(34172),c=a(41614),d=a(21939),u=a(21527),m=a(69155),h=a(55731),p=a(57e3),f=(a(44114),function(){var e=this,t=e._self._c;return t(n.A,{attrs:{"grid-list-xs":""}},[t(m.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(c.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(i.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Patrimonio ======")])],1)],1),t(c.A,{attrs:{"pa-1":"","ma-1":"",terciary:"",xs12:""}},[t(m.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","darken-2":""}},[t(c.A,{attrs:{"px-3":""}},[t(u.A,{attrs:{medium:"",color:"white",left:""}},[e._v("library_books")]),t("span",{staticClass:"title white--text"},[e._v(" Orden de Compra ")])],1),t(h.hc),t(l.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(o.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.$router.push({name:"PatrimonioBuscar"})}}},[t(u.A,{attrs:{color:"white",left:""}},[e._v("search")]),e._v("Buscar Objetos")],1)],1),t(s.A,{staticClass:"elevation-6"},[t(i.OQ,[t(d.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(m.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(c.A,{attrs:{xs0:"",sm3:"","px-3":""}}),t(c.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(p.W,{attrs:{"prepend-icon":"receipt",label:"Numero de Orden",type:"text",color:"terciary",clearable:"","background-color":"terciary lighten-5","validate-on-blur":"",rules:[...e.rules.requerido]},model:{value:e.nro_orden,callback:function(t){e.nro_orden=t},expression:"nro_orden"}})],1),t(c.A,{attrs:{xs0:"",sm3:"","px-3":""}}),t(c.A,{attrs:{xs12:"",sm6:"","px-2":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.fec_orden,color:"terciary",label:"Fecha de Orden",icon:"event",requerido:"true",clearable:"true"},model:{value:e.fec_orden,callback:function(t){e.fec_orden=t},expression:"fec_orden"}})],1),t(c.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(r.A,{staticClass:"capitalizar",attrs:{rules:[...e.rules.requerido],clearable:"","item-value":"id","item-text":"area",items:e.areas,label:"Area","prepend-icon":"location_city",color:"terciary","background-color":"terciary lighten-5","validate-on-blur":""},model:{value:e.area_orden,callback:function(t){e.area_orden=t},expression:"area_orden"}})],1),t(c.A,{attrs:{xs12:""}},[t(l.A,{key:"ohyeah"})],1),e._l(e.orden,(function(a,s){return t(c.A,{key:s,attrs:{xs12:"","px-3":""}},[t(m.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(c.A,{attrs:{xs12:"",sm4:"","px-1":""}},[t(r.A,{staticClass:"capitalizar",attrs:{rules:[...e.rules.requerido],clearable:"","item-value":"id","item-text":"modelo",items:e.objetosOrdenList,label:"Objeto Modelo","prepend-icon":"more",color:"terciary","background-color":"terciary lighten-5","validate-on-blur":""},model:{value:e.orden[s].id_objeto,callback:function(t){e.$set(e.orden[s],"id_objeto",t)},expression:"orden[index].id_objeto"}})],1),t(c.A,{attrs:{xs12:"",sm4:"","px-1":""}},[t(p.W,{attrs:{rules:[...e.rules.requerido],clearable:"","prepend-icon":"description",label:"Motivo de Solicitud",type:"text",color:"terciary","background-color":"terciary lighten-5","validate-on-blur":""},model:{value:e.orden[s].motivo,callback:function(t){e.$set(e.orden[s],"motivo",t)},expression:"orden[index].motivo"}})],1),t(c.A,{attrs:{xs12:"",sm3:"","px-1":""}},[t(p.W,{attrs:{clearable:"","background-color":"terciary lighten-5","prepend-icon":"grain",label:"Cantidad",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",rules:[...e.rules.requerido,...e.rules.soloNumero,e.rules.minNumber(1)],color:"terciary"},model:{value:e.orden[s].cantidad,callback:function(t){e.$set(e.orden[s],"cantidad",t)},expression:"orden[index].cantidad"}})],1),0==s?t(o.A,{attrs:{flat:"",icon:"",color:"blue lighten-2"},on:{click:function(t){return e.agregarFila()}}},[t(u.A,[e._v("add_circle")])],1):e._e(),0!=s?t(o.A,{attrs:{flat:"",icon:"",color:"red lighten-2"},on:{click:function(t){return e.borrarFila(s)}}},[t(u.A,[e._v("delete_forever")])],1):e._e()],1),s+1<e.orden.length?t(l.A,{key:`divider-${s}`}):e._e()],1)}))],2)],1)],1),t(m.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t(o.A,{staticClass:"terciary darken-1",attrs:{round:"",dark:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.agregarFila()}}},[t(u.A,{attrs:{left:""}},[e._v("add_circle")]),e._v("Agregar Objeto")],1),t(h.hc),t(o.A,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioBuscar"},color:"red darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[e._v(" Cancelar")]),t(l.A,{staticClass:"mx-2 my-1 white",attrs:{vertical:""}}),t(o.A,{class:{"terciary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",dark:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.cambiarStock}},[e._v(" "+e._s(e.valido?"Cargar O.C.":"Formulario No valido"))])],1)],1)],1)],1)],1)}),g=[],b=a(95353),v=a(81255),x={name:"PatrimonioInsumosIngresos",components:{dateSelect:v.A},data:()=>({valido:!0,areas:[],nro_orden:"",fec_orden:"",area_orden:"",orden:[{id_objeto:"",area_solicita:"",fec_solicitud:"",motivo:"Reposicion de Stock.",orden_compra:"",cantidad:"1",operacion:"suma"}],objetos:[]}),computed:{...(0,b.aH)(["APIURL","axiosConfig","loading","hoy","persona","rules"]),objetosOrdenList:function(){let e=[];return this.orden.forEach((t=>{t.id_objeto&&e.push(t.id_objeto)})),this.objetos.map((t=>({...t,disabled:e.includes(t._id)})))}},async created(){this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})),this.cargarObjetos(),this.area_orden=this.persona.area,this.fec_orden=this.hoy},methods:{...(0,b.PY)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,b.i0)("main",["buscarAreaFiltros"]),async agregarFila(){this.orden.length<this.objetos.length&&this.orden.push({id_objeto:"",area_solicita:"",fec_solicitud:"",motivo:"Reposicion de Stock.",orden_compra:"",cantidad:"1",operacion:"suma"})},async borrarFila(e){this.orden.splice(e,1)},async cargarObjetos(){let e=JSON.stringify({categoria:"Insumos"});try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let a=await this.axios.get(`${this.APIURL}/patrimonio/buscar?filtro=${e}&select=modelo`,this.axiosConfig);if(a.data.ok)this.objetos=a.data.objetos;else try{this.mostrarError({mensaje:a.data.err.message,titulo:a.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}this.$router.push({name:"PatrimonioBuscar"})}finally{this.ocultarLoading()}},async cambiarStock(){if(this.$refs.form.validate()){let t=Object.assign([],this.orden);t.forEach((e=>{e.orden_compra=this.nro_orden,e.fec_solicitud=this.fec_orden,e.area_solicita=this.area_orden}));try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let a=await this.axios.post(this.APIURL+"/patrimonioOrdenCompra",t,this.axiosConfig);if(a.data.ok){let e=["Orden de Compra cargada exitosamente.",`TOTAL Actualizados: ${a.data.data.totales.exitosos}.`];a.data.data.totales.errores&&e.push(`TOTAL ERRORES: ${a.data.data.totales.errores}.`,`ERRORES: ${a.data.data.errores.split(".")}`),this.mostrarMensaje({msj:e,titulo:"Carga Exitosa"}),this.$router.push({name:"PatrimonioBuscar"})}else try{this.mostrarError({mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}else this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},_=x,y=a(81656),A=(0,y.A)(_,f,g,!1,null,null,null),j=A.exports},34539:function(e,t,a){a.r(t),a.d(t,{default:function(){return D}});var r=a(21999),o=a(28383),s=a(3150),i=a(1899),n=a(37471),l=a(48122),c=a(81851),d=a(34172),u=a(41614),m=a(21939),h=a(21527),p=a(69155),f=a(17912),g=a(55731),b=a(57e3),v=function(){var e=this,t=e._self._c;return t(l.A,{attrs:{fluid:"","grid-list-xs":""}},[t(p.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(u.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(i.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Patrimonio ======")])],1)],1),t(u.A,{attrs:{"pa-1":"","ma-1":"",terciary:"",xs12:""}},[t(p.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","darken-2":""}},[t(u.A,{attrs:{"text-xs-left":"","px-3":""}},[t(h.A,{attrs:{medium:"",color:"white",left:""}},[e._v("library_books")]),t("span",{staticClass:"title white--text"},[e._v("Entrega de Stock - "+e._s(e.objeto.inventario?`Inventario: ${e.objeto.inventario}`:`Modelo: ${e.objeto.modelo}`))])],1),t(g.hc),t(d.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(o.A,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioBuscar"},color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[e._v("Buscar Objetos")])],1),t(s.A,{staticClass:"elevation-6"},[t(i.OQ,[t(m.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t("formInsumos",{attrs:{formulario:e.insumo,objeto:e.objeto,areas:e.areas}})],1)],1),t(p.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t(g.hc),t(o.A,{staticClass:"white--text",attrs:{round:"",to:{name:"PatrimonioBuscar"},color:"red darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[e._v(" Cancelar")]),t(d.A,{staticClass:"hidden-xs-only mx-2 my-1 black",attrs:{vertical:""}}),t(o.A,{class:{"terciary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",dark:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.cambiarStock}},[e._v(" "+e._s(e.valido?"Entregar Objeto":"Formulario No valido"))])],1)],1)],1),e.movimientos&&e.movimientos.length>0?t(p.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{"pa-1":"","ma-2":"",terciary:"","lighten-1":"",xs12:""}},[t(n.A,{staticClass:"title text-uppercase elevation-6"},[t(h.A,{attrs:{color:"dark"}},[e._v("library_books")]),e._v(" Historial de Stock "),t(g.hc),t(b.W,{attrs:{"append-icon":"search",label:"Filtrar","single-line":"",color:"terciary lighten-4","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(c.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:e.headers,items:e.movimientos,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(r.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(r.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",[t("td",{staticClass:"text-sm-right font-weight-bold",style:a.item.orden_compra?"":"color: red"},[e._v(" "+e._s(a.item.cantidad)+" ")]),e._l(e.headersDinamics,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)}))],2)]}}],null,!1,1337455172)},[t(f.A,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1):e._e()],1)],1)},x=[],_=(a(44114),a(95353)),y=a(12683),A=a(28597),j=a(45621),k=function(){var e=this,t=e._self._c;return t("div",[t(p.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm3:"","px-3":""}},[t(b.W,{staticClass:"input__text--align",staticStyle:{"--align":"center"},attrs:{readonly:"","background-color":("0"===e.objeto.cantidad||0===e.objeto.cantidad?"error":"terciary")+" lighten-1","prepend-icon":"grain",label:"Cantidad",type:"number",color:"terciary"},model:{value:e.objeto.cantidad,callback:function(t){e.$set(e.objeto,"cantidad",t)},expression:"objeto.cantidad"}})],1)],1),t(p.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(A.A,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",clearable:"",items:e.areas,label:"Area Solicita","prepend-icon":"location_city",color:"terciary","background-color":"terciary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.formulario.area_solicita,callback:function(t){e.$set(e.formulario,"area_solicita",t)},expression:"formulario.area_solicita"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-2":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.formulario.fec_solicitud,color:"terciary",label:"Fecha de Solicitud",icon:"event",requerido:"true",clearable:"true"},model:{value:e.formulario.fec_solicitud,callback:function(t){e.$set(e.formulario,"fec_solicitud",t)},expression:"formulario.fec_solicitud"}})],1),t(u.A,{attrs:{xs0:"",sm3:"","px-3":""}}),"Toner"===e.objeto.subcategoria?t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.W,{attrs:{clearable:"","prepend-icon":"print",label:"Modelo de Impresora",type:"text",color:"terciary","background-color":"terciary lighten-5",rules:[...e.rules.requerido]},model:{value:e.formulario.modelo_impresora,callback:function(t){e.$set(e.formulario,"modelo_impresora",t)},expression:"formulario.modelo_impresora"}})],1):t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.W,{attrs:{clearable:"","prepend-icon":"computer",label:"Nro. Inventario (Opcional)",type:"text",color:"terciary","background-color":"terciary lighten-5",hint:"Nro. Inventario al que se asociara el insumo (Opcional)","persistent-hint":""},model:{value:e.formulario.inventario_consume,callback:function(t){e.$set(e.formulario,"inventario_consume",t)},expression:"formulario.inventario_consume"}})],1),t(u.A,{attrs:{xs0:"",sm3:"","px-3":""}}),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.W,{attrs:{clearable:"","prepend-icon":"person",label:"Apellido y Nombre(Solicitante)",type:"text",color:"terciary","background-color":"terciary lighten-5",rules:[...e.rules.requerido]},model:{value:e.formulario.persona_solicitante,callback:function(t){e.$set(e.formulario,"persona_solicitante",t)},expression:"formulario.persona_solicitante"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.W,{attrs:{clearable:"","prepend-icon":"fas fa-id-card",label:"Legajo(Solicitante)",type:"text",color:"terciary","background-color":"terciary lighten-5",rules:[...e.rules.requerido]},model:{value:e.formulario.persona_legajo,callback:function(t){e.$set(e.formulario,"persona_legajo",t)},expression:"formulario.persona_legajo"}})],1),t(u.A,{attrs:{xs12:"","mx-3":"","my-2":""}},[t(j.A,{attrs:{clearable:"","background-color":"terciary lighten-5",label:"Motivo de la Solicitud",color:"terciary","prepend-icon":"description","auto-grow":"",rows:"2",rules:[...e.rules.requerido]},model:{value:e.formulario.motivo,callback:function(t){e.$set(e.formulario,"motivo",t)},expression:"formulario.motivo"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.W,{attrs:{clearable:"","background-color":"terciary lighten-5","prepend-icon":"grain",label:"Cantidad",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",rules:[...e.rules.requerido,...e.rules.soloNumero,e.rules.minNumber(1),e.rules.maxNumber(e.objeto.cantidad||"No hay mas Stock")],color:"terciary"},model:{value:e.formulario.cantidad,callback:function(t){e.$set(e.formulario,"cantidad",t)},expression:"formulario.cantidad"}})],1)],1)],1)},w=[],C=a(81255),$={name:"formInsumos",components:{dateSelect:C.A},props:["formulario","objeto","areas"],data(){return{}},computed:{...(0,_.aH)(["rules"])},created(){},methods:{}},S=$,E=a(81656),O=(0,E.A)(S,k,w,!1,null,null,null),I=O.exports,P={name:"patrimonioInsumos",components:{formInsumos:I,bodyDataTableDinamic:y.A},data:()=>({valido:!0,areas:[],search:"",paginacion:{sortBy:"fec_solicitud",descending:!0,rowsPerPage:10,page:1},movimientos:[],insumo:{id_objeto:"",area_solicita:"",fec_solicitud:"",modelo_impresora:"",inventario_consume:"",persona_solicitante:"",persona_legajo:"",motivo:"Para consumo.",orden_compra:"",cantidad:1,operacion:"resta"},objeto:{_id:"",inventario:"",modelo:"",cantidad:"",subcategoria:"",compatibilidad:""}}),computed:{...(0,_.aH)(["APIURL","axiosConfig","loading","hoy"]),headers:function(){let e=[{text:"Cantidad",value:"cantidad",class:"text-sm-center",ruta:"cantidad",ignore:!0},{text:"Fecha de Solicitud",value:"fec_solicitud",class:"text-sm-center",ruta:"fec_solicitud",date:!0},{text:"Area",value:"area_solicita.area",class:"text-sm-left text-capitalize",ruta:"area_solicita.area"},{text:"Motivo",value:"motivo",class:"text-sm-left",ruta:"motivo"}];return"Toner"===this.objeto.subcategoria?e.push({text:"Modelo de Impresora",value:"modelo_impresora",class:"text-sm-center",ruta:"modelo_impresora"}):e.push({text:"Nro. de inventario",value:"inventario_consume",class:"text-sm-center",ruta:"inventario_consume"}),e=[...e,{text:"Apellido y Nombre",value:"persona_solicitante",class:"text-sm-left text-capitalize",ruta:"persona_solicitante"},{text:"Nro. Legajo",value:"persona_legajo",class:"text-sm-right",ruta:"persona_legajo"},{text:"Orden de Compra",value:"orden_compra",class:"text-sm-right",ruta:"orden_compra"}],e},headersDinamics:function(){return this.headers.filter((e=>!0!==e.ignore))}},async created(){this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})),this.insumo.id_objeto=this.$route.params.id,this.cargarObjeto(this.insumo.id_objeto),this.cargarMovimientos(this.insumo.id_objeto),this.insumo.fec_solicitud=this.hoy},methods:{...(0,_.PY)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,_.i0)("main",["buscarAreaFiltros"]),async cargarObjeto(e){try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let a=JSON.stringify({_id:e}),r=JSON.stringify({area:!1,usuario_eliminacion:!1,usuario_verifico:!1}),o=await this.axios.get(`${this.APIURL}/patrimonio/buscar?filtro=${a}&populate=${r}`,this.axiosConfig);if(o.data.ok)this.objeto["_id"]=o.data.objetos[0]["_id"],this.objeto["inventario"]=o.data.objetos[0]["inventario"],this.objeto["modelo"]=o.data.objetos[0]["modelo"],this.objeto["cantidad"]=o.data.objetos[0]["cantidad"],this.objeto["subcategoria"]=o.data.objetos[0]["subcategoria"],this.objeto["compatibilidad"]=o.data.objetos[0]["compatibilidad"];else try{this.mostrarError({errores:"",mensaje:o.data.err.message,titulo:o.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(a){try{this.mostrarError({errores:a.response.data.err.errors,mensaje:a.response.data.err.message,titulo:a.response.status})}catch(r){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}this.$router.push({name:"PatrimonioBuscar"})}finally{this.ocultarLoading()}},async cargarMovimientos(e){try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let a=await this.axios.get(this.APIURL+"/patrimonioStock/buscar?obj="+e,this.axiosConfig);if(a.data.ok)this.movimientos=Object.assign([],a.data.movimientos),this.paginacion.page>Math.ceil(this.movimientos.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1);else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}this.$router.push({name:"PatrimonioBuscar"})}finally{this.ocultarLoading()}},async cambiarStock(){if(this.$refs.form.validate()){let t=Object.assign({},this.insumo);try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let a=await this.axios.post(this.APIURL+"/patrimonioStock",t,this.axiosConfig);if(a.data.ok)this.objeto.inventario?this.mostrarMensaje({msj:[`Cantidad: ${t.cantidad} entregado/s exitosamente.`,"<##> Nº Inventario: "+this.objeto.inventario.toString()+"<##>"],titulo:"Entrega Exitosa"}):this.mostrarMensaje({msj:[`Cantidad: ${t.cantidad} entregado/s exitosamente.`],titulo:`${this.objeto.modelo}`}),this.cargarObjeto(this.insumo.id_objeto),this.cargarMovimientos(this.insumo.id_objeto),this.insumo.fec_solicitud=this.hoy,this.insumo.motivo="Para consumo.",this.insumo.cantidad=1,this.insumo.operacion="resta",this.insumo.area_solicita="",this.insumo.modelo_impresora="",this.insumo.inventario_consume="",this.insumo.persona_solicitante="",this.insumo.persona_legajo="",this.insumo.orden_compra="",this.$refs.form.resetValidation();else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},L=P,F=(0,E.A)(L,v,x,!1,null,null,null),D=F.exports},12104:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=a(21999),o=a(28597),s=a(28383),i=a(3150),n=a(1899),l=a(37471),c=a(16717),d=a(48122),u=a(81851),m=a(34172),h=a(41614),p=a(21527),f=a(69155),g=a(17912),b=a(55731),v=a(57e3),x=(a(44114),function(){var e=this,t=e._self._c;return t(d.A,{attrs:{fluid:"","grid-list-xs":""}},[t(f.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(h.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(i.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(n.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== Patrimonio ======")])],1)],1),t(h.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(i.A,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[t(n.OQ,{staticClass:"px-0 text-uppercase"},[e._v("====== ====== Consultas de Insumos ====== ======")])],1),t(i.A,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[t(n.OQ,{staticClass:"px-0"},[t(f.A,{attrs:{row:"",wrap:""}},[t(b.hc),t(h.A,{attrs:{xs12:"",sm5:"",md4:"","px-2":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.desde,color:"cuarto",label:"Fecha Desde",icon:"event"},model:{value:e.filtro.desde,callback:function(t){e.$set(e.filtro,"desde",t)},expression:"filtro.desde"}})],1),t(b.hc),t(m.A,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),t(b.hc),t(h.A,{attrs:{xs12:"",sm5:"",md4:"","px-2":""}},[t("dateSelect",{staticClass:"capitalizar",attrs:{value:e.filtro.hasta,color:"cuarto",label:"Fecha Hasta",icon:"event"},model:{value:e.filtro.hasta,callback:function(t){e.$set(e.filtro,"hasta",t)},expression:"filtro.hasta"}})],1),t(b.hc)],1),t(f.A,{attrs:{row:"",wrap:""}},[t(b.hc),t(h.A,{attrs:{xs12:"",sm6:"",md5:"","px-3":""}},[t(o.A,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",items:e.areas,label:"Area","prepend-icon":"location_city",color:"cuarto","background-color":"cuarto lighten-5",clearable:""},on:{"click:clear":function(t){e.$nextTick((()=>e.filtro.area=""))}},model:{value:e.filtro.area,callback:function(t){e.$set(e.filtro,"area",t)},expression:"filtro.area"}})],1),t(h.A,{attrs:{xs12:"",sm6:"",md5:"","px-3":""}},[t(o.A,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"modelo",items:e.objetos,label:"Objeto Modelo","prepend-icon":"more",color:"cuarto","background-color":"cuarto lighten-5",clearable:""},on:{"click:clear":function(t){e.$nextTick((()=>e.filtro.objeto=""))}},model:{value:e.filtro.objeto,callback:function(t){e.$set(e.filtro,"objeto",t)},expression:"filtro.objeto"}})],1),t(b.hc)],1)],1),t(f.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto lighten-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.cargarmes()}}},[e._v("Cargar Mes Actual")]),t(b.hc),t(b.hc),t(b.hc),t(s.A,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-3",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.buscar(e.filtro)}}},[e._v(" Buscar"),t(p.A,{attrs:{color:"white",right:""}},[e._v("search")])],1),t(b.hc)],1)],1)],1),t(h.A,{attrs:{"pa-1":"","ma-2":"",terciary:"","lighten-1":"",xs12:""}},[t(l.A,{staticClass:"title text-uppercase elevation-6"},[t(p.A,{attrs:{left:"",color:"dark"}},[e._v("library_books")]),e._v(" Historial de Movimientos de Insumos "),t(b.hc),t(v.W,{attrs:{"append-icon":"search",label:"Filtrar","single-line":"",color:"terciary lighten-4","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(f.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t(h.A,{attrs:{"px-3":""}},[t(p.A,{attrs:{medium:"",color:"white",left:""}},[e._v("info")]),t("span",{staticClass:"body-2 white--text"},[e._v("Seleccione los que descargara como excel")])],1),t(b.hc),t(c.A,{attrs:{color:"cuarto",label:"Ingresos "},model:{value:e.movimientosSelected.orden_compra,callback:function(t){e.$set(e.movimientosSelected,"orden_compra",t)},expression:"movimientosSelected.orden_compra"}}),t(c.A,{attrs:{color:"cuarto",label:"Egresos"},model:{value:e.movimientosSelected.persona_solicitante,callback:function(t){e.$set(e.movimientosSelected,"persona_solicitante",t)},expression:"movimientosSelected.persona_solicitante"}}),t(m.A,{staticClass:"hidden-xs-only mx-2 my-1 black",attrs:{vertical:""}}),t(s.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.$router.push({name:"PatrimonioBuscar"})}}},[t(p.A,{attrs:{color:"white",left:""}},[e._v("search")]),e._v("Buscar Objetos")],1)],1),t(u.A,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{headers:e.headers,items:e.movimientosFilter,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search,"select-all":""},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[t(r.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[t(r.A,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{staticClass:"background-color: terciary lighten-5"},[t("td",[t(c.A,{attrs:{color:"terciary darken-2","hide-details":""},model:{value:a.selected,callback:function(t){e.$set(a,"selected",t)},expression:"props.selected"}})],1),t("td",{staticClass:"text-sm-right font-weight-bold",style:a.item.orden_compra?"":"color: red"},[e._v(" "+e._s(a.item.cantidad)+" ")]),e._l(e.headersDinamics,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)}))],2)]}}]),model:{value:e.seleccionados,callback:function(t){e.seleccionados=t},expression:"seleccionados"}},[t(g.A,{attrs:{color:"blue",indeterminate:""}})],1),t(f.A,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[t("download-excel",{attrs:{data:e.movimientosFilter,fields:e.columnasExcel,name:e.nombreExcel,type:"xls","before-finish":e.ocultarLoading}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.descargarExcel(e.movimientosFilter)}}},[t(p.A,{attrs:{color:"white",left:""}},[e._v("far fa-file-excel")]),e._v("Exportar a Excel")],1)],1),t(b.hc),t(m.A,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t("download-excel",{attrs:{data:e.seleccionados,fields:e.columnasExcel,name:e.nombreExcel,worksheet:"Hoja1",type:"xls","before-finish":e.ocultarLoading}},[t(s.A,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.descargarExcel(e.seleccionados)}}},[t(p.A,{attrs:{color:"white",left:""}},[e._v("far fa-file-excel")]),e._v("Descargar Excel de Seleccionados")],1)],1)],1)],1)],1)],1)}),_=[],y=a(95353),A=a(81255),j=a(12683),k={name:"PatrimonioInsumosConsultas",components:{dateSelect:A.A,bodyDataTableDinamic:j.A},data:()=>({areas:[{area:"No buscar por Area",id:""}],objetos:[{modelo:"No buscar por Objeto",id:""}],filtro:{desde:`${(new Date).getFullYear()-1}-${((new Date).getMonth()+1).toString().padStart(2,0)}-01`,hasta:"",area:"",objeto:""},movimientosDB:[],movimientosSelected:{persona_solicitante:!0,orden_compra:!0},search:"",paginacion:{sortBy:"fec_solicitud",descending:!0,rowsPerPage:10,page:1},headers:[{text:"Cantidad",value:"cantidad",ignore:!0},{text:"Motivo",value:"motivo",class:"text-sm-left",ruta:"motivo"},{text:"Fecha de Solicitud",value:"fec_solicitud",class:"text-sm-center",ruta:"fec_solicitud",date:!0},{text:"Area Destino",value:"area_solicita.area",class:"text-sm-left text-capitalize",ruta:"area_solicita.area"},{text:"Objeto Modelo",value:"id_objeto.modelo",class:"text-sm-left text-capitalize",ruta:"id_objeto.modelo"},{text:"Objeto SubCategoria",value:"id_objeto.subcategoria",class:"text-sm-left text-capitalize",ruta:"id_objeto.subcategoria"},{text:"Apellido y Nombre",value:"persona_solicitante",class:"text-sm-left text-capitalize",ruta:"persona_solicitante"},{text:"Nro. Legajo",value:"persona_legajo",class:"text-sm-right",ruta:"persona_legajo"},{text:"Orden de Compra",value:"orden_compra",class:"text-sm-right",ruta:"orden_compra"},{text:"Impresora Consume",value:"modelo_impresora",class:"text-sm-center",ruta:"modelo_impresora"},{text:"# Inv Consume",value:"inventario_consume",class:"text-sm-center",ruta:"inventario_consume"}],seleccionados:[],columnasExcel:{"Fecha de Solicitud":{field:"fec_solicitud",callback:e=>{try{let t=new Date(e).toISOString().substring(0,10);return`${t}`}catch(t){return`${e}`}}},"Area Destino":"area_solicita.area","Objeto Modelo":"id_objeto.modelo","Objeto SubCategoria":"id_objeto.subcategoria",Motivo:"motivo",Cantidad:{callback:e=>e.orden_compra?`+${e.cantidad}`:`-${e.cantidad}`},"Apellido y Nombre":"persona_solicitante","Nro. Legajo":"persona_legajo","Orden de Compra":"orden_compra","Modelo de Impresora":"modelo_impresora","Nro. de inventario":"inventario_consume"}}),computed:{...(0,y.aH)(["APIURL","axiosConfig","loading","hoy","persona"]),nombreExcel(){return`PatrimonioInsumosConsultas-${this.hoy}.xls`},headersDinamics(){return this.headers.filter((e=>!0!==e.ignore))},movimientosFilter(){return this.movimientosDB.filter((e=>!(!this.movimientosSelected.orden_compra||!e.orden_compra)||(!(!this.movimientosSelected.persona_solicitante||!e.persona_solicitante)||void 0)))}},watch:{movimientosFilter(){this.paginacion.page>Math.ceil(this.movimientosFilter.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}},async created(){this.filtro.hasta=this.hoy,this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})),this.cargarObjetos()},methods:{...(0,y.PY)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,y.i0)("main",["buscarAreaFiltros"]),async cargarObjetos(){let e=JSON.stringify({categoria:"Insumos"});try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let a=await this.axios.get(`${this.APIURL}/patrimonio/buscar?filtro=${e}&select=modelo`,this.axiosConfig);if(a.data.ok){let e=Object.assign([],a.data.objetos);this.objetos.push(...e)}else try{this.mostrarError({mensaje:a.data.err.message,titulo:a.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}this.$router.push({name:"PatrimonioBuscar"})}finally{this.ocultarLoading()}},async buscar(e){try{this.mostrarLoading({titulo:"Cargando datos...",color:"primary"});let a=await this.axios.get(`${this.APIURL}/patrimonioStock/buscar?inicio=${e.desde}&fin=${e.hasta}&obj=${e.objeto}&area=${e.area}`,this.axiosConfig);if(a.data.ok)this.movimientosDB=a.data.movimientos;else try{this.mostrarError({mensaje:a.data.err.message,titulo:a.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}},async cargarmes(){let e=new Date,t={objeto:"",area:""};t.desde=new Date(e.getFullYear(),e.getMonth(),1).toISOString().substring(0,10),t.hasta=new Date(e.getFullYear(),e.getMonth()+1,0).toISOString().substring(0,10),this.buscar(t)},descargarExcel(e){0===e.length?this.mostrarError({mensaje:"No hay elementos para exportar.",titulo:"Excel (Capa 8)"}):this.mostrarLoading({titulo:"Creando Excel..."})}}},w=k,C=a(81656),$=(0,C.A)(w,x,_,!1,null,null,null),S=$.exports},21939:function(e,t,a){a.d(t,{A:function(){return o}});var r=a(88e3),o={name:"v-form",mixins:[(0,r.G)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},r={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(o){o&&(t.errorBag.hasOwnProperty(e._uid)||(r.valid=a(e)))})):r.valid=a(e),r},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var t=this.watchInput(e);this.inputs.push(e),this.watchers.push(t)},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}}}]);