"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[328],{5716:(e,a,t)=>{t.d(a,{Z:()=>c});var r=function(){var e=this,a=e._self._c;return e.field.array?a("span",[e.field.object?a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r){return a("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?a("span",[e._v(e._s(e.field.date?e.mostrarFecha(t[e.field.keyShow],e.field.time)||"--------":t[e.field.keyShow]??"--------"))]):a("span",e._l(t,(function(s,i,o){return a("span",{key:`${e.field.text}-${r}-${i}`},[e._v(e._s(i)+": "),a("kbd",[e._v(e._s(isNaN(s)&&"Invalid Date"!==e.mostrarFecha(s,e.field.time)?e.mostrarFecha(s,e.field.time)||"--------":s??"--------"))]),o!=Object.keys(t).length-1?a("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r){return a("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(e.field.date?e.mostrarFecha(t,e.field.time)||"--------":t??"--------"))])})),0)]):e.field.object?a("span",[a("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?a("span",[e._v(e._s(e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time)||"--------":e._get(e.props.item,e.field.ruta)[e.field.keyShow]??"--------"))]):a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r,s){return a("span",{key:`${e.field.text}-${r}`},[e._v(e._s(r)+": "),a("kbd",[e._v(e._s(isNaN(t)&&"Invalid Date"!==e.mostrarFecha(t,e.field.time)?`${e.mostrarFecha(t,e.field.time)}`||"--------":t??"--------"))]),s!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?a("span",[e._v(e._s("\n"))]):e._e()])})),0)])]):a("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e.field.date?e.mostrarFecha(e.props.item[e.field.ruta],e.field.time)||"--------":e.field.boolean?""+(e._get(e.props.item,e.field.ruta)&&"false"!=e._get(e.props.item,e.field.ruta)&&"0"!=e._get(e.props.item,e.field.ruta)?"Si":"No"):e._get(e.props.item,e.field.ruta)?.toLocaleString("es-AR")??"--------"))])},s=[];const i={name:"body-data-table-dinamic",props:["props","field"]},o=i;var l=t(1001),n=(0,l.Z)(o,r,s,!1,null,null,null);const c=n.exports},2033:(e,a,t)=>{t.d(a,{Z:()=>v});var r=t(6194),s=t(8956),i=t(683),o=t(445),l=t(3667),n=t(9456),c=t(4618),d=function(){var e=this,a=e._self._c;return a("div",[a(i.Z,{attrs:{"pa-1":"","ma-1":"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto lighten-2"}},[a(o.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(n.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(c.h,{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:"Seleccionar archivo",color:"white","background-color":"info lighten-4",rules:[...e.rules.requerido]},nativeOn:{click:function(a){return e.onFocus()}},model:{value:e.filename,callback:function(a){e.filename=a},expression:"filename"}})],1),a("input",{ref:"file",attrs:{hidden:"",type:"file",accept:".xlsx, .xls"},on:{change:function(a){return e.onFileChange()}}})],1),a(r.Z,{class:(e.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.subirArchivo}},[e._v(" "+e._s(e.valido?"Subir Archivo":"Falta Archivo")),e.valido?a(l.Z,{attrs:{color:"white",right:""}},[e._v("cloud_upload")]):e._e()],1)],1)],1)],1)],1)},u=[],p=t(629);const m={name:"upload",props:["URLUPLOAD","reload"],data(){return{valido:!0,file:"",filename:null}},computed:{...(0,p.rn)(["loading","rules"])},methods:{...(0,p.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,p.nv)(["requestAPI"]),onFocus(){this.disabled||this.$refs.file.click()},onFileChange(){this.file=this.$refs.file.files[0],this.filename=this.file?.name??null},async subirArchivo(){if(!this.$refs.form.validate())return this.mostrarError({mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1;try{this.mostrarLoading({titulo:"Preparando datos..."});let e=new FormData;if(!this.file)return this.mostrarError({mensaje:"No se selecciono correctamente el archivo.",titulo:"Archivo Requerido."}),!1;e.append("file",this.file);let a=this.file.name.split(".");if(a=a[a.length-1],!["xls","xlsx"].includes(a))return this.mostrarError({mensaje:'Extension de archivo Incorrecta. \nSe aceptan "xls" o "xlsx"',titulo:"Extension Invalida."}),!1;this.mostrarLoading({titulo:"Enviando datos..."});let t=await this.requestAPI({method:"post",url:this.URLUPLOAD,update:e});return!!t?.data?.ok&&(this.mostrarMensaje({msj:["Archivo Subido Exitosamente.",`TOTAL Actualizados: ${t.data.data.totales.exitosos}.`,`TOTAL ERRORES: ${t.data.data.totales.errores}.`,`ERRORES: ${t.data.data.errores.split(".")}`],titulo:"Carga Exitosa"}),this.filename=null,this.file="",this.$refs.form.reset(),this.reload?.(),!0)}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado (subirArchivo)"}),!1}finally{this.ocultarLoading()}}}},f=m;var h=t(1001),g=(0,h.Z)(f,d,u,!1,null,null,null);const v=g.exports},3024:(e,a,t)=>{t.r(a),t.d(a,{default:()=>I});var r=t(6194),s=t(8956),i=t(2353),o=t(5050),l=t(108),n=t(683),c=t(445),d=t(3667),u=t(9456),p=t(8143),m=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{"grid-list-xs":""}},[a(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"px-3":""}},[a(d.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("settings")]),a("span",{staticClass:"title white--text"},[e._v("Firmas PDF Lab. Bromatologico")])],1),a(p.Cl),a(p.Cl)],1),a(i.ZB,[a(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a("formOpcFirmas",{attrs:{firmas:e.firmas}})],1)],1),a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1)},f=[],h=t(629),g=t(4618),v=t(5730),x=function(){var e=this,a=e._self._c;return a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Izquierda ======")])],1)],1),a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.nombre,callback:function(a){e.$set(e.firmas.izq,"nombre",a)},expression:"firmas.izq.nombre"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.titulo,callback:function(a){e.$set(e.firmas.izq,"titulo",a)},expression:"firmas.izq.titulo"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.provincial,callback:function(a){e.$set(e.firmas.izq.matriculas,"provincial",a)},expression:"firmas.izq.matriculas.provincial"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.nacional,callback:function(a){e.$set(e.firmas.izq.matriculas,"nacional",a)},expression:"firmas.izq.matriculas.nacional"}})],1),a(v.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.izq.otros,callback:function(a){e.$set(e.firmas.izq,"otros",a)},expression:"firmas.izq.otros"}})],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Derecha ======")])],1)],1),a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.nombre,callback:function(a){e.$set(e.firmas.der,"nombre",a)},expression:"firmas.der.nombre"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.titulo,callback:function(a){e.$set(e.firmas.der,"titulo",a)},expression:"firmas.der.titulo"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.provincial,callback:function(a){e.$set(e.firmas.der.matriculas,"provincial",a)},expression:"firmas.der.matriculas.provincial"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.nacional,callback:function(a){e.$set(e.firmas.der.matriculas,"nacional",a)},expression:"firmas.der.matriculas.nacional"}})],1),a(v.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.der.otros,callback:function(a){e.$set(e.firmas.der,"otros",a)},expression:"firmas.der.otros"}})],1)],1)},b=[];const _={name:"formOpcFirmas",props:["firmas"],data(){return{requerido:[e=>e?""===e.trim()?"Este campo es requerido.":!(e.length<3)||"Minimo 3 caracteres.":"Este campo es requerido."]}},methods:{}},y=_;var Z=t(1001),k=(0,Z.Z)(y,x,b,!1,null,null,null);const w=k.exports,C={name:"opcionesBromatologia",components:{formOpcFirmas:w},data(){return{valido:!0,firmas:{izq:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""},der:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""}}}},computed:{...(0,h.rn)(["loading"])},async created(){this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))},methods:{...(0,h.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,h.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Guardando firmas...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/bromatologiaFirmas",update:{opcion:"bromatologiaFirmas",datos:this.firmas}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})}}},P=C;var E=(0,Z.Z)(P,m,f,!1,null,null,null);const I=E.exports},3969:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Z});var r=t(6194),s=t(8956),i=t(2353),o=t(5050),l=t(108),n=t(683),c=t(445),d=t(3667),u=t(9456),p=t(8143),m=t(4618),f=t(1415),h=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Farmacia ======")])],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"px-3":""}},[a(d.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("local_shipping")]),a("span",{staticClass:"title white--text"},[e._v("Insumos / Proveedores")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarDato()}}},e.on),[e._v(" Agregar Proveedor "),a(d.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1)],1),a(i.ZB,[a(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},e._l(e.data,(function(t,r){return a(n.Z,{key:`dato-${r}`,attrs:{xs12:"",sm6:"","px-3":""}},[a(m.h,{attrs:{"prepend-icon":"local_shipping",label:"Proveedor",type:"text",rules:[...e.rules.requerido],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.data[r],callback:function(a){e.$set(e.data,r,a)},expression:"data[index]"}},[0!=r?a("template",{slot:"append-outer"},[a(f.Z,{staticStyle:{"border-radius":"25px"},attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(d.Z,e._g({attrs:{color:"error",onpointerenter:"this.setAttribute('style', 'border-radius: 10px; background: #B0BEC5')",onpointerleave:"this.setAttribute('style', 'background: none')"},on:{click:function(a){return e.deleteDato(r)}}},t),[e._v(" delete ")])]}}],null,!0)},[a("span",{staticClass:"px-0"},[e._v("Eliminar "+e._s(t))])])],1):e._e()],2)],1)})),1)],1)],1),a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarDato()}}},e.on),[e._v(" Agregar Proveedor "),a(d.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",error:"","darken-2":"",xs12:""}},[a(s.Z,{attrs:{color:"yellow darken-1"}},[a(i.ZB,{staticClass:"px-0 font-weight-medium text-uppercase"},[a(d.Z,{attrs:{color:"error darken-3"}},[e._v(" warning ")]),e._v(" Si modifica un Proveedor el mismo no surtira efecto en los Insumos ya ingresados con dicho Proveedor, se recomienda no BORRAR/EDITAR Proveedores usados porque dejaran de ser visibles dichos ingresos del mismo. ")],1)],1)],1)],1)],1)},g=[],v=(t(7658),t(629));const x={name:"farmaciaProveedores",data(){return{valido:!0,data:[]}},computed:{...(0,v.rn)(["loading","rules"])},async created(){this.data=await this.returnConfig("farmaciaProveedores")||[]},methods:{...(0,v.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,v.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Editando especialidades...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/farmaciaProveedores",update:{opcion:"farmaciaProveedores",datos:this.data}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.data=await this.returnConfig("farmaciaProveedores")||[]}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})},deleteDato(e){this.data.splice(e,1)},agregarDato(){this.data.push("")}}},b=x;var _=t(1001),y=(0,_.Z)(b,h,g,!1,null,null,null);const Z=y.exports},1903:(e,a,t)=>{t.r(a),t.d(a,{default:()=>$});var r=t(8469),s=t(6194),i=t(8956),o=t(2353),l=t(9418),n=t(7441),c=t(5050),d=t(7352),u=t(5049),p=t(108),m=t(683),f=t(445),h=t(3667),g=t(9456),v=t(6446),x=t(8143),b=t(4618),_=t(5730),y=t(1415),Z=function(){var e=this,a=e._self._c;return a(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(i.Z,{staticClass:"elevation-6"},[a(l.Z,{staticClass:"align-center justify-center primary"},[a(h.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("fas fa-map-marked-alt")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Lugares")]),a(p.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),a(x.Cl)],1),a("div",[a(l.Z,[a(m.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[a(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(x.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),a(s.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarLugares}},[e._v("Recargar Lugares")]),a(u.Z,{attrs:{"max-width":"720px",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(s.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},t),[e._v("Crear Nuevo Lugar")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(i.Z,[a(l.Z,[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a(o.ZB,[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-building",label:"Nombre",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.nombre,callback:function(a){e.$set(e.editedItem,"nombre",a)},expression:"editedItem.nombre"}})],1),a(m.Z,{attrs:{xs12:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.direccion,callback:function(a){e.$set(e.editedItem,"direccion",a)},expression:"editedItem.direccion"}})],1),-1!==e.editedIndex?a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(n.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(h.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}],null,!1,2599061216),model:{value:e.editedItem.estado,callback:function(a){e.$set(e.editedItem,"estado",a)},expression:"editedItem.estado"}})],1):e._e(),a(m.Z,{attrs:{xs12:"","px-2":""}},[a(_.Z,{attrs:{"prepend-icon":"description",label:"Descripcion",color:"primary",clearable:"","background-color":"primary lighten-5","auto-grow":"",rows:"2"},model:{value:e.editedItem.descripcion,callback:function(a){e.$set(e.editedItem,"descripcion",a)},expression:"editedItem.descripcion"}})],1)],1)],1),a(g.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[a(s.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(a){e.dialog=!1}}},[e._v(" Cancelar")]),a(s.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(a){return e.guardarLugar()}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),a(d.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.lugaresDB,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:e.backgroundClass(t.item)},[a("td",{staticClass:"text-sm-left"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar - "+e._s(t.item.nombre))])]),a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({attrs:{disabled:!t.item.estado||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteLugar({lugar:t.item})}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Borrar - "+e._s(t.item.nombre))])])],1)]),e._l(e.headersDinamics,(function(e){return a("td",{key:e.text,class:e.class},[a("bodyDataTableDinamic",{attrs:{props:t,field:e}})],1)}))],2)]}}])},[a(v.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)],1)},k=[],w=t(629),C=t(5716);const P={name:"opcionesLugares",components:{bodyDataTableDinamic:C.Z},data:()=>({lugaresDB:[],search:"",paginacion:{sortBy:"nombre",descending:!1,rowsPerPage:10,page:1},dialog:!1,valido:!0,lugarDefault:{nombre:"",direccion:"",descripcion:"",estado:!0},editedIndex:-1,editedItem:{nombre:"",direccion:"",descripcion:"",estado:!0},headers:[{text:"Acciones",value:"nombre",align:"center",sortable:!1,width:"5%",ruta:"nombre",ignore:!0},{text:"Nombre",value:"nombre",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"nombre"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"*",ruta:"direccion"},{text:"Descripcion",value:"descripcion",align:"left",class:"text-xs-left",width:"*",ruta:"descripcion"}]}),computed:{...(0,w.rn)(["loading","rules"]),formTitle(){return-1===this.editedIndex?"Nuevo Lugar":"Editar Lugar"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.lugarDefault)),this.editedIndex=-1,this.recargarLugares()}),300),this.$refs.form.resetValidation()}},async created(){this.recargarLugares()},methods:{...(0,w.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,w.nv)(["requestAPI"]),...(0,w.nv)("main",["buscarLugarFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: green lighten-5":"background-color: red lighten-4"}catch(a){return""}},editItem(e){this.editedIndex=this.lugaresDB.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.lugarDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},async recargarLugares(){this.lugaresDB=await this.buscarLugarFiltros(),this.paginacion.page>Math.ceil(this.lugaresDB.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)},async guardarLugar(){try{if(this.$refs.form.validate()){this.mostrarLoading({titulo:"Efectuando cambios..."});let e=this._cloneDeep(this.editedItem);if(!e._id){let a=this.isVacio(e,!0);if(!0===a.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;e=a.dato}let a=null;if(a=await this.requestAPI({method:"post",url:`/lugar/${e.nombre}`,update:e}),a?.data?.ok){let a="";return a=e._id?"Editado":"Guardado",this.mostrarMensaje({msj:[`Lugar ${a} exitosamente.`],titulo:"Completado"}),this.dialog=!1,!0}return!1}return this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}},async deleteLugar(e){try{if(await this.$root.$confirm.open({titulo:"ELIMINAR",msj:["Dejara de ser visible para los que no pueden crear/modificar Lugares.",`El Lugar: ${e.lugar.nombre}, sera ELIMINADO.\n¿Desea continuar?`]})){this.mostrarLoading({titulo:"Borrando Lugar..."});let a=null;return a=await this.requestAPI({method:"delete",url:`/lugar/${e.lugar.nombre}`}),!!a?.data?.ok&&(this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),this.recargarLugares(),!0)}}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}}}},E=P;var I=t(1001),A=(0,I.Z)(E,Z,k,!1,null,null,null);const $=A.exports},5372:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var r=t(8469),s=t(7416),i=t(6194),o=t(8956),l=t(2353),n=t(9418),c=t(7441),d=t(5050),u=t(7352),p=t(5049),m=t(108),f=t(683),h=t(445),g=t(3667),v=t(9456),x=t(6446),b=t(8143),_=t(4618),y=t(1415),Z=function(){var e=this,a=e._self._c;return a(d.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(v.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(o.Z,{staticClass:"elevation-6"},[a(n.Z,{staticClass:"align-center justify-center primary"},[a(g.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("location_city")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Areas")]),a(m.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),a(b.Cl)],1),a("div",[a(n.Z,[a(f.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[a(_.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(b.Cl),a(m.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),a(i.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarAreas}},[e._v("Actualizar Areas")]),a(p.Z,{attrs:{"max-width":"720px",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},t),[e._v("Crear Nueva Area")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(h.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(o.Z,[a(n.Z,[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a(l.ZB,[a(d.Z,{attrs:{"grid-list-md":""}},[a(v.Z,{attrs:{wrap:""}},[a(f.Z,{attrs:{xs12:"","px-2":""}},[a(_.h,{attrs:{"prepend-icon":"fas fa-city",label:"Subsecretaria (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.subsecretaria,callback:function(a){e.$set(e.editedItem,"subsecretaria",a)},expression:"editedItem.subsecretaria"}})],1),a(f.Z,{attrs:{xs12:"","px-2":""}},[a(s.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",clearable:"",items:e.areaFiltro,label:"Depende de Area (Opcional)","prepend-icon":"location_city",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.depende,callback:function(a){e.$set(e.editedItem,"depende",a)},expression:"editedItem.depende"}})],1),a(f.Z,{attrs:{xs12:"","px-2":""}},[a(_.h,{attrs:{"prepend-icon":"fas fa-building",label:"Area",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.area,callback:function(a){e.$set(e.editedItem,"area",a)},expression:"editedItem.area"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(_.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.direccion,callback:function(a){e.$set(e.editedItem,"direccion",a)},expression:"editedItem.direccion"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(_.h,{attrs:{"prepend-icon":"fas fa-user-tie",label:"Responsable (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.responsable,callback:function(a){e.$set(e.editedItem,"responsable",a)},expression:"editedItem.responsable"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(_.h,{attrs:{"prepend-icon":"fas fa-tag",label:"Número de Oficina (Opcional)",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.oficina_nro,callback:function(a){e.$set(e.editedItem,"oficina_nro",a)},expression:"editedItem.oficina_nro"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(c.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.estado,callback:function(a){e.$set(e.editedItem,"estado",a)},expression:"editedItem.estado"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(c.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},on:{change:function(a){e.editedItem.zona_us=""}},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v("fa-house-medical-flag")]),e._v(" Unidad de Atencion Sanitaria: "+e._s(e.editedItem.unidad_atencion?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.unidad_atencion,callback:function(a){e.$set(e.editedItem,"unidad_atencion",a)},expression:"editedItem.unidad_atencion"}})],1),e.editedItem.unidad_atencion?a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(s.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"description",clearable:"",items:e.optionsJson.opcZonas,label:"Zona","prepend-icon":"fas fa-globe",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.zona_us,callback:function(a){e.$set(e.editedItem,"zona_us",a)},expression:"editedItem.zona_us"}})],1):a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}}),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(c.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v("medication")]),e._v(" Farmacia: "+e._s(e.editedItem.farmacia?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.farmacia,callback:function(a){e.$set(e.editedItem,"farmacia",a)},expression:"editedItem.farmacia"}})],1)],1)],1)],1),a(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[a(i.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),a(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(a){return e.guardarArea({area:e.editedItem,validate:e.$refs.form.validate,finish:e.close})}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),a(u.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.areas,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:e.backgroundClass(t.item)},[a("td",{staticClass:"text-sm-left"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(g.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar - "+e._s(t.item.area))])]),a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(g.Z,e._g({attrs:{disabled:!t.item.estado||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteArea({item:t.item,finish:e.recargarAreas,confirm:e.$root.$confirm})}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Borrar - "+e._s(t.item.area))])])],1)]),e._l(e.headersDinamics,(function(e){return a("td",{key:e.text,class:e.class},[a("bodyDataTableDinamic",{attrs:{props:t,field:e}})],1)}))],2)]}}])},[a(x.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1),a(v.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Importar Excel ======")])],1)],1),a(f.Z,{attrs:{cuarto:"","darken-2":"","pa-1":"","ma-1":"",xs12:""}},[a("upload",{attrs:{URLUPLOAD:"/area/upload",reload:e.recargarAreas}})],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"error darken-4"}},[a(l.ZB,{staticClass:"px-0 text-uppercase title"},[a(g.Z,{attrs:{color:"red darken-1","x-large":""}},[e._v("info")]),e._v(" A tener en cuenta al importar "),a(g.Z,{attrs:{color:"red darken-1",large:""}},[e._v("info")])],1),a(l.ZB,{staticClass:"px-0 body-2"},[a("dl",[a("dt",[e._v(' Case Sensitive: Nombres de Columnas (area, subsecretaria, responsable, direccion, zona_us, oficina_nro, unidad_atencion), unidad_atencion valores "true" o celda vacia. ')]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Si se desea cambiar el nombre de un area ==>> (area, cambia_nombre), donde cambia nombre es el nombre nuevo. ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v('Excel en formato "xls" o "xlsx".')])])])],1)],1)],1)],1)},k=[],w=t(629),C=t(5716),P=t(2033);const E={name:"opcionesAreas",components:{bodyDataTableDinamic:C.Z,upload:P.Z},data:()=>({dialog:!1,valido:!0,areaFiltro:[{area:"Independiente",id:null}],optionsJson:{opcZonas:[]},areas:[],search:"",paginacion:{sortBy:"area",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"area",align:"center",sortable:!1,width:"5%",ruta:"area",ignore:!0},{text:"Subsecretaria",value:"subsecretaria",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"subsecretaria"},{text:"Area",value:"area",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"area"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"direccion"},{text:"# Oficina",value:"oficina_nro",align:"left",class:"text-xs-right",width:"5%",ruta:"oficina_nro"},{text:"Responsable",value:"responsable",align:"left",class:"text-capitalize text-xs-left",width:"15%",ruta:"responsable"},{text:"Zona",value:"zona_us",align:"center",class:"text-capitalize text-xs-center",width:"10%",ruta:"zona_us"},{text:"UAS",value:"unidad_atencion",align:"center",class:"text-capitalize text-xs-center",width:"5%",ruta:"unidad_atencion",boolean:!0},{text:"Farmacia",value:"farmacia",align:"left",class:"text-capitalize text-xs-center",width:"5%",ruta:"farmacia",boolean:!0}],editedIndex:-1,editedItem:{subsecretaria:"",depende:null,area:"",direccion:"",responsable:"",oficina_nro:"",unidad_atencion:"",zona_us:"",farmacia:"",estado:!0}}),computed:{...(0,w.rn)(["loading","rules"]),...(0,w.rn)("main_areas",["areaDefault"]),formTitle(){return-1===this.editedIndex?"Nueva Area":"Editar Area"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.areaDefault)),this.editedIndex=-1,this.recargarAreas(),this.$refs.form.resetValidation()}),300)}},async created(){this.optionsJson.opcZonas=await this.returnOptionsJSON({key:"106",opcion:"opcZonas"}),this.recargarAreas()},methods:{...(0,w.nv)(["returnOptionsJSON"]),...(0,w.nv)("main_areas",["guardarArea","deleteArea","buscarAreaFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: primary lighten-5":"background-color: error lighten-4"}catch(a){return""}},editItem(e){this.editedIndex=this.areas.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.areaDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},close(){this.dialog=!1},async recargarAreas(){this.areas=await this.buscarAreaFiltros(),this.areaFiltro=[{area:"Independiente",id:null},...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})],this.paginacion.page>Math.ceil(this.areas.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}}},I=E;var A=t(1001),$=(0,A.Z)(I,Z,k,!1,null,null,null);const S=$.exports},4874:(e,a,t)=>{t.d(a,{Z:()=>v});var r=t(7416),s=t(7441),i=t(683),o=t(9456),l=t(4036),n=t(4618),c=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs8:"","px-3":""}},[a(n.h,{attrs:{readonly:e.editando,clearable:!e.editando,"background-color":e.editando?"primary lighten-2":"primary lighten-5","prepend-icon":"person",label:"Usuario",type:"text",color:"primary",rules:e.editando?[]:[...e.rules.requerido,...e.rules.textoNumero,e.rules.minLength(3)],"validate-on-blur":"",autocomplete:"username"},model:{value:e.usuario.usuario,callback:function(a){e.$set(e.usuario,"usuario",a)},expression:"usuario.usuario"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Nombre",type:"text",color:"primary",rules:[...e.rules.requerido,e.rules.minLength(2)],"validate-on-blur":""},model:{value:e.usuario.nombre,callback:function(a){e.$set(e.usuario,"nombre",a)},expression:"usuario.nombre"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Apellido",type:"text",color:"primary",rules:[...e.rules.requerido,e.rules.minLength(2)],"validate-on-blur":""},model:{value:e.usuario.apellido,callback:function(a){e.$set(e.usuario,"apellido",a)},expression:"usuario.apellido"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"phone",label:"Telefono",type:"text",color:"primary",rules:[...e.rules.soloNumero],"validate-on-blur":""},model:{value:e.usuario.telefono,callback:function(a){e.$set(e.usuario,"telefono",a)},expression:"usuario.telefono"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"mail",label:"Email",type:"email",color:"primary",rules:[...e.rules.mail],"validate-on-blur":""},model:{value:e.usuario.email,callback:function(a){e.$set(e.usuario,"email",a)},expression:"usuario.email"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(r.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"location_city",label:"Area",items:e.areas,"item-value":"id","item-text":"area",color:"primary",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.usuario.area,callback:function(a){e.$set(e.usuario,"area",a)},expression:"usuario.area"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"work",label:"Actividad en el Area",type:"text",color:"primary","validate-on-blur":""},model:{value:e.usuario.actividad,callback:function(a){e.$set(e.usuario,"actividad",a)},expression:"usuario.actividad"}})],1),e.editando?a(i.Z,{attrs:{xs12:""}},[a(o.Z,{attrs:{row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""},on:{click:e.checkPassword}},[a(s.Z,{attrs:{label:"Cambiar Contraseña: "+(e.checkPass?"SI":"NO")},on:{change:function(a){e.checkPassword(),e.usuario.password=null,e.usuario.password2=null}},model:{value:e.checkPass,callback:function(a){e.checkPass=a},expression:"checkPass"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}})],1)],1):e._e(),!0===e.checkPass?a(i.Z,{attrs:{xs12:""}},[a(o.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4)],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password,callback:function(a){e.$set(e.usuario,"password",a)},expression:"usuario.password"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(n.h,{attrs:{"prepend-icon":"lock",label:"Repetir Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4),a=>a===e.usuario.password||"Las Constraseñas no coinciden."],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password2,callback:function(a){e.$set(e.usuario,"password2",a)},expression:"usuario.password2"}})],1)],1)],1):e._e(),"ADMIN_ROLE"===e.persona.role?a(i.Z,{attrs:{xs12:""}},[a(o.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.r,{attrs:{"item-value":"valor","item-text":"label",items:e.opcionesRoles,label:"Rol","prepend-icon":"supervisor_account",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.requerido]},model:{value:e.usuario.role,callback:function(a){e.$set(e.usuario,"role",a)},expression:"usuario.role"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.r,{attrs:{"item-value":"valor","item-text":"label",items:e.opcionesEstados,label:"Estado","prepend-icon":"true"==e.usuario.estado?"check_circle":"cancel",color:"true"==e.usuario.estado?"green lighten-1":"error lighten-1","background-color":"true"==e.usuario.estado?"green lighten-1":"error lighten-1",rules:[...e.rules.requerido]},model:{value:e.usuario.estado,callback:function(a){e.$set(e.usuario,"estado",a)},expression:"usuario.estado"}})],1)],1)],1):e._e(),"ADMIN_ROLE"===e.persona.role?a(i.Z,{attrs:{grey:"","lighten-4":"",xs12:""}},[a("treeProperties",{attrs:{data:e.usuario,treeRead:e.permisos,opcionesSelect:e.opcionesPermiso,editando:e.editando,areas:e.areas}})],1):e._e()],1)},d=[],u=(t(7658),t(629)),p=t(8718);const m={name:"formUsuario",props:["usuario","editar"],components:{treeProperties:p.Z},data(){return{checkPass:!0,areas:[]}},computed:{...(0,u.rn)(["persona","rules"]),...(0,u.rn)("main_usuario",["permisos","opcionesPermiso","opcionesRoles","opcionesEstados"]),editando(){return"true"===this.editar}},async created(){this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area farmacia unidad_atencion",free:"ADMIN_ROLE"!==this.persona?.role}))},methods:{...(0,u.nv)("main_areas",["buscarAreaFiltros"]),checkPassword(){this.$emit("checkPassword",this.checkPass)}}},f=m;var h=t(1001),g=(0,h.Z)(f,c,d,!1,null,null,null);const v=g.exports},8541:(e,a,t)=>{t.r(a),t.d(a,{default:()=>P});var r=t(8469),s=t(7416),i=t(6194),o=t(8956),l=t(2353),n=t(9418),c=t(5050),d=t(7352),u=t(108),p=t(683),m=t(3667),f=t(9456),h=t(6446),g=t(8143),v=t(4618),x=function(){var e=this,a=e._self._c;return a(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(f.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(p.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0"},[e._v("====== GESTION DE USUARIOS ======")])],1)],1),a(p.Z,{attrs:{"pa-1":"","ma-1":"",primary:"","lighten-1":"",xs12:""}},[a(o.Z,{staticClass:"elevation-6"},[a(n.Z,{staticClass:"primary"},[a(m.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("people")]),a("span",{staticClass:"title white--text"},[e._v("Usuarios")]),a(u.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),a(g.Cl),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"primary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(a){return e.cargarUsuarios()}}},[a(m.Z,{attrs:{color:"white",left:""}},[e._v("refresh")]),e._v("Actualizar Lista")],1),a(i.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioCrear"},color:"primary darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[a(m.Z,{attrs:{color:"white",left:""}},[e._v("person_add")]),e._v("Crear Usuario")],1)],1),a(n.Z,{staticClass:"title primary lighten-2"},[a(p.Z,{attrs:{xs12:"","mx-2":""}},[a(s.Z,{staticClass:"capitalizar",attrs:{clearable:"",color:"black","background-color":"primary lighten-5",items:e.filtroHeaderOptions,label:"Mostrar Columnas","prepend-icon":"pie_chart","menu-props":{top:!0,auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:e.filtroHeaderSelected,callback:function(a){e.filtroHeaderSelected=a},expression:"filtroHeaderSelected"}})],1),a(g.Cl),a(p.Z,{attrs:{xs12:"",sm6:"","mx-2":""}},[a(v.h,{attrs:{"append-icon":"search",label:"Filtrar","background-color":"primary lighten-5",color:"black","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1)],1),a(d.Z,{key:`tablita_${e.reRenderizarTable}`,staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.listUsuarios,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:{"background-color: primary lighten-5":t.item.estado,"background-color: error lighten-4":!t.item.estado}},[a("td",[a("div",{staticStyle:{width:"88px"}},[a(i.Z,{attrs:{icon:"",small:"",disabled:e.loading.estado,to:{name:"UsuarioEditar",params:{id:t.item._id}}}},[a(m.Z,{attrs:{color:"primary"}},[e._v(" edit ")])],1),a(i.Z,{attrs:{icon:"",small:"",disabled:e.loading.estado||!t.item.estado},on:{click:function(a){return e.deleteUsuario(t.item)}}},[a(m.Z,{attrs:{color:"error"}},[e._v(" delete ")])],1)],1)]),e._l(e.headersDinamics,(function(e){return a("td",{key:e.text,class:e.class},[a("bodyDataTableDinamic",{attrs:{props:t,field:e}})],1)}))],2)]}}])},[a(h.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)},b=[],_=(t(7658),t(629)),y=t(5716);const Z={name:"usuarioBuscar",components:{bodyDataTableDinamic:y.Z},data:()=>({paginacion:{sortBy:"usuario",descending:!1,rowsPerPage:10,page:1},search:"",listUsuarios:[],reRenderizarTable:!0,filtroHeaderOptions:["Datos Personales","Trabajo","Permisos Laboratorio","Permisos Patrimonio","Permisos HiClEM","Permisos Farmacia","Deprecated"],filtroHeaderSelected:["Trabajo"]}),computed:{...(0,_.rn)(["loading"]),headers(){if(0!=this.listUsuarios.length){let e=[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%",ignore:!0},{text:"Usuario",value:"usuario",class:"font-weight-bold text-sm-left",width:"5%",ruta:"usuario"},{text:"Nombre Completo",value:"nombreC",class:"font-weight-bold text-capitalize text-sm-left",width:"5%",ruta:"nombreC"}];return this.filtroHeaderSelected.includes("Datos Personales")&&e.push({text:"E-mail",value:"email",class:"font-weight-bold text-sm-left",width:"5%",ruta:"email"},{text:"Telefono",value:"telefono",class:"font-weight-bold text-sm-right",width:"5%",ruta:"telefono"}),this.filtroHeaderSelected.includes("Trabajo")&&e.push({text:"Role",value:"role",class:"font-weight-bold text-sm-left",width:"5%",ruta:"role"},{text:"Area",value:"area.area",class:"font-weight-bold text-capitalize text-sm-left",ruta:"area.area"},{text:"Actividad",value:"actividad",class:"font-weight-bold text-sm-left",ruta:"actividad"},{text:"Ultima Sesion",value:"lastLogin",class:"font-weight-bold text-sm-left",width:"5%",ruta:"lastLogin",date:!0,time:!0}),this.filtroHeaderSelected.includes("Permisos Laboratorio")&&e.push({text:"Bromatologia",value:"bromatologia",class:"font-weight-bold text-sm-center",width:"5%",ruta:"bromatologia"}),this.filtroHeaderSelected.includes("Permisos Patrimonio")&&e.push({text:"Informatica",value:"informatica",class:"font-weight-bold text-sm-center",width:"5%",ruta:"informatica"},{text:"Patrimonio",value:"patrimonio",class:"font-weight-bold text-sm-center",width:"5%",ruta:"patrimonio"},{text:"Patrimonio Area (cambiar)",value:"patrimonioArea",class:"font-weight-bold text-sm-center",width:"5%",ruta:"patrimonioArea"}),this.filtroHeaderSelected.includes("Permisos HiClEM")&&e.push({text:"Turnero",value:"turnero",class:"font-weight-bold text-sm-center",width:"5%",ruta:"turnero"},{text:"Tuberculosis",value:"tuberculosis",class:"font-weight-bold text-sm-center",width:"5%",ruta:"tuberculosis"},{text:"HICLEM",value:"historial_clinico",class:"font-weight-bold text-sm-center",width:"5%",ruta:"historial_clinico"}),this.filtroHeaderSelected.includes("Permisos Farmacia")&&e.push({text:"Crear Insumos",value:"farmacia.insumos",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.insumos",boolean:!0},{text:"Ingreso con Proveedores",value:"farmacia.proveedores",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.proveedores",boolean:!0},{text:"Entrega Medicamentos",value:"farmacia.entregas",class:"font-weight-bold text-sm-left",ruta:"farmacia.entregas",array:!0,object:!0,keyShow:"area"},{text:"Farmacia Stock",value:"farmacia.stock",class:"font-weight-bold text-sm-left",ruta:"farmacia.stock",array:!0,object:!0,keyShow:"area"},{text:"Farmacia Gestion",value:"farmacia.gestion",class:"font-weight-bold text-sm-left",ruta:"farmacia.gestion",array:!0,object:!0,keyShow:"area"},{text:"Farm Gral Stock",value:"farmacia.general.stock",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.stock",boolean:!0},{text:"Farm Gral Reportes",value:"farmacia.general.reportes",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.reportes",boolean:!0},{text:"Farm Gral Admin",value:"farmacia.general.admin",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.admin",boolean:!0}),this.filtroHeaderSelected.includes("Deprecated")&&e.push({text:"Sala (Deprecated)",value:"sala",class:"font-weight-bold text-sm-left",width:"5%",ruta:"sala"},{text:"COVID-19 (Deprecated)",value:"covid",class:"font-weight-bold text-sm-center",width:"5%",ruta:"covid"},{text:"SAME (Deprecated)",value:"same",class:"font-weight-bold text-sm-center",width:"5%",ruta:"same"},{text:"Salud Mental (Deprecated)",value:"salud_mental",class:"font-weight-bold text-sm-center",width:"5%",ruta:"salud_mental"}),e}return[]},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},created(){this.cargarUsuarios()},methods:{...(0,_.nv)("main_usuario",["buscarUsuarios","borrarUsuarioID"]),async cargarUsuarios(){this.listUsuarios=await this.buscarUsuarios(),this.paginacion.page>Math.ceil(this.listUsuarios.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)},async deleteUsuario(e){let a=this.listUsuarios.indexOf(e);if(await this.$root.$confirm.open({titulo:"DESACTIVAR",msj:["Una vez Desactivado no podra volver a iniciar sesion.\nPara re-Activarlo debera modificar su 'Estado' desde la edicion del mismo.",`Usuari@: ${this.listUsuarios[a].usuario}, sera DESACTIVADO.\n¿Desea continuar?`]})){let t=await this.borrarUsuarioID(e._id);t&&(this.listUsuarios[a].estado=!1)}}}},k=Z;var w=t(1001),C=(0,w.Z)(k,x,b,!1,null,null,null);const P=C.exports},806:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Z});var r=t(6194),s=t(8956),i=t(2353),o=t(9418),l=t(5050),n=t(108),c=t(683),d=t(445),u=t(3667),p=t(9456),m=t(8143),f=function(){var e=this,a=e._self._c;return a(l.Z,{attrs:{"grid-list-xs":""}},[a(p.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(c.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0"},[e._v("====== GESTION DE USUARIOS ======")])],1)],1),a(c.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(o.Z,{staticClass:"primary"},[a(u.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("person_add")]),a("span",{staticClass:"title white--text"},[e._v("Crear Usuario")]),a(n.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),a(m.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioBuscar"},color:"primary darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[a(u.Z,{attrs:{color:"white",left:""}},[e._v("search")]),e._v("Buscar Usuario")],1)],1),a(i.ZB,[a(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(p.Z,{attrs:{row:"",wrap:""},on:{keypress:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.crearUsuario.apply(null,arguments)}}},[a("formUsuario",{attrs:{usuario:e.usuario}})],1)],1)],1),a(o.Z,{staticClass:"primary lighten-2"},[a(m.Cl),a(n.Z,{staticClass:"mx-3 black",attrs:{vertical:""}}),a(r.Z,{class:(e.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.crearUsuario}},[a(u.Z,{attrs:{left:"",color:"white"}},[e._v("person_add")]),e._v(e._s(e.valido?"Registrar":"Formulario No valido"))],1)],1)],1)],1)],1)],1)},h=[],g=t(629),v=t(4874);const x={name:"usuarioCrear",components:{formUsuario:v.Z},data(){return{valido:!0,usuario:{}}},computed:{...(0,g.rn)(["loading"]),...(0,g.rn)("main_usuario",["usuarioBase"])},created(){this.usuario={...this._cloneDeep(this.usuarioBase)}},methods:{...(0,g.OI)(["mostrarError"]),...(0,g.nv)("main_usuario",["guardarUsuario"]),resetForm(){this.usuario={...this._cloneDeep(this.usuarioBase)},this.$refs.form.resetValidation()},async crearUsuario(){if(this.usuario.password!==this.usuario.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarUsuario({usuario:this.usuario,validate:this.$refs.form.validate,finish:this.resetForm})}}},b=x;var _=t(1001),y=(0,_.Z)(b,f,h,!1,null,null,null);const Z=y.exports},9015:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Z});var r=t(6194),s=t(8956),i=t(2353),o=t(9418),l=t(5050),n=t(108),c=t(683),d=t(445),u=t(3667),p=t(9456),m=t(8143),f=function(){var e=this,a=e._self._c;return a(l.Z,{attrs:{"grid-list-xs":""}},[a(p.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(c.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0"},[e._v("====== GESTION DE USUARIOS ======")])],1)],1),a(c.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(o.Z,{staticClass:"primary"},[a(u.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("manage_accounts")]),a("span",{staticClass:"title white--text"},[e._v("Editar Usuario")]),a(n.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),a(m.Cl),a(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioBuscar"},color:"primary darken-1",disabled:e.loading.estado,loading:e.loading.estado}},[a(u.Z,{attrs:{color:"white",left:""}},[e._v("search")]),e._v("Buscar Usuario")],1)],1),a(i.ZB,[a(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(p.Z,{attrs:{row:"",wrap:""},on:{keypress:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.editarUsuario.apply(null,arguments)}}},[a("formUsuario",{attrs:{usuario:e.usuario,editar:"true"},on:{checkPassword:function(a){return e.cambiarPassword(a)}}})],1)],1)],1),a(o.Z,{staticClass:"primary lighten-2"},[a(m.Cl),a(n.Z,{staticClass:"mx-3 black",attrs:{vertical:""}}),a(r.Z,{class:(e.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editarUsuario}},[a(u.Z,{attrs:{left:"",color:"white"}},[e._v("manage_accounts")]),e._v(e._s(e.valido?"Editar Usuario":"Formulario No valido"))],1)],1)],1)],1)],1)],1)},h=[],g=t(629),v=t(4874);const x={name:"usuarioEditar",components:{formUsuario:v.Z},data(){return{valido:!0,cambiarPass:!0,usuario:{}}},computed:{...(0,g.rn)(["loading"]),...(0,g.rn)("main_usuario",["usuarioBase"])},async created(){this.usuario={...this._merge(this._cloneDeep(this.usuarioBase),await this.buscarUsuarioID(this.$route.params.id))}},methods:{...(0,g.OI)(["mostrarError"]),...(0,g.nv)("main_usuario",["buscarUsuarioID","guardarUsuario"]),cambiarPassword(e){this.cambiarPass=e},async editarUsuario(){let e=JSON.parse(JSON.stringify(this.usuario));if(!1===this.cambiarPass)delete e.password,delete e.password2;else if(e.password!==e.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarUsuario({usuario:e,validate:this.$refs.form.validate,finish:"retroceder"})}}},b=x;var _=t(1001),y=(0,_.Z)(b,f,h,!1,null,null,null);const Z=y.exports},4635:(e,a,t)=>{t.r(a),t.d(a,{default:()=>g});var r=t(8956),s=t(2353),i=t(5050),o=t(683),l=t(3667),n=t(9456),c=function(){var e=this,a=e._self._c;return a(i.Z,{attrs:{"grid-list-xs":""}},[a(n.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(o.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(r.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Patrimonio ======")])],1)],1),a(o.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(r.Z,{staticClass:"white--text",attrs:{color:"error darken-4"}},[a(s.ZB,{staticClass:"px-0 text-uppercase title"},[a(l.Z,{attrs:{color:"red darken-1","x-large":""}},[e._v("info")]),e._v(" A tener en cuenta al importar "),a(l.Z,{attrs:{color:"red darken-1",large:""}},[e._v("info")])],1),a(s.ZB,{staticClass:"px-0 body-2"},[a("dl",[a("dt",[e._v('!! Excel en formato "xls" o "xlsx" !!')]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v("!! Case Sensitive !!")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas ==> (categoria, inventario, serie, marca, modelo, dependencia, fec_alta, detalle, funciona)... ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas ==> (ubicacion, area, motivo_eliminacion, usuario_eliminacion, fec_eliminacion, verificado, usuario_verifico, fec_verifico). ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas PCs ==> (micro, memoria, memoria_tipo, disco, disco_tipo, mother, fuente)... ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas PCs ==> (disco_marca y disco_capacidad en caso de existir formaran disco)... ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas PCs ==> (NombrePC y observaciones en caso de exisitir formaran detalle). ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v("Nombres de Columnas Insumos ==> (cantidad, subcategoria y compatibilidad).")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v("Nombres de Columnas Monitor ==> (PC, pulgadas y tipoPantalla).")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Nombres de Columnas Impresoras ==> (impresora_tipo[Laser/Chorro/Matriz], impresora_multifuncion[1/0]). ")]),a("dd",[e._v("- - - # - - -")])])])],1)],1),a(o.Z,{attrs:{cuarto:"","darken-2":"","pa-1":"","ma-1":"",xs12:""}},[a("upload",{attrs:{URLUPLOAD:e.URLUPLOAD}})],1)],1)],1)},d=[],u=t(2033);const p={data:()=>({URLUPLOAD:"/patrimonio/upload"}),components:{upload:u.Z},methods:{}},m=p;var f=t(1001),h=(0,f.Z)(m,c,d,!1,null,null,null);const g=h.exports},7210:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Z});var r=t(6194),s=t(8956),i=t(2353),o=t(5050),l=t(108),n=t(683),c=t(445),d=t(3667),u=t(9456),p=t(8143),m=t(4618),f=t(1415),h=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(i.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"px-3":""}},[a(d.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("work")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Especialidades")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),a(d.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1)],1),a(i.ZB,[a(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},e._l(e.especialidades,(function(t,r){return a(n.Z,{key:`especialidad-${r}`,attrs:{xs12:"",sm6:"","px-3":""}},[a(m.h,{attrs:{"prepend-icon":"work",label:"Especialidad",type:"text",rules:[...e.rules.requerido],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.especialidades[r].nombre,callback:function(a){e.$set(e.especialidades[r],"nombre",a)},expression:"especialidades[index].nombre"}},[0!=r?a("template",{slot:"append-outer"},[a(f.Z,{staticStyle:{"border-radius":"25px"},attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(d.Z,e._g({attrs:{color:"error",onpointerenter:"this.setAttribute('style', 'border-radius: 10px; background: #B0BEC5')",onpointerleave:"this.setAttribute('style', 'background: none')"},on:{click:function(a){return e.deleteEspecialidad(r)}}},t),[e._v(" delete ")])]}}],null,!0)},[a("span",{staticClass:"px-0"},[e._v("Eliminar Especialidad "+e._s(t.nombre))])])],1):e._e()],2)],1)})),1)],1)],1),a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),a(d.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",error:"","darken-2":"",xs12:""}},[a(s.Z,{attrs:{color:"yellow darken-1"}},[a(i.ZB,{staticClass:"px-0 font-weight-medium text-uppercase"},[a(d.Z,{attrs:{color:"error darken-3"}},[e._v(" warning ")]),e._v(" Si se modifica una Especialidad(Profesion) la misma no surtira efecto en los profesionales ya creados con dicha Especialidad(Profesion). ")],1)],1)],1)],1)],1)},g=[],v=(t(7658),t(629));const x={name:"opcionesEspecialidades",components:{},data(){return{valido:!0,especialidades:[{nombre:""}]}},computed:{...(0,v.rn)(["loading","rules"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]},methods:{...(0,v.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,v.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Editando especialidades...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/profEspecialidades",update:{opcion:"profEspecialidades",datos:this.especialidades}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})},deleteEspecialidad(e){this.especialidades.splice(e,1)},agregarEspecialidad(){this.especialidades.push({nombre:""})}}},b=x;var _=t(1001),y=(0,_.Z)(b,h,g,!1,null,null,null);const Z=y.exports},8779:(e,a,t)=>{t.r(a),t.d(a,{default:()=>B});var r=t(8469),s=t(6194),i=t(8956),o=t(2353),l=t(9418),n=t(7441),c=t(5050),d=t(7352),u=t(5049),p=t(108),m=t(683),f=t(445),h=t(3667),g=t(9456),v=t(6446),x=t(8143),b=t(4618),_=t(1415),y=function(){var e=this,a=e._self._c;return a(c.Z,{attrs:{"grid-list-xs":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",terciary:"","lighten-1":""}},[a(i.Z,{staticClass:"elevation-6"},[a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[a(m.Z,{attrs:{"px-3":""}},[a(h.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("fas fa-user-tie")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Profesionales")])],1),a(x.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(s.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(a){return e.retroceder()}}},[a(h.Z,{attrs:{left:"",dark:""}},[e._v("far fa-arrow-alt-circle-left")]),e._v(" Regresar ")],1)],1),a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{"px-3":"","py-1":""}},[a(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",color:"terciary",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(x.Cl),a(s.Z,{staticClass:"mb-2",attrs:{color:"terciary",dark:""},on:{click:e.cargarProfesionales}},[e._v("Actualizar Profesionales")]),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1",attrs:{vertical:""}}),a(u.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(s.Z,e._g({staticClass:"mb-2",attrs:{color:"terciary",dark:""}},t),[e._v("Agregar Profesional")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(i.Z,[a(l.Z,[a(g.Z,{attrs:{grey:"","lighten-2":"",wrap:""}},[a("span",{staticClass:"display-1 font-weight-bold text-capitalize"},[e._v(e._s(e.formTitle)+" - "+e._s(e.editProfesional.apellido&&e.editProfesional.nombre?`${e.editProfesional.apellido}, ${e.editProfesional.nombre}.`:""))]),a(x.Cl),a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(s.Z,e._g({attrs:{icon:"",disabled:e.loading.estado,loading:e.loading.estado,color:"error darken-1"},on:{click:e.close}},t),[a(h.Z,{attrs:{large:""}},[e._v("cancel")])],1)]}}])},[a("span",[e._v("Cerrar")])])],1)],1),a(o.ZB,[a(c.Z,{attrs:{"grid-list-md":""}},[a(g.Z,{attrs:{wrap:""}},[a(x.Cl),-1!==e.editedIndex?a(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a("div",e._g({},t),[a(n.Z,{attrs:{color:"terciary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{class:{"color: terciary lighten-5":e.editProfesional.estado,"color: error lighten-4":!e.editProfesional.estado}},[a(h.Z,[e._v(" visibility ")]),e._v(" Visible: "),a("b",[e._v(e._s(e.editProfesional.estado?"Si":"No"))])],1)]},proxy:!0}],null,!0),model:{value:e.editProfesional.estado,callback:function(a){e.$set(e.editProfesional,"estado",a)},expression:"editProfesional.estado"}})],1)]}}],null,!1,2861480028)},[a("span",[e._v(e._s(e.editProfesional.estado?"Aparecera en las busquedas":"No aparecera en las busquedas"))])])],1):e._e(),a(x.Cl),a("formProfesional",{attrs:{profesional:e.editProfesional}})],1)],1)],1),a(o.h7,[a(s.Z,{staticClass:"terciary lighten-3",attrs:{round:""},on:{click:e.especialidadAdd}},[e._v(" Agregar Especialidad Al Profesional")]),a(x.Cl),a(s.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),-1===e.editedIndex?a(s.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.guardarProfesional}},[e._v(" "+e._s(e.valido?"Crear Profesional":"Formulario No valido"))]):e._e(),-1!==e.editedIndex?a(s.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.editarProfesional}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))]):e._e()],1)],1)],1)],1)],1),a(d.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.profesionales,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:{"background-color: terciary lighten-5":t.item.estado,"background-color: error lighten-4":!t.item.estado}},[a("td",{staticClass:"text-sm-left"},[a("div",{staticStyle:{width:"60px"}},[a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar Profesional")])]),a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({attrs:{disabled:!t.item.estado||"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteProfesional(t.item)}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Eliminar Profesional")])])],1)]),a("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(t.item.nombreC))]),a("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(t.item.legajo))]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarArray(t.item.especialidades,"especialidad")))])]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarArray(t.item.especialidades,"unidad_atencion")))])]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarDias(t.item.especialidades,"dias_laborales")))])])])]}}])},[a(v.Z,{attrs:{color:"blue",indeterminate:""}})],1),a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[a(s.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesEspecialidades"}}},[a(h.Z,{attrs:{color:"white",left:""}},[e._v("work")]),e._v(" Agregar Especialidad/Profesion")],1),a(s.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesAreas"}}},[a(h.Z,{attrs:{color:"white",left:""}},[e._v("fa-house-medical-flag")]),e._v("Agregar Unidad de Atencion Sanitaria")],1)],1)],1)],1)],1)],1)},Z=[],k=(t(7658),t(629)),w=t(7416),C=t(4036),P=function(){var e=this,a=e._self._c;return a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Apellido",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.apellido,callback:function(a){e.$set(e.profesional,"apellido",a)},expression:"profesional.apellido"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Nombre",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.nombre,callback:function(a){e.$set(e.profesional,"nombre",a)},expression:"profesional.nombre"}})],1),a(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"badge",label:"Nº Legajo",type:"text",color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.legajo,callback:function(a){e.$set(e.profesional,"legajo",a)},expression:"profesional.legajo"}})],1),a(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),a(m.Z,{attrs:{xs12:"",sm5:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.documentos,label:"Tipo de Documento","prepend-icon":"fas fa-id-card",color:"terciary"},model:{value:e.profesional.tipo_doc,callback:function(a){e.$set(e.profesional,"tipo_doc",a)},expression:"profesional.tipo_doc"}})],1),a(m.Z,{attrs:{xs12:"",sm7:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"far fa-id-card",label:"Documento",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"terciary","background-color":"terciary lighten-5"},model:{value:e.profesional.documento,callback:function(a){e.$set(e.profesional,"documento",a)},expression:"profesional.documento"}})],1),e._l(e.profesional.especialidades,(function(t,r){return a(g.Z,{key:`especialidades-${r}`,class:r%2===0?"grey lighten-3":"",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a(g.Z,{attrs:{row:"",wrap:""}},[a("div",{staticClass:"display-1 font-weight-medium text-capitalize"},[e._v(" "+e._s(t.especialidad)+" ")]),a(x.Cl),0!==r?a(s.Z,{staticClass:"error lighten-3",attrs:{small:"",round:""},on:{click:function(a){return e.especialidadLess(t)}}},[e._v(" ELIMINAR ESPECIALIDAD : "+e._s(t.especialidad)+" ")]):e._e()],1),a(p.Z)],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.especialidades,"item-text":"nombre","item-value":"nombre",label:"Especialidad","prepend-icon":"work",color:"terciary",rules:e.requerido},model:{value:t.especialidad,callback:function(a){e.$set(t,"especialidad",a)},expression:"filaEspecial.especialidad"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencion,label:"Unidad de Atencion Sanitaria","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:e.requerido},model:{value:t.unidad_atencion,callback:function(a){e.$set(t,"unidad_atencion",a)},expression:"filaEspecial.unidad_atencion"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.turnos,label:"Duracion Turnos (Min)","prepend-icon":"update",color:"terciary",rules:e.requerido},model:{value:t.duracion_turno,callback:function(a){e.$set(t,"duracion_turno",a)},expression:"filaEspecial.duracion_turno"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(C.r,{attrs:{"background-color":"terciary lighten-5","item-value":"valor","item-text":"label",items:e.diasFullNames,label:"Dias Laborales","prepend-icon":"date_range",color:"terciary",chips:"","deletable-chips":"",multiple:"",rules:e.requeridoList},on:{change:function(a){return e.changedValue(a,r)}},model:{value:t.dias,callback:function(a){e.$set(t,"dias",a)},expression:"filaEspecial.dias"}})],1),a(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a("div",e._g({},r),[a(n.Z,{attrs:{color:"terciary lighten-1","false-value":"no","true-value":"si"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{class:{"text-capitalize":!0,"color: terciary lighten-5":"si"==t.turno,"color: error lighten-4":"no"==t.turno}},[a(h.Z,[e._v(" event_note ")]),e._v(" Con Turno: "),a("b",[e._v(e._s(t.turno))])],1)]},proxy:!0}],null,!0),model:{value:t.turno,callback:function(a){e.$set(t,"turno",a)},expression:"filaEspecial.turno"}})],1)]}}],null,!0)},[a("span",[e._v(e._s("si"==t.turno?"Aparecera en el turnero":"No aparecera en el turnero"))])])],1),e._l(t.dias_laborales,(function(r,s){return a(m.Z,{key:`dia-${s}`,attrs:{xs12:"","px-2":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a("h4",[e._v(e._s(e.diasFullNames.find((e=>e.valor===s)).label)+" - Horas")]),a(p.Z)],1),a(m.Z,{attrs:{xs12:"","px-2":""}},[a("timeRange",{attrs:{value:r,color:"terciary",turno:t.duracion_turno,requerido:!0},on:{input1:function(e){return r.splice(0,1,e)},input2:function(e){return r.splice(1,1,e)}}})],1)],1)],1)}))],2)}))],2)},E=[],I=t(5817);const A={name:"formProfesional",props:["profesional"],components:{timeRange:I.Z},data(){return{requerido:[e=>e&&""!==e.trim()||"Este campo es requerido."],requeridoList:[e=>"object"!==typeof e||0!==e.length||"Este campo es requerido."],documentos:["DNI","L.E.","Carnet Ext.","R.U.C.","Pasaporte","P. Nac.","Otros"],turnos:["10","15","20","30","40","60"],especialidades:[],unidadesAtencion:[],especialidad:{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{},turno:"no"}}},computed:{...(0,k.rn)(["diasFullNames"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[],this.unidadesAtencion=await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"})},methods:{...(0,k.nv)(["returnConfig"]),...(0,k.nv)("main_areas",["buscarAreaFiltros"]),changedValue(e,a){e.forEach((e=>{Object.keys(this.profesional.especialidades[a].dias_laborales).includes(e)||(this.profesional.especialidades[a].dias_laborales[e]=["",""],this.profesional.especialidades=this._cloneDeep(this.profesional.especialidades))})),Object.keys(this.profesional.especialidades[a].dias_laborales).forEach((t=>{e.includes(t)||delete this.profesional.especialidades[a].dias_laborales[t]}))},async especialidadLess(e){if(await this.$root.$confirm.open({titulo:"ELIMINAR",msj:["Una vez Eliminada no se podran recuperar los datos.",`La Especialidad ${e.especialidad||"Sin Declarar"} del Profesional ${this.profesional?.apellido||"Sin Declarar"}, sera ELIMINADA.\n¿Desea continuar?`]})){let a=this.profesional.especialidades.indexOf(e);this.profesional.especialidades.splice(a,1)}}}},$=A;var S=t(1001),j=(0,S.Z)($,P,E,!1,null,null,null);const L=j.exports,D={name:"profesionalCrear",components:{formProfesional:L},data(){return{dialog:!1,search:"",paginacion:{sortBy:"nombreC",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%"},{text:"Apellido, Nombre",value:"nombreC",align:"left",width:"25%"},{text:"Nº Legajo",value:"legajo",align:"left",width:"10%"},{text:"Especialidad",value:"especialidades[0].especialidad",align:"left",width:"20%"},{text:"Unidad de Atencion",value:"especialidades[0].unidad_atencion",align:"left",width:"20%"},{text:"Dias",value:"especialidades[0].dias_laborales",align:"left",width:"15%"}],valido:!0,editedIndex:-1,editProfesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]},profesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]}}},computed:{...(0,k.rn)(["APIURL","axiosConfig","loading","persona","profesionales"]),formTitle(){return-1===this.editedIndex?"Nuevo Profesional":"Editar Profesional"}},watch:{dialog(e){e||this.close()},profesionales(e){this.paginacion.page>Math.ceil(e?.length||0/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}},async created(){this.cargarProfesionales()},methods:{...(0,k.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,k.nv)(["cargarProfesionales","retroceder"]),mostrarArray(e,a){if(!e)return"";try{let t="";return e.forEach((e=>{t+=`${"object"===typeof e[a]?e[a].area:e[a]}\n`})),t}catch(t){return""}},mostrarDias(e,a){if(!e)return"";try{let t={0:"Dom",1:"Lun",2:"Mar",3:"Mie",4:"Jue",5:"Vie",6:"Sab"},r="",s="";return e.forEach((e=>{for(const r in e[a])if(e[a].hasOwnProperty(r)){const i=e[a][r];i.length>0&&(s+=""===s?`${t[r]}`:`-${t[r]}`)}r+=""===r?`${s}`:`\n${s}`,s=""})),r}catch(t){return""}},especialidadAdd(){this.editProfesional.especialidades.push(this._cloneDeep(this.profesional.especialidades[0]))},editItem(e){this.editedIndex=this.profesionales.indexOf(e);let a=this._cloneDeep(e);a.especialidades.forEach((e=>{e.unidad_atencion=e.unidad_atencion?.id||"",e.dias=Object.keys(e.dias_laborales).slice()})),this.editProfesional=this._cloneDeep(a),this.dialog=!0},close(){this.dialog=!1,setTimeout((()=>{this.editProfesional=this._cloneDeep(this.profesional),this.editedIndex=-1,this.$refs.form.resetValidation()}),300)},async guardarProfesional(){if(this.$refs.form.validate())try{let a=this._cloneDeep(this.editProfesional);for(const e in a)Object.hasOwnProperty.call(a,e)&&(""!==a[e]&&null!==a[e]||delete a[e]);this.mostrarLoading({titulo:"Registrando Profesional...",color:"primary"});let t=await this.axios.post(this.APIURL+"/profesional",a,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Profesional registrado exitosamente.",` ${a.apellido}, ${a.nombre}.`],titulo:"Registro Exitoso"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async editarProfesional(){if(this.$refs.form.validate())try{let a=this._cloneDeep(this.editProfesional);this.mostrarLoading({titulo:"Editando Profesional...",color:"primary"});let t=await this.axios.put(`${this.APIURL}/profesional/${a.id}`,a,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Profesional editado exitosamente.",` ${a.apellido}, ${a.nombre}.`],titulo:"Edicion Exitosa"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async deleteProfesional(e){if(await this.$root.$confirm.open({titulo:"ELIMINAR",msj:["Una vez 'Eliminad@' no aparecera en las busquedas.\nPara re-Activarlo debera modificar su 'Visibilidad' desde la edicion del mismo.",`Profesional: ${e.nombreC}, sera ELIMINAD@.\n¿Desea continuar?`]}))try{this.mostrarLoading({titulo:"Borrando Profesional...",color:"primary"});let t=await this.axios.delete(`${this.APIURL}/profesional/${e._id}`,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),e.estado=!1;else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(a){try{this.mostrarError({errores:a.response.data.err.errors,mensaje:a.response.data.err.message,titulo:a.response.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}}},N=D;var O=(0,S.Z)(N,y,Z,!1,null,null,null);const B=O.exports},6862:(e,a,t)=>{t.d(a,{Z:()=>s});var r=function(e,a,t){return a>>=0,e=String(e),t=String(t),e.length>a?String(e):(a-=e.length,a>t.length&&(t+=t.repeat(a/t.length)),t.slice(0,a)+String(e))};const s=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return r(e,a,"0")}},2728:(e,a,t)=>{t.d(a,{Z:()=>i});var r=t(5766),s=t(5530);const i=(0,s.Z)(r.Z).extend({methods:{genPickerButton:function(e,a,t){var r=this,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this[e]===a,l=function(t){t.stopPropagation(),r.$emit("update:"+e,a)};return this.$createElement("div",{staticClass:("v-picker__title__btn "+i).trim(),class:{"v-picker__title__btn--active":o,"v-picker__title__btn--readonly":s},on:o||s?void 0:{click:l}},Array.isArray(t)?t:[t])}}})},1455:(e,a,t)=>{t.d(a,{Z:()=>d});t(6666);var r=t(5766),s=t(5721),i=t(8131),o=t(5530),l=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};const n=(0,o.Z)(r.Z,s.Z).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var e=!this.isDark&&(this.color||"primary");return this.color||e}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:this.themeClasses,style:this.fullWidth?void 0:{width:(0,i.kb)(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions"},this.$slots.actions)}},render:function(e){return e("div",{staticClass:"v-picker v-card",class:l({"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),c=n,d=(0,o.Z)(r.Z,s.Z).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(e){var a=[];if(!this.noTitle){var t=this.genPickerTitle();t&&a.push(t)}var r=this.genPickerBody();return r&&a.push(r),a.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(c,{staticClass:e,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width}},a)}}})}}]);