"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[281],{5280:function(t,e,r){r.d(e,{Z:function(){return g}});var i=r(6194),a=r(8956),o=r(683),n=r(445),s=r(3667),l=r(9456),u=r(4618),d=function(){var t=this,e=t._self._c;return e("div",[e(o.Z,{attrs:{"pa-1":"","ma-1":"",xs12:""}},[e(a.Z,{staticClass:"white--text",attrs:{color:"cuarto lighten-2"}},[e(n.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(e){t.valido=e},expression:"valido"}},[e(l.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[e(o.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(u.h,{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:"Seleccionar archivo",color:"white","background-color":"info lighten-4",rules:t.requerido},nativeOn:{click:function(e){return t.onFocus.apply(null,arguments)}},model:{value:t.filename,callback:function(e){t.filename=e},expression:"filename"}})],1),e("input",{ref:"file",attrs:{type:"file",id:"file",accept:".xlsx, .xls"},on:{change:function(e){return t.onFileChange()}}})],1),e(i.Z,{class:{"primary darken-1":t.valido,"error darken-1":!t.valido},attrs:{round:"",disabled:t.loading.estado,loading:t.loading.estado},on:{click:t.subirArchivo}},[t._v(" "+t._s(t.valido?"Subir Archivo":"Falta Archivo")),t.valido?e(s.Z,{attrs:{color:"white",right:""}},[t._v("cloud_upload")]):t._e()],1)],1)],1)],1)],1)},c=[],h=r(629),f={name:"upload",props:["URLUPLOAD","reload"],data(){return{valido:!0,file:"",filename:null,requerido:[t=>t&&""!==t.trim()||"Este campo es requerido."]}},computed:{...(0,h.rn)(["APIURL","axiosConfig","loading","persona"])},watch:{},mounted(){},methods:{...(0,h.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),onFocus(){this.disabled||this.$refs.file.click()},onFileChange(){this.file=this.$refs.file.files[0],this.file?this.filename=this.file.name:this.filename=null},async subirArchivo(){if(this.$refs.form.validate()){let e=new FormData;if(!this.file)return void this.mostrarError({errores:"",mensaje:"No se selecciono correctamente el archivo.",titulo:"Archivo Requerido."});if(e.append("file",this.file),-1===["xls","xlsx"].indexOf(this.file.name.split(".")[this.file.name.split(".").length-1]))return void this.mostrarError({errores:"",mensaje:'Extension de archivo Incorrecta. \nSe aceptan "xls" o "xlsx"',titulo:"Extension Invalida."});try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let r=await this.axios.post(this.APIURL+this.URLUPLOAD,e,this.axiosConfig);if(r.data.ok)this.mostrarMensaje({msj:["Archivo Subido Exitosamente.",`TOTAL Actualizados: ${r.data.data.totales.exitosos}.`,`TOTAL ERRORES: ${r.data.data.totales.errores}.`,`ERRORES: ${r.data.data.errores.split(".")}`],titulo:"Carga Exitosa"}),this.reload&&this.reload();else try{this.mostrarError({errores:"",mensaje:r.data.err.message,titulo:r.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading(),this.filename=null,this.file="",this.$refs.form.reset()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},m=f,p=r(1001),v=(0,p.Z)(m,d,c,!1,null,"4e5dc22a",null),g=v.exports},4635:function(t,e,r){r.r(e),r.d(e,{default:function(){return v}});var i=r(8956),a=r(2353),o=r(6530),n=r(683),s=r(3667),l=r(9456),u=function(){var t=this,e=t._self._c;return e(o.Z,{attrs:{"grid-list-xs":""}},[e(l.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(a.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Patrimonio ======")])],1)],1),e(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(i.Z,{staticClass:"white--text",attrs:{color:"error darken-4"}},[e(a.ZB,{staticClass:"px-0 text-uppercase title"},[e(s.Z,{attrs:{color:"red darken-1","x-large":""}},[t._v("info")]),t._v(" A tener en cuenta al importar "),e(s.Z,{attrs:{color:"red darken-1",large:""}},[t._v("info")])],1),e(a.ZB,{staticClass:"px-0 body-2"},[e("dl",[e("dt",[t._v('!! Excel en formato "xls" o "xlsx" !!')]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v("!! Case Sensitive !!")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas ==> (categoria, inventario, serie, marca, modelo, dependencia, fec_alta, detalle, funciona)... ")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas ==> (ubicacion, area, motivo_eliminacion, usuario_eliminacion, fec_eliminacion, verificado, usuario_verifico, fec_verifico). ")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas PCs ==> (micro, memoria, memoria_tipo, disco, disco_tipo, mother, fuente)... ")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas PCs ==> (disco_marca y disco_capacidad en caso de existir formaran disco)... ")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas PCs ==> (NombrePC y observaciones en caso de exisitir formaran detalle). ")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v("Nombres de Columnas Insumos ==> (cantidad, subcategoria y compatibilidad).")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v("Nombres de Columnas Monitor ==> (PC, pulgadas y tipoPantalla).")]),e("dd",[t._v("- - - # - - -")]),e("dt",[t._v(" Nombres de Columnas Impresoras ==> (impresora_tipo[Laser/Chorro/Matriz], impresora_multifuncion[1/0]). ")]),e("dd",[t._v("- - - # - - -")])])])],1)],1),e(n.Z,{attrs:{cuarto:"","darken-2":"","pa-1":"","ma-1":"",xs12:""}},[e("upload",{attrs:{URLUPLOAD:t.URLUPLOAD}})],1)],1)],1)},d=[],c=r(5280),h={data:()=>({URLUPLOAD:"/patrimonio/upload"}),components:{upload:c.Z},methods:{}},f=h,m=r(1001),p=(0,m.Z)(f,u,d,!1,null,null,null),v=p.exports},445:function(t,e,r){r.d(e,{Z:function(){return a}});var i=r(21),a={name:"v-form",mixins:[(0,i.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var e=this,r=function(t){return t.$watch("hasError",(function(r){e.$set(e.errorBag,t._uid,r)}),{immediate:!0})},i={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?i.shouldValidate=t.$watch("shouldValidate",(function(a){a&&(e.errorBag.hasOwnProperty(t._uid)||(i.valid=r(t)))})):i.valid=r(t),i},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,e=this.inputs.length;e--;)this.inputs[e].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var e=this.watchInput(t);this.inputs.push(t),this.watchers.push(e)},unregister:function(t){var e=this.inputs.find((function(e){return e._uid===t._uid}));if(e){var r=this.watchers.find((function(t){return t._uid===e._uid}));r.valid&&r.valid(),r.shouldValidate&&r.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==e._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==e._uid})),this.$delete(this.errorBag,e._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}}},4618:function(t,e,r){r.d(e,{h:function(){return l}});var i=r(2556),a=r(5730),o=r(8135),n=r(6505),s=r(8219),l={functional:!0,$_wrapperFor:i.Z,props:{textarea:Boolean,multiLine:Boolean},render:function(t,e){var r=e.props,u=e.data,d=e.slots,c=e.parent;(0,n.Z)(u);var h=(0,o.Z)(d(),t);return r.textarea&&(0,s.Rn)("<v-text-field textarea>","<v-textarea outline>",l,c),r.multiLine&&(0,s.Rn)("<v-text-field multi-line>","<v-textarea>",l,c),r.textarea||r.multiLine?(u.attrs.outline=r.textarea,t(a.Z,u,h)):t(i.Z,u,h)}}},5730:function(t,e,r){r.d(e,{Z:function(){return n}});var i=r(2556),a=r(8219),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},n={name:"v-textarea",extends:i.Z,props:{autoGrow:Boolean,noResize:Boolean,outline:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return o({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},i.Z.options.computed.classes.call(this,null))},dynamicHeight:function(){return this.autoGrow?this.inputHeight:"auto"},isEnclosed:function(){return this.textarea||i.Z.options.computed.isEnclosed.call(this)},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){!this.internalChange&&this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0),this.autoGrow&&this.noResize&&(0,a.zk)('"no-resize" is now implied when using "auto-grow", and can be removed',this)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height=0;var e=t.scrollHeight,r=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(r,e)+"px"}},genInput:function(){var t=i.Z.options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){i.Z.options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.internalChange=!0,this.$emit("keydown",t)}}}},6505:function(t,e,r){function i(t){if(t.model&&t.on&&t.on.input)if(Array.isArray(t.on.input)){var e=t.on.input.indexOf(t.model.callback);e>-1&&t.on.input.splice(e,1)}else delete t.on.input}r.d(e,{Z:function(){return i}})},8135:function(t,e,r){function i(t,e){var r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(e("template",{slot:i},t[i]));return r}r.d(e,{Z:function(){return i}})}}]);