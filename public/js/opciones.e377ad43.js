"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[460],{6404:function(e,t,a){a.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e._self._c;return e.field.array?t("span",[e.field.object?t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r){return t("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(a[e.field.keyShow],e.field.time):a[e.field.keyShow]||"0"==a[e.field.keyShow]?a[e.field.keyShow]:"S/D"))]):t("span",e._l(a,(function(i,s,o){return t("span",{key:`${e.field.text}-${r}-${s}`},[e._v(e._s(s)+": "),t("kbd",[e._v(e._s(isNaN(i)&&"Invalid Date"!==e.mostrarFecha(i,e.field.time)?e.mostrarFecha(i,e.field.time)||"S/D":i||"0"==i?i:"S/D"))]),o!=Object.keys(a).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r){return t("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(e.field.date?e.mostrarFecha(a,e.field.time):a||"0"==a?a:"S/D"))])})),0)]):e.field.object?t("span",[t("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?t("span",[e._v(e._s(e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time):e._get(e.props.item,e.field.ruta)[e.field.keyShow]||"0"==e._get(e.props.item,e.field.ruta)[e.field.keyShow]?e._get(e.props.item,e.field.ruta)[e.field.keyShow]:"--------"))]):t("span",e._l(e._get(e.props.item,e.field.ruta),(function(a,r,i){return t("span",{key:`${e.field.text}-${r}`},[e._v(e._s(r)+": "),t("kbd",[e._v(e._s(isNaN(a)&&"Invalid Date"!==e.mostrarFecha(a,e.field.time)?`${e.mostrarFecha(a,e.field.time)}`||"S/D":a||"0"==a?`${a}`:"S/D"))]),i!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?t("span",[e._v(e._s("\n"))]):e._e()])})),0)])]):t("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e.field.date?e.mostrarFecha(e.props.item[e.field.ruta],e.field.time):e.field.boolean?""+(e._get(e.props.item,e.field.ruta)&&"false"!=e._get(e.props.item,e.field.ruta)&&"0"!=e._get(e.props.item,e.field.ruta)?"Si":"No"):e._get(e.props.item,e.field.ruta)||"0"==e._get(e.props.item,e.field.ruta)?e._get(e.props.item,e.field.ruta).toLocaleString("es-AR"):"--------"))])},i=[],s={name:"body-data-table-dinamic",props:["props","field"]},o=s,l=a(1001),n=(0,l.Z)(o,r,i,!1,null,null,null),d=n.exports},5280:function(e,t,a){a.d(t,{Z:function(){return v}});var r=a(6194),i=a(8956),s=a(683),o=a(445),l=a(3667),n=a(9456),d=a(4618),c=function(){var e=this,t=e._self._c;return t("div",[t(s.Z,{attrs:{"pa-1":"","ma-1":"",xs12:""}},[t(i.Z,{staticClass:"white--text",attrs:{color:"cuarto lighten-2"}},[t(o.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(n.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(d.h,{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:"Seleccionar archivo",color:"white","background-color":"info lighten-4",rules:e.requerido},nativeOn:{click:function(t){return e.onFocus.apply(null,arguments)}},model:{value:e.filename,callback:function(t){e.filename=t},expression:"filename"}})],1),t("input",{ref:"file",attrs:{type:"file",id:"file",accept:".xlsx, .xls"},on:{change:function(t){return e.onFileChange()}}})],1),t(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.subirArchivo}},[e._v(" "+e._s(e.valido?"Subir Archivo":"Falta Archivo")),e.valido?t(l.Z,{attrs:{color:"white",right:""}},[e._v("cloud_upload")]):e._e()],1)],1)],1)],1)],1)},u=[],p=a(629),m={name:"upload",props:["URLUPLOAD","reload"],data(){return{valido:!0,file:"",filename:null,requerido:[e=>e&&""!==e.trim()||"Este campo es requerido."]}},computed:{...(0,p.rn)(["APIURL","axiosConfig","loading","persona"])},watch:{},mounted(){},methods:{...(0,p.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),onFocus(){this.disabled||this.$refs.file.click()},onFileChange(){this.file=this.$refs.file.files[0],this.file?this.filename=this.file.name:this.filename=null},async subirArchivo(){if(this.$refs.form.validate()){let t=new FormData;if(!this.file)return void this.mostrarError({errores:"",mensaje:"No se selecciono correctamente el archivo.",titulo:"Archivo Requerido."});if(t.append("file",this.file),-1===["xls","xlsx"].indexOf(this.file.name.split(".")[this.file.name.split(".").length-1]))return void this.mostrarError({errores:"",mensaje:'Extension de archivo Incorrecta. \nSe aceptan "xls" o "xlsx"',titulo:"Extension Invalida."});try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let a=await this.axios.post(this.APIURL+this.URLUPLOAD,t,this.axiosConfig);if(a.data.ok)this.mostrarMensaje({msj:["Archivo Subido Exitosamente.",`TOTAL Actualizados: ${a.data.data.totales.exitosos}.`,`TOTAL ERRORES: ${a.data.data.totales.errores}.`,`ERRORES: ${a.data.data.errores.split(".")}`],titulo:"Carga Exitosa"}),this.reload&&this.reload();else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading(),this.filename=null,this.file="",this.$refs.form.reset()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},f=m,h=a(1001),g=(0,h.Z)(f,c,u,!1,null,"4e5dc22a",null),v=g.exports},3024:function(e,t,a){a.r(t),a.d(t,{default:function(){return $}});var r=a(6194),i=a(8956),s=a(2353),o=a(6530),l=a(108),n=a(683),d=a(445),c=a(3667),u=a(9456),p=a(8143),m=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{"grid-list-xs":""}},[t(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),t(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[t(i.Z,{staticClass:"elevation-6"},[t(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[t(n.Z,{attrs:{"px-3":""}},[t(c.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("settings")]),t("span",{staticClass:"title white--text"},[e._v("Firmas PDF Lab. Bromatologico")])],1),t(p.Cl),t(p.Cl)],1),t(s.ZB,[t(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t("formOpcFirmas",{attrs:{firmas:e.firmas}})],1)],1),t(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[t(p.Cl),t(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1)},f=[],h=a(629),g=a(4618),v=a(5730),x=function(){var e=this,t=e._self._c;return t(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[t(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Izquierda ======")])],1)],1),t(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.nombre,callback:function(t){e.$set(e.firmas.izq,"nombre",t)},expression:"firmas.izq.nombre"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.titulo,callback:function(t){e.$set(e.firmas.izq,"titulo",t)},expression:"firmas.izq.titulo"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.provincial,callback:function(t){e.$set(e.firmas.izq.matriculas,"provincial",t)},expression:"firmas.izq.matriculas.provincial"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.nacional,callback:function(t){e.$set(e.firmas.izq.matriculas,"nacional",t)},expression:"firmas.izq.matriculas.nacional"}})],1),t(v.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.izq.otros,callback:function(t){e.$set(e.firmas.izq,"otros",t)},expression:"firmas.izq.otros"}})],1),t(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[t(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Derecha ======")])],1)],1),t(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.nombre,callback:function(t){e.$set(e.firmas.der,"nombre",t)},expression:"firmas.der.nombre"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.titulo,callback:function(t){e.$set(e.firmas.der,"titulo",t)},expression:"firmas.der.titulo"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.provincial,callback:function(t){e.$set(e.firmas.der.matriculas,"provincial",t)},expression:"firmas.der.matriculas.provincial"}})],1),t(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[t(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.nacional,callback:function(t){e.$set(e.firmas.der.matriculas,"nacional",t)},expression:"firmas.der.matriculas.nacional"}})],1),t(v.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.der.otros,callback:function(t){e.$set(e.firmas.der,"otros",t)},expression:"firmas.der.otros"}})],1)],1)},b=[],_={name:"formOpcFirmas",props:["firmas"],data(){return{requerido:[e=>e?""===e.trim()?"Este campo es requerido.":!(e.length<3)||"Minimo 3 caracteres.":"Este campo es requerido."]}},methods:{}},y=_,Z=a(1001),k=(0,Z.Z)(y,x,b,!1,null,null,null),w=k.exports,C={name:"opcionesBromatologia",components:{formOpcFirmas:w},data(){return{valido:!0,firmas:{izq:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""},der:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""}}}},computed:{...(0,h.rn)(["loading"])},async created(){this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))},methods:{...(0,h.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,h.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Guardando firmas...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/bromatologiaFirmas",update:{opcion:"bromatologiaFirmas",datos:this.firmas}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})}}},E=C,I=(0,Z.Z)(E,m,f,!1,null,null,null),$=I.exports},4649:function(e,t,a){a.r(t),a.d(t,{default:function(){return j}});var r=a(8469),i=a(6194),s=a(8956),o=a(2353),l=a(9418),n=a(7441),d=a(6530),c=a(7352),u=a(5049),p=a(108),m=a(683),f=a(445),h=a(3667),g=a(9456),v=a(6446),x=a(8143),b=a(4618),_=a(5730),y=a(1415),Z=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{fluid:"","grid-list-xs":""}},[t(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),t(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[t(s.Z,{staticClass:"elevation-6"},[t(l.Z,{staticClass:"align-center justify-center primary"},[t(h.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("fas fa-map-marked-alt")]),t("span",{staticClass:"title white--text"},[e._v("Gestion de Lugares")]),t(p.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),t(x.Cl)],1),t("div",[t(l.Z,[t(m.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[t(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(x.Cl),t(p.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),t(i.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarLugares}},[e._v("Recargar Lugares")]),t(u.Z,{attrs:{"max-width":"720px",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(i.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},a),[e._v("Crear Nuevo Lugar")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(s.Z,[t(l.Z,[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t(o.ZB,[t(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(m.Z,{attrs:{xs12:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"fas fa-building",label:"Nombre",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.nombre,callback:function(t){e.$set(e.editedItem,"nombre",t)},expression:"editedItem.nombre"}})],1),t(m.Z,{attrs:{xs12:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),-1!==e.editedIndex?t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(n.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t(h.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}],null,!1,2599061216),model:{value:e.editedItem.estado,callback:function(t){e.$set(e.editedItem,"estado",t)},expression:"editedItem.estado"}})],1):e._e(),t(m.Z,{attrs:{xs12:"","px-2":""}},[t(_.Z,{attrs:{"prepend-icon":"description",label:"Descripcion",color:"primary",clearable:"","background-color":"primary lighten-5","auto-grow":"",rows:"2"},model:{value:e.editedItem.descripcion,callback:function(t){e.$set(e.editedItem,"descripcion",t)},expression:"editedItem.descripcion"}})],1)],1)],1),t(g.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[t(i.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){e.dialog=!1}}},[e._v(" Cancelar")]),t(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(t){return e.guardarLugar()}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.lugaresDB,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-results",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:e.backgroundClass(a.item)},[t("td",{staticClass:"text-sm-left"},[t("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[t(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(t){return e.editItem(a.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[t("span",[e._v("Editar - "+e._s(a.item.nombre))])]),t(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(h.Z,e._g({attrs:{disabled:!a.item.estado||e.loading.estado,color:"error"},on:{click:function(t){return e.deleteLugar({lugar:a.item})}}},r),[e._v(" delete ")])]}}],null,!0)},[t("span",[e._v("Borrar - "+e._s(a.item.nombre))])])],1)]),e._l(e.headersDinamics,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)}))],2)]}}])},[t(v.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)],1)},k=[],w=a(629),C=a(6404),E={name:"opcionesLugares",components:{bodyDataTableDinamic:C.Z},data:()=>({lugaresDB:[],search:"",paginacion:{sortBy:"nombre",descending:!1,rowsPerPage:10,page:1},dialog:!1,valido:!0,lugarDefault:{nombre:"",direccion:"",descripcion:"",estado:!0},editedIndex:-1,editedItem:{nombre:"",direccion:"",descripcion:"",estado:!0},headers:[{text:"Acciones",value:"nombre",align:"center",sortable:!1,width:"5%",ruta:"nombre",ignore:!0},{text:"Nombre",value:"nombre",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"nombre"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"*",ruta:"direccion"},{text:"Descripcion",value:"descripcion",align:"left",class:"text-xs-left",width:"*",ruta:"descripcion"}]}),computed:{...(0,w.rn)(["loading","rules"]),formTitle(){return-1===this.editedIndex?"Nuevo Lugar":"Editar Lugar"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.lugarDefault)),this.editedIndex=-1,this.recargarLugares()}),300),this.$refs.form.resetValidation()}},async created(){this.recargarLugares()},methods:{...(0,w.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,w.nv)(["requestAPI"]),...(0,w.nv)("main",["buscarLugarFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: green lighten-5":"background-color: red lighten-4"}catch(t){return""}},editItem(e){this.editedIndex=this.lugaresDB.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.lugarDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},async recargarLugares(){this.lugaresDB=await this.buscarLugarFiltros(),this.paginacion.page>Math.ceil(this.lugaresDB.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)},async guardarLugar(){try{if(this.$refs.form.validate()){this.mostrarLoading({titulo:"Efectuando cambios..."});let e=this._cloneDeep(this.editedItem);if(!e._id){let t=this.isVacio(e,!0);if(!0===t.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;e=t.dato}let t=null;if(t=await this.requestAPI({method:"post",url:`/lugar/${e.nombre}`,update:e}),t?.data?.ok){let t="";return t=e._id?"Editado":"Guardado",this.mostrarMensaje({msj:[`Lugar ${t} exitosamente.`],titulo:"Completado"}),this.dialog=!1,!0}return!1}return this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}},async deleteLugar(e){try{if(confirm(`Esta seguro que desea ELIMINAR\n Este Lugar: ${e.lugar.nombre}?\n\n              Dejara de ser visible para los que no pueden crear/modificar Lugares.`)){this.mostrarLoading({titulo:"Borrando Lugar..."});let t=null;return t=await this.requestAPI({method:"delete",url:`/lugar/${e.lugar.nombre}`}),!!t?.data?.ok&&(this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),this.recargarLugares(),!0)}}catch(t){return this.mostrarError({mensaje:t,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}}}},I=E,$=a(1001),P=(0,$.Z)(I,Z,k,!1,null,null,null),j=P.exports},9321:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var r=a(8469),i=a(7416),s=a(6194),o=a(8956),l=a(2353),n=a(9418),d=a(7441),c=a(6530),u=a(7352),p=a(5049),m=a(108),f=a(683),h=a(445),g=a(3667),v=a(9456),x=a(6446),b=a(8143),_=a(4618),y=a(1415),Z=function(){var e=this,t=e._self._c;return t(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[t(v.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),t(f.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[t(o.Z,{staticClass:"elevation-6"},[t(n.Z,{staticClass:"align-center justify-center primary"},[t(g.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("location_city")]),t("span",{staticClass:"title white--text"},[e._v("Gestion de Areas")]),t(m.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),t(b.Cl)],1),t("div",[t(n.Z,[t(f.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[t(_.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(b.Cl),t(m.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),t(s.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarAreas}},[e._v("Actualizar Areas")]),t(p.Z,{attrs:{"max-width":"720px",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(s.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},a),[e._v("Crear Nueva Area")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(h.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(o.Z,[t(n.Z,[t("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),t(l.ZB,[t(c.Z,{attrs:{"grid-list-md":""}},[t(v.Z,{attrs:{wrap:""}},[t(f.Z,{attrs:{xs12:"","px-2":""}},[t(_.h,{attrs:{"prepend-icon":"fas fa-city",label:"Subsecretaria (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.subsecretaria,callback:function(t){e.$set(e.editedItem,"subsecretaria",t)},expression:"editedItem.subsecretaria"}})],1),t(f.Z,{attrs:{xs12:"","px-2":""}},[t(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",clearable:"",items:e.areaFiltro,label:"Depende de Area (Opcional)","prepend-icon":"location_city",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.depende,callback:function(t){e.$set(e.editedItem,"depende",t)},expression:"editedItem.depende"}})],1),t(f.Z,{attrs:{xs12:"","px-2":""}},[t(_.h,{attrs:{"prepend-icon":"fas fa-building",label:"Area",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.area,callback:function(t){e.$set(e.editedItem,"area",t)},expression:"editedItem.area"}})],1),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(_.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.direccion,callback:function(t){e.$set(e.editedItem,"direccion",t)},expression:"editedItem.direccion"}})],1),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(_.h,{attrs:{"prepend-icon":"fas fa-user-tie",label:"Responsable (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.responsable,callback:function(t){e.$set(e.editedItem,"responsable",t)},expression:"editedItem.responsable"}})],1),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(_.h,{attrs:{"prepend-icon":"fas fa-tag",label:"Número de Oficina (Opcional)",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.oficina_nro,callback:function(t){e.$set(e.editedItem,"oficina_nro",t)},expression:"editedItem.oficina_nro"}})],1),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(d.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t(g.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.estado,callback:function(t){e.$set(e.editedItem,"estado",t)},expression:"editedItem.estado"}})],1),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(d.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},on:{change:function(t){e.editedItem.zona_us=""}},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t(g.Z,[e._v("fa-house-medical-flag")]),e._v(" Unidad de Atencion Sanitaria: "+e._s(e.editedItem.unidad_atencion?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.unidad_atencion,callback:function(t){e.$set(e.editedItem,"unidad_atencion",t)},expression:"editedItem.unidad_atencion"}})],1),e.editedItem.unidad_atencion?t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"description",clearable:"",items:e.optionsJson.opcZonas,label:"Zona","prepend-icon":"fas fa-globe",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.zona_us,callback:function(t){e.$set(e.editedItem,"zona_us",t)},expression:"editedItem.zona_us"}})],1):t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}}),t(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(d.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[t(g.Z,[e._v("medication")]),e._v(" Farmacia: "+e._s(e.editedItem.farmacia?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.farmacia,callback:function(t){e.$set(e.editedItem,"farmacia",t)},expression:"editedItem.farmacia"}})],1)],1)],1)],1),t(v.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[t(s.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),t(s.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(t){return e.guardarArea({area:e.editedItem,validate:e.$refs.form.validate,finish:e.close})}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),t(u.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.areas,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-results",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:e.backgroundClass(a.item)},[t("td",{staticClass:"text-sm-left"},[t("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[t(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(g.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(t){return e.editItem(a.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[t("span",[e._v("Editar - "+e._s(a.item.area))])]),t(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(g.Z,e._g({attrs:{disabled:!a.item.estado||e.loading.estado,color:"error"},on:{click:function(t){return e.deleteArea({item:a.item,finish:e.recargarAreas})}}},r),[e._v(" delete ")])]}}],null,!0)},[t("span",[e._v("Borrar - "+e._s(a.item.area))])])],1)]),e._l(e.headersDinamics,(function(e){return t("td",{key:e.text,class:e.class},[t("bodyDataTableDinamic",{attrs:{props:a,field:e}})],1)}))],2)]}}])},[t(x.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1),t(v.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Importar Excel ======")])],1)],1),t(f.Z,{attrs:{cuarto:"","darken-2":"","pa-1":"","ma-1":"",xs12:""}},[t("upload",{attrs:{URLUPLOAD:"/area/upload",reload:e.recargarAreas}})],1),t(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.Z,{staticClass:"white--text",attrs:{color:"error darken-4"}},[t(l.ZB,{staticClass:"px-0 text-uppercase title"},[t(g.Z,{attrs:{color:"red darken-1","x-large":""}},[e._v("info")]),e._v(" A tener en cuenta al importar "),t(g.Z,{attrs:{color:"red darken-1",large:""}},[e._v("info")])],1),t(l.ZB,{staticClass:"px-0 body-2"},[t("dl",[t("dt",[e._v(' Case Sensitive: Nombres de Columnas (area, subsecretaria, responsable, direccion, zona_us, oficina_nro, unidad_atencion), unidad_atencion valores "true" o celda vacia. ')]),t("dd",[e._v("- - - # - - -")]),t("dt",[e._v(" Si se desea cambiar el nombre de un area ==>> (area, cambia_nombre), donde cambia nombre es el nombre nuevo. ")]),t("dd",[e._v("- - - # - - -")]),t("dt",[e._v('Excel en formato "xls" o "xlsx".')])])])],1)],1)],1)],1)},k=[],w=a(629),C=a(6404),E=a(5280),I={name:"opcionesAreas",components:{bodyDataTableDinamic:C.Z,upload:E.Z},data:()=>({dialog:!1,valido:!0,areaFiltro:[{area:"Independiente",id:null}],optionsJson:{opcZonas:[]},areas:[],search:"",paginacion:{sortBy:"area",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"area",align:"center",sortable:!1,width:"5%",ruta:"area",ignore:!0},{text:"Subsecretaria",value:"subsecretaria",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"subsecretaria"},{text:"Area",value:"area",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"area"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"direccion"},{text:"# Oficina",value:"oficina_nro",align:"left",class:"text-xs-right",width:"5%",ruta:"oficina_nro"},{text:"Responsable",value:"responsable",align:"left",class:"text-capitalize text-xs-left",width:"15%",ruta:"responsable"},{text:"Zona",value:"zona_us",align:"center",class:"text-capitalize text-xs-center",width:"10%",ruta:"zona_us"},{text:"UAS",value:"unidad_atencion",align:"center",class:"text-capitalize text-xs-center",width:"5%",ruta:"unidad_atencion",boolean:!0},{text:"Farmacia",value:"farmacia",align:"left",class:"text-capitalize text-xs-center",width:"5%",ruta:"farmacia",boolean:!0}],editedIndex:-1,editedItem:{subsecretaria:"",depende:null,area:"",direccion:"",responsable:"",oficina_nro:"",unidad_atencion:"",zona_us:"",farmacia:"",estado:!0}}),computed:{...(0,w.rn)(["loading","rules"]),...(0,w.rn)("main_areas",["areaDefault"]),formTitle(){return-1===this.editedIndex?"Nueva Area":"Editar Area"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.areaDefault)),this.editedIndex=-1,this.recargarAreas(),this.$refs.form.resetValidation()}),300)}},async created(){this.optionsJson.opcZonas=await this.returnOptionsJSON({key:"106",opcion:"opcZonas"}),this.recargarAreas()},methods:{...(0,w.nv)(["returnOptionsJSON"]),...(0,w.nv)("main_areas",["guardarArea","deleteArea","buscarAreaFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: primary lighten-5":"background-color: error lighten-4"}catch(t){return""}},editItem(e){this.editedIndex=this.areas.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.areaDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},close(){this.dialog=!1},async recargarAreas(){this.areas=await this.buscarAreaFiltros(),this.areaFiltro=[{area:"Independiente",id:null},...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})],this.paginacion.page>Math.ceil(this.areas.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}}},$=I,P=a(1001),j=(0,P.Z)($,Z,k,!1,null,null,null),S=j.exports},7210:function(e,t,a){a.r(t),a.d(t,{default:function(){return Z}});var r=a(6194),i=a(8956),s=a(2353),o=a(6530),l=a(108),n=a(683),d=a(445),c=a(3667),u=a(9456),p=a(8143),m=a(4618),f=a(1415),h=function(){var e=this,t=e._self._c;return t(o.Z,{attrs:{fluid:"","grid-list-xs":""}},[t(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),t(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[t(i.Z,{staticClass:"elevation-6"},[t(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[t(n.Z,{attrs:{"px-3":""}},[t(c.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("work")]),t("span",{staticClass:"title white--text"},[e._v("Gestion de Especialidades")])],1),t(p.Cl),t(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(t){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),t(c.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1)],1),t(s.ZB,[t(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},e._l(e.especialidades,(function(a,r){return t(n.Z,{key:`especialidad-${r}`,attrs:{xs12:"",sm6:"","px-3":""}},[t(m.h,{attrs:{"prepend-icon":"work",label:"Especialidad",type:"text",rules:[...e.rules.requerido],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.especialidades[r].nombre,callback:function(t){e.$set(e.especialidades[r],"nombre",t)},expression:"especialidades[index].nombre"}},[0!=r?t("template",{slot:"append-outer"},[t(f.Z,{staticStyle:{"border-radius":"25px"},attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(c.Z,e._g({attrs:{color:"error",onpointerenter:"this.setAttribute('style', 'border-radius: 10px; background: #B0BEC5')",onpointerleave:"this.setAttribute('style', 'background: none')"},on:{click:function(t){return e.deleteEspecialidad(r)}}},a),[e._v(" delete ")])]}}],null,!0)},[t("span",{staticClass:"px-0"},[e._v("Eliminar Especialidad "+e._s(a.nombre))])])],1):e._e()],2)],1)})),1)],1)],1),t(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[t(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(t){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),t(c.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1),t(p.Cl),t(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1),t(n.Z,{attrs:{"pa-1":"","ma-1":"",error:"","darken-2":"",xs12:""}},[t(i.Z,{attrs:{color:"yellow darken-1"}},[t(s.ZB,{staticClass:"px-0 font-weight-medium text-uppercase"},[t(c.Z,{attrs:{color:"error darken-3"}},[e._v(" warning ")]),e._v(" Si se modifica una Especialidad(Profesion) la misma no surtira efecto en los profesionales ya creados con dicha Especialidad(Profesion). ")],1)],1)],1)],1)],1)},g=[],v=a(629),x={name:"opcionesEspecialidades",components:{},data(){return{valido:!0,especialidades:[{nombre:""}]}},computed:{...(0,v.rn)(["loading","rules"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]},methods:{...(0,v.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,v.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Editando especialidades...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/profEspecialidades",update:{opcion:"profEspecialidades",datos:this.especialidades}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})},deleteEspecialidad(e){this.especialidades.splice(e,1)},agregarEspecialidad(){this.especialidades.push({nombre:""})}}},b=x,_=a(1001),y=(0,_.Z)(b,h,g,!1,null,null,null),Z=y.exports},302:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var r=a(8469),i=a(6194),s=a(8956),o=a(2353),l=a(9418),n=a(7441),d=a(6530),c=a(7352),u=a(5049),p=a(108),m=a(683),f=a(445),h=a(3667),g=a(9456),v=a(6446),x=a(8143),b=a(4618),_=a(1415),y=function(){var e=this,t=e._self._c;return t(d.Z,{attrs:{"grid-list-xs":""}},[t(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),t(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",terciary:"","lighten-1":""}},[t(s.Z,{staticClass:"elevation-6"},[t(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[t(m.Z,{attrs:{"px-3":""}},[t(h.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("fas fa-user-tie")]),t("span",{staticClass:"title white--text"},[e._v("Gestion de Profesionales")])],1),t(x.Cl),t(p.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),t(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(t){return e.retroceder()}}},[t(h.Z,{attrs:{left:"",dark:""}},[e._v("far fa-arrow-alt-circle-left")]),e._v(" Regresar ")],1)],1),t(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(m.Z,{attrs:{"px-3":"","py-1":""}},[t(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",color:"terciary",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(x.Cl),t(i.Z,{staticClass:"mb-2",attrs:{color:"terciary",dark:""},on:{click:e.cargarProfesionales}},[e._v("Actualizar Profesionales")]),t(p.Z,{staticClass:"hidden-xs-only mx-2 my-1",attrs:{vertical:""}}),t(u.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(i.Z,e._g({staticClass:"mb-2",attrs:{color:"terciary",dark:""}},a),[e._v("Agregar Profesional")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(s.Z,[t(l.Z,[t(g.Z,{attrs:{grey:"","lighten-2":"",wrap:""}},[t("span",{staticClass:"display-1 font-weight-bold text-capitalize"},[e._v(e._s(e.formTitle)+" - "+e._s(e.editProfesional.apellido&&e.editProfesional.nombre?`${e.editProfesional.apellido}, ${e.editProfesional.nombre}.`:""))]),t(x.Cl),t(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t(i.Z,e._g({attrs:{icon:"",disabled:e.loading.estado,loading:e.loading.estado,color:"error darken-1"},on:{click:e.close}},a),[t(h.Z,{attrs:{large:""}},[e._v("cancel")])],1)]}}])},[t("span",[e._v("Cerrar")])])],1)],1),t(o.ZB,[t(d.Z,{attrs:{"grid-list-md":""}},[t(g.Z,{attrs:{wrap:""}},[t(x.Cl),-1!==e.editedIndex?t(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[t(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a}){return[t("div",e._g({},a),[t(n.Z,{attrs:{color:"terciary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{class:{"color: terciary lighten-5":e.editProfesional.estado,"color: error lighten-4":!e.editProfesional.estado}},[t(h.Z,[e._v(" visibility ")]),e._v(" Visible: "),t("b",[e._v(e._s(e.editProfesional.estado?"Si":"No"))])],1)]},proxy:!0}],null,!0),model:{value:e.editProfesional.estado,callback:function(t){e.$set(e.editProfesional,"estado",t)},expression:"editProfesional.estado"}})],1)]}}],null,!1,2861480028)},[t("span",[e._v(e._s(e.editProfesional.estado?"Aparecera en las busquedas":"No aparecera en las busquedas"))])])],1):e._e(),t(x.Cl),t("formProfesional",{attrs:{profesional:e.editProfesional}})],1)],1)],1),t(o.h7,[t(i.Z,{staticClass:"terciary lighten-3",attrs:{round:""},on:{click:e.especialidadAdd}},[e._v(" Agregar Especialidad Al Profesional")]),t(x.Cl),t(i.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),-1===e.editedIndex?t(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.guardarProfesional}},[e._v(" "+e._s(e.valido?"Crear Profesional":"Formulario No valido"))]):e._e(),-1!==e.editedIndex?t(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.editarProfesional}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))]):e._e()],1)],1)],1)],1)],1),t(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.profesionales,"item-key":"_id",pagination:e.paginacion,"rows-per-page-items":[5,10,25,50],loading:e.loading.estado,search:e.search},on:{"update:pagination":function(t){e.paginacion=t}},scopedSlots:e._u([{key:"no-results",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[t(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(a){return[t("tr",{class:{"background-color: terciary lighten-5":a.item.estado,"background-color: error lighten-4":!a.item.estado}},[t("td",{staticClass:"text-sm-left"},[t("div",{staticStyle:{width:"60px"}},[t(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"primary"},on:{click:function(t){return e.editItem(a.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[t("span",[e._v("Editar Profesional")])]),t(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t(h.Z,e._g({attrs:{disabled:!a.item.estado||"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"error"},on:{click:function(t){return e.deleteProfesional(a.item)}}},r),[e._v(" delete ")])]}}],null,!0)},[t("span",[e._v("Eliminar Profesional")])])],1)]),t("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(a.item.nombreC))]),t("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(a.item.legajo))]),t("td",{staticClass:"text-capitalize text-xs-left"},[t("pre",[e._v(e._s(e.mostrarArray(a.item.especialidades,"especialidad")))])]),t("td",{staticClass:"text-capitalize text-xs-left"},[t("pre",[e._v(e._s(e.mostrarArray(a.item.especialidades,"unidad_atencion")))])]),t("td",{staticClass:"text-capitalize text-xs-left"},[t("pre",[e._v(e._s(e.mostrarDias(a.item.especialidades,"dias_laborales")))])])])]}}])},[t(v.Z,{attrs:{color:"blue",indeterminate:""}})],1),t(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[t(i.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesEspecialidades"}}},[t(h.Z,{attrs:{color:"white",left:""}},[e._v("work")]),e._v(" Agregar Especialidad/Profesion")],1),t(i.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesAreas"}}},[t(h.Z,{attrs:{color:"white",left:""}},[e._v("fa-house-medical-flag")]),e._v("Agregar Unidad de Atencion Sanitaria")],1)],1)],1)],1)],1)],1)},Z=[],k=a(629),w=a(7416),C=a(4036),E=function(){var e=this,t=e._self._c;return t(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Apellido",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.apellido,callback:function(t){e.$set(e.profesional,"apellido",t)},expression:"profesional.apellido"}})],1),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Nombre",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.nombre,callback:function(t){e.$set(e.profesional,"nombre",t)},expression:"profesional.nombre"}})],1),t(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"badge",label:"Nº Legajo",type:"text",color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.legajo,callback:function(t){e.$set(e.profesional,"legajo",t)},expression:"profesional.legajo"}})],1),t(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),t(m.Z,{attrs:{xs12:"",sm5:"","px-2":""}},[t(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.documentos,label:"Tipo de Documento","prepend-icon":"fas fa-id-card",color:"terciary"},model:{value:e.profesional.tipo_doc,callback:function(t){e.$set(e.profesional,"tipo_doc",t)},expression:"profesional.tipo_doc"}})],1),t(m.Z,{attrs:{xs12:"",sm7:"","px-2":""}},[t(b.h,{attrs:{"prepend-icon":"far fa-id-card",label:"Documento",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"terciary","background-color":"terciary lighten-5"},model:{value:e.profesional.documento,callback:function(t){e.$set(e.profesional,"documento",t)},expression:"profesional.documento"}})],1),e._l(e.profesional.especialidades,(function(a,r){return t(g.Z,{key:`especialidades-${r}`,class:r%2===0?"grey lighten-3":"",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(m.Z,{attrs:{xs12:"","px-2":""}},[t(g.Z,{attrs:{row:"",wrap:""}},[t("div",{staticClass:"display-1 font-weight-medium text-capitalize"},[e._v(" "+e._s(a.especialidad)+" ")]),t(x.Cl),0!==r?t(i.Z,{staticClass:"error lighten-3",attrs:{small:"",round:""},on:{click:function(t){return e.especialidadLess(a)}}},[e._v(" ELIMINAR ESPECIALIDAD : "+e._s(a.especialidad)+" ")]):e._e()],1),t(p.Z)],1),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.especialidades,"item-text":"nombre","item-value":"nombre",label:"Especialidad","prepend-icon":"work",color:"terciary",rules:e.requerido},model:{value:a.especialidad,callback:function(t){e.$set(a,"especialidad",t)},expression:"filaEspecial.especialidad"}})],1),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencion,label:"Unidad de Atencion Sanitaria","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:e.requerido},model:{value:a.unidad_atencion,callback:function(t){e.$set(a,"unidad_atencion",t)},expression:"filaEspecial.unidad_atencion"}})],1),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.turnos,label:"Duracion Turnos (Min)","prepend-icon":"update",color:"terciary",rules:e.requerido},model:{value:a.duracion_turno,callback:function(t){e.$set(a,"duracion_turno",t)},expression:"filaEspecial.duracion_turno"}})],1),t(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[t(C.r,{attrs:{"background-color":"terciary lighten-5","item-value":"valor","item-text":"label",items:e.diasFullNames,label:"Dias Laborales","prepend-icon":"date_range",color:"terciary",chips:"","deletable-chips":"",multiple:"",rules:e.requeridoList},on:{change:function(t){return e.changedValue(t,r)}},model:{value:a.dias,callback:function(t){e.$set(a,"dias",t)},expression:"filaEspecial.dias"}})],1),t(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[t(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[t("div",e._g({},r),[t(n.Z,{attrs:{color:"terciary lighten-1","false-value":"no","true-value":"si"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",{class:{"text-capitalize":!0,"color: terciary lighten-5":"si"==a.turno,"color: error lighten-4":"no"==a.turno}},[t(h.Z,[e._v(" event_note ")]),e._v(" Con Turno: "),t("b",[e._v(e._s(a.turno))])],1)]},proxy:!0}],null,!0),model:{value:a.turno,callback:function(t){e.$set(a,"turno",t)},expression:"filaEspecial.turno"}})],1)]}}],null,!0)},[t("span",[e._v(e._s("si"==a.turno?"Aparecera en el turnero":"No aparecera en el turnero"))])])],1),e._l(a.dias_laborales,(function(r,i){return t(m.Z,{key:`dia-${i}`,attrs:{xs12:"","px-2":""}},[t(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(m.Z,{attrs:{xs12:"","px-2":""}},[t("h4",[e._v(e._s(e.diasFullNames.find((e=>e.valor===i)).label)+" - Horas")]),t(p.Z)],1),t(m.Z,{attrs:{xs12:"","px-2":""}},[t("timeRange",{attrs:{value:r,color:"terciary",turno:a.duracion_turno,requerido:!0},on:{input1:function(e){return r.splice(0,1,e)},input2:function(e){return r.splice(1,1,e)}}})],1)],1)],1)}))],2)}))],2)},I=[],$=a(5817),P={name:"formProfesional",props:["profesional"],components:{timeRange:$.Z},data(){return{requerido:[e=>e&&""!==e.trim()||"Este campo es requerido."],requeridoList:[e=>"object"!==typeof e||0!==e.length||"Este campo es requerido."],documentos:["DNI","L.E.","Carnet Ext.","R.U.C.","Pasaporte","P. Nac.","Otros"],turnos:["10","15","20","30","40","60"],especialidades:[],unidadesAtencion:[],especialidad:{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{},turno:"no"}}},computed:{...(0,k.rn)(["diasFullNames"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[],this.unidadesAtencion=await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"})},methods:{...(0,k.nv)(["returnConfig"]),...(0,k.nv)("main_areas",["buscarAreaFiltros"]),changedValue(e,t){e.forEach((e=>{Object.keys(this.profesional.especialidades[t].dias_laborales).includes(e)||(this.profesional.especialidades[t].dias_laborales[e]=["",""],this.profesional.especialidades=this._cloneDeep(this.profesional.especialidades))})),Object.keys(this.profesional.especialidades[t].dias_laborales).forEach((a=>{e.includes(a)||delete this.profesional.especialidades[t].dias_laborales[a]}))},especialidadLess(e){if(confirm(`Esta seguro que desea eliminar la Especialidad: ${e.especialidad?e.especialidad:"Sin Declarar"},\n del Profesional: ${this.profesional.apellido?this.profesional.apellido:"Sin Apellido"}?`)){let t=this.profesional.especialidades.indexOf(e);this.profesional.especialidades.splice(t,1)}}}},j=P,S=a(1001),A=(0,S.Z)(j,E,I,!1,null,null,null),L=A.exports,O={name:"profesionalCrear",components:{formProfesional:L},data(){return{dialog:!1,search:"",paginacion:{sortBy:"nombreC",descending:!1,rowsPerPage:10,page:1},headers:[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%"},{text:"Apellido, Nombre",value:"nombreC",align:"left",width:"25%"},{text:"Nº Legajo",value:"legajo",align:"left",width:"10%"},{text:"Especialidad",value:"especialidades[0].especialidad",align:"left",width:"20%"},{text:"Unidad de Atencion",value:"especialidades[0].unidad_atencion",align:"left",width:"20%"},{text:"Dias",value:"especialidades[0].dias_laborales",align:"left",width:"15%"}],valido:!0,editedIndex:-1,editProfesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]},profesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]}}},computed:{...(0,k.rn)(["APIURL","axiosConfig","loading","persona","profesionales"]),formTitle(){return-1===this.editedIndex?"Nuevo Profesional":"Editar Profesional"}},watch:{dialog(e){e||this.close()},profesionales(e){this.paginacion.page>Math.ceil(e?.length||0/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)}},async created(){this.cargarProfesionales()},methods:{...(0,k.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,k.nv)(["cargarProfesionales","retroceder"]),mostrarArray(e,t){if(!e)return"";try{let a="";return e.forEach((e=>{a+=`${"object"===typeof e[t]?e[t].area:e[t]}\n`})),a}catch(a){return""}},mostrarDias(e,t){if(!e)return"";try{let a={0:"Dom",1:"Lun",2:"Mar",3:"Mie",4:"Jue",5:"Vie",6:"Sab"},r="",i="";return e.forEach((e=>{for(const r in e[t])if(e[t].hasOwnProperty(r)){const s=e[t][r];s.length>0&&(i+=""===i?`${a[r]}`:`-${a[r]}`)}r+=""===r?`${i}`:`\n${i}`,i=""})),r}catch(a){return""}},especialidadAdd(){this.editProfesional.especialidades.push(this._cloneDeep(this.profesional.especialidades[0]))},editItem(e){this.editedIndex=this.profesionales.indexOf(e);let t=this._cloneDeep(e);t.especialidades.forEach((e=>{e.unidad_atencion=e.unidad_atencion?.id||"",e.dias=Object.keys(e.dias_laborales).slice()})),this.editProfesional=this._cloneDeep(t),this.dialog=!0},close(){this.dialog=!1,setTimeout((()=>{this.editProfesional=this._cloneDeep(this.profesional),this.editedIndex=-1,this.$refs.form.resetValidation()}),300)},async guardarProfesional(){if(this.$refs.form.validate())try{let t=this._cloneDeep(this.editProfesional);for(const e in t)Object.hasOwnProperty.call(t,e)&&(""!==t[e]&&null!==t[e]||delete t[e]);this.mostrarLoading({titulo:"Registrando Profesional...",color:"primary"});let a=await this.axios.post(this.APIURL+"/profesional",t,this.axiosConfig);if(a.data.ok)this.mostrarMensaje({msj:["Profesional registrado exitosamente.",` ${t.apellido}, ${t.nombre}.`],titulo:"Registro Exitoso"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async editarProfesional(){if(this.$refs.form.validate())try{let t=this._cloneDeep(this.editProfesional);this.mostrarLoading({titulo:"Editando Profesional...",color:"primary"});let a=await this.axios.put(`${this.APIURL}/profesional/${t.id}`,t,this.axiosConfig);if(a.data.ok)this.mostrarMensaje({msj:["Profesional editado exitosamente.",` ${t.apellido}, ${t.nombre}.`],titulo:"Edicion Exitosa"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async deleteProfesional(e){if(confirm(`Esta seguro que desea Eliminar\n al Profesional: ${e.nombreC}?`))try{this.mostrarLoading({titulo:"Borrando Profesional...",color:"primary"});let a=await this.axios.delete(`${this.APIURL}/profesional/${e._id}`,this.axiosConfig);if(a.data.ok)this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),e.estado=!1;else try{this.mostrarError({errores:"",mensaje:a.data.err.message,titulo:a.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(t){try{this.mostrarError({errores:t.response.data.err.errors,mensaje:t.response.data.err.message,titulo:t.response.status})}catch(t){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}}},q=O,D=(0,S.Z)(q,y,Z,!1,null,null,null),N=D.exports},6862:function(e,t){var a=function(e,t,a){return t>>=0,e=String(e),a=String(a),e.length>t?String(e):(t-=e.length,t>a.length&&(a+=a.repeat(t/a.length)),a.slice(0,t)+String(e))};t["Z"]=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a(e,t,"0")}},445:function(e,t,a){a.d(t,{Z:function(){return i}});var r=a(21),i={name:"v-form",mixins:[(0,r.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var t=this,a=function(e){return e.$watch("hasError",(function(a){t.$set(t.errorBag,e._uid,a)}),{immediate:!0})},r={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(t.errorBag.hasOwnProperty(e._uid)||(r.valid=a(e)))})):r.valid=a(e),r},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,t=this.inputs.length;t--;)this.inputs[t].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var t=this.watchInput(e);this.inputs.push(e),this.watchers.push(t)},unregister:function(e){var t=this.inputs.find((function(t){return t._uid===e._uid}));if(t){var a=this.watchers.find((function(e){return e._uid===t._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==t._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(e){var t=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return t.$emit("submit",e)}}},this.$slots.default)}}},2728:function(e,t,a){var r=a(5766),i=a(5530);t["Z"]=(0,i.Z)(r.Z).extend({methods:{genPickerButton:function(e,t,a){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this[e]===t,l=function(a){a.stopPropagation(),r.$emit("update:"+e,t)};return this.$createElement("div",{staticClass:("v-picker__title__btn "+s).trim(),class:{"v-picker__title__btn--active":o,"v-picker__title__btn--readonly":i},on:o||i?void 0:{click:l}},Array.isArray(a)?a:[a])}}})},1455:function(e,t,a){a.d(t,{Z:function(){return c}});a(6666);var r=a(5766),i=a(5721),s=a(8131),o=a(5530),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n=(0,o.Z)(r.Z,i.Z).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var e=!this.isDark&&(this.color||"primary");return this.color||e}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:this.themeClasses,style:this.fullWidth?void 0:{width:(0,s.kb)(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions"},this.$slots.actions)}},render:function(e){return e("div",{staticClass:"v-picker v-card",class:l({"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),d=n,c=(0,o.Z)(r.Z,i.Z).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(e){var t=[];if(!this.noTitle){var a=this.genPickerTitle();a&&t.push(a)}var r=this.genPickerBody();return r&&t.push(r),t.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(d,{staticClass:e,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width}},t)}}})}}]);