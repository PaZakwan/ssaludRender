"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[134],{5967:function(t,a,e){e.d(a,{Z:function(){return m}});var o=e(6961),i=e(683),s=e(9456),l=e(5084),r=e(4618),n=function(){var t=this,a=t._self._c;return a(s.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs12:"","px-2":""}},[a(l.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(r.h,t._g({attrs:{clearable:!t.soloLect&&!!t.clear,"background-color":t.soloLect?`${t.color} lighten-2`:`${t.color} lighten-5`,label:t.label,"prepend-icon":t.prepend,readonly:"",color:`${t.color} darken-3`,rules:t.req?t.validate:[]},on:{"click:clear":function(a){return t.$emit("input","")}},model:{value:t.fecha,callback:function(a){t.fecha=a},expression:"fecha"}},e))]}}]),model:{value:t.menufecha1,callback:function(a){t.menufecha1=a},expression:"menufecha1"}},[a(o.Z,{attrs:{readonly:t.soloLect,"allowed-dates":t.allowedDates,min:t.fecMin,max:t.fecMax,color:`${t.color} darken-3`,"header-color":`${t.color} darken-1`,locale:"mx"},on:{input:function(a){t.menufecha1=!1,t.$emit("input",a)}},model:{value:t.fecha,callback:function(a){t.fecha=a},expression:"fecha"}})],1)],1)],1)},c=[],d={name:"date-select",props:["value","label","icon","color","soloLectura","requerido","min","max","filtro","clearable"],data(){return{menufecha1:!1,validate:[t=>t?""===t.trim()?"Este campo es requerido.":!(t&&t.length<10)||"Ingrese fecha valida (AAAA-MM-DD).":"Este campo es requerido."]}},computed:{fecha:function(){return this.value},soloLect:function(){return this.soloLectura||!1},prepend:function(){return this.icon||"event"},req:function(){return this.requerido||!1},clear:function(){return this.clearable||!1},fecMin:function(){return"-1"===this.min?new Date((new Date).setFullYear((new Date).getFullYear()-1)).toISOString().substr(0,10):this.min?this.min:void 0},fecMax:function(){return"+1"===this.max?new Date((new Date).setFullYear((new Date).getFullYear()+1)).toISOString().substr(0,10):this.max?this.max:void 0},restriction:function(){return this.filtro||[]}},methods:{allowedDates:function(t){return!this.restriction.includes(new Date(t).getUTCDay())}}},u=d,p=e(1001),h=(0,p.Z)(u,n,c,!1,null,null,null),m=h.exports},9566:function(t,a,e){e.r(a),e.d(a,{default:function(){return Xt}});var o=e(8469),i=e(6194),s=e(8956),l=e(2353),r=e(9418),n=e(6530),c=e(7352),d=e(108),u=e(683),p=e(3667),h=e(9456),m=e(6446),g=e(8143),f=e(4618),v=function(){var t=this,a=t._self._c;return a(n.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Historial Clinico Electronico Municipal (HICLEM) ======")])],1)],1),a(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-1"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== ====== Buscar ====== ======")])],1),a(s.Z,{staticClass:"elevation-6",attrs:{color:"grey lighten-2"}},[a(l.ZB,{staticClass:"px-0"},[a(h.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""},on:{keypress:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buscarFiltro(t.filtroPacientes)}}},[a(u.Z,{attrs:{xs12:""}},[a("formFiltroPaciente",{attrs:{filtro:t.filtroPacientes}})],1),a(u.Z,{attrs:{xs12:""}},[a("formFiltroHistorial",{attrs:{filtro:t.filtroPacientes}})],1)],1)],1),a(h.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":""}},["ADMIN_ROLE"===t.persona.role?a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-4",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.buscarFiltro("todos")}}},[t._v("Cargar Toda la BD")]):t._e(),a(g.Cl),a(g.Cl),a(g.Cl),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"cuarto darken-2",disabled:t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.buscarFiltro(t.filtroPacientes)}}},[t._v("Buscar ")]),a(g.Cl)],1)],1)],1),a(u.Z,{attrs:{"pa-1":"","ma-1":"",terciary:"","lighten-1":"",xs12:""}},[a(r.Z,{staticClass:"title text-capitalize terciary elevation-6"},[a(p.Z,{attrs:{large:"",color:"black",left:""}},[t._v("people")]),t._v(" Pacientes "),a(g.Cl),a(d.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(f.h,{attrs:{clearable:"","append-icon":"search",label:"Filtrar","single-line":"","hide-details":"",color:"grey lighten-3 "},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a(h.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",terciary:"","lighten-2":""}},[a(u.Z,{attrs:{xs12:"",sm7:"","px-3":""}},[a(h.Z,{attrs:{"align-left":"","justify-left":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"","px-3":""}},[a(p.Z,{attrs:{small:"",color:"terciary darken-2",left:""}},[t._v("fas fa-user-edit")]),a("span",{staticClass:"body-2 black--text"},[t._v("Actualizar Informacion del Paciente")])],1),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(p.Z,{attrs:{small:"",color:"orange darken-2",left:""}},[t._v("fa-book-medical")]),a("span",{staticClass:"body-2 black--text"},[t._v("Ver Historial Clinico del Paciente")])],1)],1)],1),a(g.Cl),a(d.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.persona.historial_clinico<2||t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.openPaciente()}}},[t._v("Alta Nuevo Paciente")])],1),a(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.pacientesDB,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",{class:t.backgroundClass(e.item)},[a("td",{staticClass:"text-sm-left"},[a("div",{staticStyle:{width:"70px"}},[a(h.Z,{attrs:{row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"",sm5:""}},[a(i.Z,{attrs:{flat:"",icon:"",disabled:t.loading.estado,color:"terciary"},on:{click:function(a){return t.openPaciente(e.item._id)}}},[a(p.Z,[t._v("fas fa-user-edit")])],1)],1),a(u.Z,{attrs:{xs12:"",sm5:""}},[a(i.Z,{attrs:{flat:"",icon:"",disabled:t.loading.estado,color:"orange darken-2"},on:{click:function(a){return t.editHistorial(e.item._id)}}},[a(p.Z,[t._v("fa-book-medical")])],1)],1)],1)],1)]),a("td",{staticClass:"text-capitalize text-sm-left"},[t._v(t._s(e.item.nombreC))]),a("td",{staticClass:"text-sm-left"},[t._v(t._s(e.item.fec_nac))]),a("td",{staticClass:"text-sm-left"},[t._v(t._s(e.item.documentoC))]),a("td",{staticClass:"text-capitalize text-sm-left"},[t._v(t._s(e.item.direccion))]),a("td",{staticClass:"text-capitalize text-sm-left"},[t._v(t._s(e.item.dir_localidad))]),a("td",{staticClass:"text-sm-left"},[t._v(t._s(e.item.telefono))])])]}}]),model:{value:t.seleccionados,callback:function(a){t.seleccionados=a},expression:"seleccionados"}},[a(m.Z,{attrs:{color:"green",indeterminate:""}})],1)],1),a("dialogPaciente",{attrs:{close:t.closePaciente}}),a("dialogHistorial",{attrs:{close:t.closeHistorial}})],1)],1)},b=[],x=e(629),_=e(9820),y=e(6018),k=e(5049),C=e(4791),Z=e(445),w=e(4920),M=function(){var t=this,a=t._self._c;return a(k.Z,{attrs:{"max-width":"90%",persistent:"",scrollable:""},model:{value:t.dialogHistorial,callback:function(a){t.dialogHistorial=a},expression:"dialogHistorial"}},[a(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[a(w.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[a(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[t._v("fa-book-medical")]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[t._v("Historial Clinico")]),a(g.Cl),a(p.Z,{attrs:{large:"",disabled:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[t._v("cancel_presentation")])],1),a(l.ZB,[a(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(n.Z,{attrs:{"grid-list-md":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a("expandPacienteData"),"ADMIN_ROLE"===t.persona.role?a(u.Z,{attrs:{xs12:"","px-3":""}},[a("pre",[t._v("                // DESARROLLAR RESUMEN expand    Antropometria\n                // DESARROLLAR RESUMEN expand    Medicacion\n                // DESARROLLAR RESUMEN expand    Signos Vitales\n                // DESARROLLAR RESUMEN expand    Vacunas\n                // DESARROLLAR RESUMEN expand    Coberturas Medicas\n              ")])]):t._e(),a("formHistorial",{attrs:{historial_unico:t.historial_unico}}),a(u.Z,{attrs:{xs12:""}},[a(C.Z,{attrs:{focusable:""}},[a("expandMotivos")],1)],1)],1)],1)],1)],1),a(l.h7,[a(h.Z,{attrs:{row:"",wrap:""}},[a(g.Cl),a(i.Z,{staticClass:"error darken-1",attrs:{disabled:t.loading.estado,round:"",loading:t.loading.estado},on:{click:t.close}},[t._v(" Cerrar ")]),a(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:t.loading.estado||!t.valido||t.soloLecturaHistorial,round:"",loading:t.loading.estado},on:{click:function(a){return t.guardarHistorialDB()}}},[t._v(" "+t._s(t.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1),a("dialogMotivo",{attrs:{close:t.closeMotivo}}),a("dialogConsulta",{attrs:{close:t.closeConsulta}})],1)},L=[],$=e(4694),E=function(){var t=this,a=t._self._c;return a(u.Z,{attrs:{xs12:""}},[a(C.Z,{attrs:{focusable:""}},[a($.Z,{staticClass:"grey lighten-4",scopedSlots:t._u([{key:"actions",fn:function(){return[a(p.Z,{attrs:{color:"grey"}},[t._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[a(u.Z,{staticClass:"black--text title",attrs:{xs12:""}},[a("p",[a(p.Z,{attrs:{left:"",medium:"",color:"grey"}},[t._v("person")]),a("b",[t._v(" Datos de "),a("span",{staticStyle:{"text-transform":"capitalize"},domProps:{innerHTML:t._s(` ${t.paciente_data.apellido}, ${t.paciente_data.nombre} ${t.paciente_data.documentoC?`(${t.paciente_data.documentoC})`:""} `)}})])],1),a(d.Z)],1)]},proxy:!0}])},[a(s.Z,[a(l.ZB,{staticClass:"grey lighten-4"},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{staticClass:"capitalizar",attrs:{value:`${t.paciente_data.apellido}, ${t.paciente_data.nombre}`,"prepend-icon":"person",label:"Apellido, Nombre",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{"prepend-icon":"far fa-id-card",label:"Documento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""},model:{value:t.paciente_data.documentoC,callback:function(a){t.$set(t.paciente_data,"documentoC",a)},expression:"paciente_data.documentoC"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{"prepend-icon":"event",label:"Fec. Nacimiento",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""},model:{value:t.paciente_data.fec_nac,callback:function(a){t.$set(t.paciente_data,"fec_nac",a)},expression:"paciente_data.fec_nac"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{"prepend-icon":"phone",label:"Telefono",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""},model:{value:t.paciente_data.telefono,callback:function(a){t.$set(t.paciente_data,"telefono",a)},expression:"paciente_data.telefono"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{"prepend-icon":"home",label:"Domicilio",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""},model:{value:t.paciente_data.direccion,callback:function(a){t.$set(t.paciente_data,"direccion",a)},expression:"paciente_data.direccion"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{"prepend-icon":"fas fa-city",label:"Localidad",type:"text",color:"terciary","background-color":"terciary lighten-3",readonly:""},model:{value:t.paciente_data.dir_localidad,callback:function(a){t.$set(t.paciente_data,"dir_localidad",a)},expression:"paciente_data.dir_localidad"}})],1)],1)],1)],1)],1)],1)],1)},D=[],H={name:"expandPacienteData",data(){return{}},computed:{...(0,x.rn)("hiclem",["paciente_data"])},methods:{}},P=H,z=e(1001),A=(0,z.Z)(P,E,D,!1,null,null,null),S=A.exports,N=e(7416),O=e(7441),F=e(6961),I=e(5084),B=e(4036),J=e(2796),j=e(5730),T=function(){var t=this,a=t._self._c;return a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"","px-3":""}},[a(J.Z,{staticClass:"display-1"},[t._v(" Historial ")])],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaHistorial,clearable:!t.soloLecturaHistorial,"background-color":t.soloLecturaHistorial?"terciary":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:t.profesionalesDB,label:"Profesional Cabecera","prepend-icon":"fas fa-user-md"},on:{"click:clear":function(a){t.$nextTick((()=>t.historial_unico.profesional_cabecera=null))}},model:{value:t.historial_unico.profesional_cabecera,callback:function(a){t.$set(t.historial_unico,"profesional_cabecera",a)},expression:"historial_unico.profesional_cabecera"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(O.Z,{attrs:{readonly:t.soloLecturaHistorial,"background-color":t.soloLecturaHistorial?"terciary":"",color:"terciary","prepend-icon":"smoking_rooms",label:"Fuma: "+(t.historial_unico.fuma?"Si":"No")},model:{value:t.historial_unico.fuma,callback:function(a){t.$set(t.historial_unico,"fuma",a)},expression:"historial_unico.fuma"}})],1),"Masculino"!==t.paciente_data.sexo?a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(I.Z,{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a(f.h,t._g({attrs:{clearable:!t.soloLecturaHistorial,"background-color":t.soloLecturaHistorial?"terciary":"terciary lighten-5",label:"Inicio Embarazo","prepend-icon":"pregnant_woman",readonly:"",color:"terciary darken-3"},model:{value:t.historial_unico.embarazada,callback:function(a){t.$set(t.historial_unico,"embarazada",a)},expression:"historial_unico.embarazada"}},e))]}}],null,!1,200723984),model:{value:t.menufecha1,callback:function(a){t.menufecha1=a},expression:"menufecha1"}},[a(F.Z,{attrs:{readonly:t.soloLecturaHistorial,max:t.hoy,color:"terciary darken-3","header-color":"terciary darken-1",locale:"mx"},on:{change:function(a){t.menufecha1=!1}},model:{value:t.historial_unico.embarazada,callback:function(a){t.$set(t.historial_unico,"embarazada",a)},expression:"historial_unico.embarazada"}})],1)],1):t._e(),"Masculino"!==t.paciente_data.sexo?a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}):t._e(),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaHistorial,clearable:!t.soloLecturaHistorial,"background-color":t.soloLecturaHistorial?"terciary":"terciary lighten-5",items:t.optionsJson.consulta_antecedentes,label:"Antecedentes Patologicos","prepend-icon":"fas fa-diagnoses",color:"terciary",multiple:"",chips:"","deletable-chips":""},model:{value:t.historial_unico.antecedentes_patologicos,callback:function(a){t.$set(t.historial_unico,"antecedentes_patologicos",a)},expression:"historial_unico.antecedentes_patologicos"}})],1),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(j.Z,{attrs:{readonly:t.soloLecturaHistorial,clearable:!t.soloLecturaHistorial,"background-color":t.soloLecturaHistorial?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Observacion General",color:"terciary","prepend-icon":"description"},model:{value:t.historial_unico.observacion,callback:function(a){t.$set(t.historial_unico,"observacion",a)},expression:"historial_unico.observacion"}})],1)],1)},R=[],q={name:"formHistorial",props:["historial_unico"],data(){return{menufecha1:!1,profesionalesDB:[],optionsJson:{}}},computed:{...(0,x.rn)(["hoy"]),...(0,x.rn)("hiclem",["dialogHistorial","paciente_data","soloLecturaHistorial"])},watch:{async dialogHistorial(t){t&&(this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}))}},methods:{...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("profesional",["cargarProfesionalesBusqueda"])}},V=q,G=(0,z.Z)(V,T,R,!1,null,null,null),U=G.exports,Y=e(1415),K=function(){var t=this,a=t._self._c;return a($.Z,{staticClass:"terciary lighten-1",scopedSlots:t._u([{key:"actions",fn:function(){return[a(p.Z,{attrs:{color:"grey lighten-3"}},[t._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[a(u.Z,{staticClass:"black--text subheading",attrs:{xs12:""}},[a("p",[a("b",[a(p.Z,{attrs:{left:"",medium:"",color:"grey lighten-3"}},[t._v("fa-book-medical")]),a("span",{domProps:{innerHTML:t._s(" Motivos de Atencion ")}})],1)]),a(d.Z)],1)]},proxy:!0}])},[a(s.Z,[a(l.ZB,{staticClass:"terciary lighten-2"},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(r.Z,{staticClass:"title text-capitalize terciary elevation-6"},[a(u.Z,{attrs:{xs12:"",sm4:"","d-flex":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:t.opcionesFiltroEstado,label:"Mostrar Motivos"},model:{value:t.filtroEstado,callback:function(a){t.filtroEstado=a},expression:"filtroEstado"}})],1),a(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a(g.Cl),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.persona.historial_clinico<2||t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.editMotivo()}}},[t._v("Nuevo Motivo")]),a(g.Cl),a(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a(f.h,{attrs:{dark:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.motivos,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",{class:t.backgroundClass(e.item),staticStyle:{cursor:"pointer"},on:{click:function(a){return t.editMotivo(e.item)}}},t._l(t.headers,(function(o){return a("td",{key:o.value,class:o.class},[t._v(" "+t._s(o.date?t.mostrarFecha(e.item[o.ruta]):t._get(e.item,o.ruta)||"0"==t._get(e.item,o.ruta)?t._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[a(m.Z,{attrs:{color:"terciary",indeterminate:""}})],1)],1),a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(Y.Z,{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function({on:e}){return[a("b",{staticStyle:{cursor:"pointer"},on:{click:function(a){t.show=!t.show}}},[t._v("Informacion de Colores en Motivos"),a(p.Z,t._g({staticStyle:{transform:"rotate(180deg)"},attrs:{medium:"",color:"orange lighten-4",right:""}},e),[t._v("info_outline")])],1)]}}]),model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[a("pre",[t._v("Activos:\n  "),a("span",{staticClass:"black--text background-color: red lighten-3",staticStyle:{"font-weight":"bold"}},[t._v("Critica: Rojo")]),t._v("\n  "),a("span",{staticClass:"black--text background-color: orange lighten-4",staticStyle:{"font-weight":"bold"}},[t._v("Moderada: Amarillo")]),t._v("\n  "),a("span",{staticClass:"black--text background-color: green lighten-4",staticStyle:{"font-weight":"bold"}},[t._v("Leve: Verde")]),t._v("\n  "),a("span",{staticClass:"black--text background-color: grey lighten-2",staticStyle:{"font-weight":"bold"}},[t._v("Incapaz de evaluar: Gris")]),t._v("\n"),a("span",{staticClass:"black--text background-color: blue lighten-4",staticStyle:{"font-weight":"bold"}},[t._v("Finalizado: Celeste")]),t._v("\n"),a("span",{staticClass:"black--text background-color: blue",staticStyle:{"font-weight":"bold"}},[t._v("Abandonado: Azul")]),t._v("\n"),a("span",{staticClass:"black--text background-color: blue lighten-2",staticStyle:{"font-weight":"bold"}},[t._v("Suspendido: Azul Claro")]),t._v("\n"),a("span",{staticClass:"black--text background-color: blue darken-2",staticStyle:{"font-weight":"bold"}},[t._v("Cancelado: Azul Oscuro")])])])],1)],1)],1)],1)],1)},Q=[],W={name:"expandMotivos",data(){return{paginacion:{sortBy:"createdAt",descending:!0,rowsPerPage:5,page:1},show:!1,search:"",headers:[{text:"Fecha Inicial",value:"createdAt",class:"text-sm-left",ruta:"createdAt",date:!0,width:"10%"},{text:"Especialidad",value:"motivo_especialidad",class:"text-capitalize text-sm-left",ruta:"motivo_especialidad",width:"25%"},{text:"Descripcion / Sintomas / Programas de control",value:"descripcion",class:"text-sm-left",ruta:"descripcion",width:"55%"},{text:"Severidad",value:"severidad",class:"text-sm-left",ruta:"severidad",width:"10%"}],filtroEstado:null,opcionesFiltroEstado:[{text:"Todos",value:null}]}},async created(){this.opcionesFiltroEstado=[{text:"Todos",value:null},...(await this.returnOptionsJSON({key:"hiclem",opcion:"base"})).motivo_estado]},computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["motivos_data"]),motivos(){let t=[...this.motivos_data];return this.filtroEstado&&(t=[...this.motivos_data.filter((t=>t.estado===this.filtroEstado))]),this.paginacion.page>Math.ceil(t.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),t}},methods:{...(0,x.OI)("hiclem",["actualizarDialogMotivoHistorial"]),...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("hiclem",["buscarHistorialMotivoConsultas"]),backgroundClass(t){if(!t)return"";try{return"Activo"===t.estado?"Critica"===t.severidad?"background-color: red lighten-3":"Moderada"===t.severidad?"background-color: orange lighten-4":"Leve"===t.severidad?"background-color: green lighten-4":"Incapaz de evaluar"===t.severidad?"background-color: grey lighten-2":"background-color: terciary lighten-5":"Finalizado"===t.estado?"background-color: blue lighten-4":"Abandonado"===t.estado?"background-color: blue":"Suspendido"===t.estado?"background-color: blue lighten-2":"Cancelado"===t.estado?"background-color: blue darken-2":"background-color: terciary lighten-5"}catch(a){return""}},async editMotivo(t){await this.buscarHistorialMotivoConsultas(t),this.actualizarDialogMotivoHistorial(!0)}}},X=W,tt=(0,z.Z)(X,K,Q,!1,null,null,null),at=tt.exports,et=function(){var t=this,a=t._self._c;return a(k.Z,{attrs:{"max-width":"85%",persistent:"",scrollable:""},model:{value:t.dialogMotivoHistorial,callback:function(a){t.dialogMotivoHistorial=a},expression:"dialogMotivoHistorial"}},[a(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[a(w.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[a(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[t._v("fa-book-medical")]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[t._v("Motivo")]),a(g.Cl),a(p.Z,{attrs:{large:"",disabled:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[t._v("cancel_presentation")])],1),a(l.ZB,[a(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(n.Z,{attrs:{"grid-list-md":""}},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t.motivoEdit.id?a("expandPacienteData"):t._e(),t.motivoEdit.id&&"ADMIN_ROLE"===t.persona.role?a(u.Z,{attrs:{xs12:"","px-3":""}},[a("pre",[t._v("                // Desarrollar Estudios / Contra-Referencias\n                // Desarrollar Medicamentos\n              ")])]):t._e(),a("formMotivo",{attrs:{motivo:t.motivoEdit}}),t.motivoEdit.id?a(u.Z,{attrs:{xs12:""}},[a(C.Z,{attrs:{focusable:""}},[a("expandConsulta")],1)],1):t._e()],1)],1)],1)],1),a(l.h7,[a(h.Z,{attrs:{row:"",wrap:""}},[a(g.Cl),a(i.Z,{staticClass:"error darken-1",attrs:{disabled:t.loading.estado,round:"",loading:t.loading.estado},on:{click:t.close}},[t._v(" Cerrar ")]),a(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:t.loading.estado||!t.valido||t.soloLecturaMotivo,round:"",loading:t.loading.estado},on:{click:function(a){return t.guardarHistorialMotivo({motivo:t.motivoEdit,validate:t.$refs.form.validate,finish:t.close})}}},[t._v(" "+t._s(t.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},ot=[],it=e(1232),st=function(){var t=this,a=t._self._c;return a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a("dateSelect",{key:`motivo-${t.dialogMotivoHistorial}-1`,staticClass:"capitalizar",attrs:{soloLectura:t.soloLecturaMotivo,value:t.motivo.createdAt,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha de Inicio",icon:"event",requerido:!0,min:"",max:t.hoy,filtro:""},model:{value:t.motivo.createdAt,callback:function(a){t.$set(t.motivo,"createdAt",a)},expression:"motivo.createdAt"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5",color:"terciary",items:t.optionsJson.motivo_severidad,label:"Severidad","prepend-icon":"traffic",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.motivo.severidad=null))}},model:{value:t.motivo.severidad,callback:function(a){t.$set(t.motivo,"severidad",a)},expression:"motivo.severidad"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5",color:"terciary",items:t.optionsJson.motivo_especialidad,label:"Especialidad del Motivo","prepend-icon":"fas fa-stethoscope",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.motivo.motivo_especialidad=null))}},model:{value:t.motivo.motivo_especialidad,callback:function(a){t.$set(t.motivo,"motivo_especialidad",a)},expression:"motivo.motivo_especialidad"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:t.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.motivo.profesional=null))}},model:{value:t.motivo.profesional,callback:function(a){t.$set(t.motivo,"profesional",a)},expression:"motivo.profesional"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5",color:"terciary",items:t.optionsJson.motivo_estado,label:"Estado","prepend-icon":"fas fa-tasks",rules:[...t.rules.requerido]},model:{value:t.motivo.estado,callback:function(a){t.$set(t.motivo,"estado",a)},expression:"motivo.estado"}})],1),"Activo"!=t.motivo.estado?a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a("dateSelect",{key:`motivo-${t.dialogMotivoHistorial}-2`,staticClass:"capitalizar",attrs:{soloLectura:t.soloLecturaMotivo,value:t.motivo.estadoFecha,"background-color":"terciary lighten-5",color:"terciary",label:`Fecha de ${t.motivo.estado}`,icon:"event",requerido:!0,min:"",max:t.hoy,filtro:"",rules:[...t.rules.requerido]},model:{value:t.motivo.estadoFecha,callback:function(a){t.$set(t.motivo,"estadoFecha",a)},expression:"motivo.estadoFecha"}})],1):t._e(),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(it.Z,{attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5",color:"terciary",items:t.optionsActividadesJson,label:"Descripcion / Sintomas / Programas de control","prepend-icon":"fact_check",rules:[...t.rules.requerido],"auto-grow":"",rows:"2"},on:{"click:clear":function(a){t.$nextTick((()=>t.motivo.actividad=null))}},model:{value:t.motivo.descripcion,callback:function(a){t.$set(t.motivo,"descripcion",a)},expression:"motivo.descripcion"}})],1),a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(j.Z,{attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Evolucion",color:"terciary","prepend-icon":"fa-book-medical"},model:{value:t.motivo.evolucion,callback:function(a){t.$set(t.motivo,"evolucion",a)},expression:"motivo.evolucion"}})],1),a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(j.Z,{attrs:{readonly:t.soloLecturaMotivo,clearable:!t.soloLecturaMotivo,"background-color":t.soloLecturaMotivo?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Diagnostico",color:"terciary","prepend-icon":"fas fa-comment-medical"},model:{value:t.motivo.diagnostico,callback:function(a){t.$set(t.motivo,"diagnostico",a)},expression:"motivo.diagnostico"}})],1)],1)},lt=[],rt=e(5967),nt={name:"formMotivo",components:{dateSelect:rt.Z},props:["motivo"],data(){return{profesionalesDB:[],optionsJson:{}}},computed:{...(0,x.rn)(["hoy","rules"]),...(0,x.rn)("hiclem",["dialogMotivoHistorial","soloLecturaMotivo"]),optionsActividadesJson(){return this.motivo.motivo_especialidad&&this.optionsJson.motivo_actividades?this.optionsJson.motivo_actividades[this.motivo.motivo_especialidad]:[]}},watch:{async dialogMotivoHistorial(t){t&&(this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}))},"motivo.estado"(t){"Activo"==t&&(this.motivo.estadoFecha="")}},methods:{...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("profesional",["cargarProfesionalesBusqueda"])}},ct=nt,dt=(0,z.Z)(ct,st,lt,!1,null,null,null),ut=dt.exports,pt=function(){var t=this,a=t._self._c;return a($.Z,{staticClass:"terciary lighten-1",scopedSlots:t._u([{key:"actions",fn:function(){return[a(p.Z,{attrs:{color:"grey lighten-3"}},[t._v("expand_more")])]},proxy:!0},{key:"header",fn:function(){return[a(u.Z,{staticClass:"black--text subheading",attrs:{xs12:""}},[a("p",[a("b",[a(p.Z,{attrs:{left:"",medium:"",color:"grey lighten-3"}},[t._v("fa-book-medical")]),a("span",{domProps:{innerHTML:t._s(" Consultas ")}})],1)]),a(d.Z)],1)]},proxy:!0}])},[a(s.Z,[a(l.ZB,{staticClass:"terciary lighten-2"},[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(r.Z,{staticClass:"title text-capitalize terciary elevation-6"},[a(u.Z,{attrs:{xs12:"",sm4:"","d-flex":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{dark:"",color:"grey","item-value":"value","item-text":"text",items:t.filtros,label:"Mostrar Especialidad"},model:{value:t.filtro,callback:function(a){t.filtro=a},expression:"filtro"}})],1),a(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a(g.Cl),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:t.persona.historial_clinico<2||t.loading.estado,loading:t.loading.estado},on:{click:function(a){return t.editConsulta()}}},[t._v("Nueva Consulta")]),a(g.Cl),a(d.Z,{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a(f.h,{attrs:{dark:"",clearable:"",color:"grey lighten-3","append-icon":"search",label:"Filtrar","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),a(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:t.headers,items:t.consultas,"item-key":"_id",pagination:t.paginacion,"rows-per-page-items":[5,10,25,50],loading:t.loading.estado,search:t.search},on:{"update:pagination":function(a){t.paginacion=a}},scopedSlots:t._u([{key:"no-data",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[t._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[a(o.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"info",icon:"warning"}},[t._v(' No se encontraron resultados para "'+t._s(t.search)+'". ')])]},proxy:!0},{key:"items",fn:function(e){return[a("tr",{class:t.backgroundClass(e.item.consulta),staticStyle:{cursor:"pointer"},on:{click:function(a){return t.editConsulta(e.item)}}},t._l(t.headers,(function(o){return a("td",{key:o.value,class:o.class},[t._v(" "+t._s(o.date?t.mostrarFecha(e.item[o.ruta]):t._get(e.item,o.ruta)||"0"==t._get(e.item,o.ruta)?t._get(e.item,o.ruta):"S/D")+" ")])})),0)]}}])},[a(m.Z,{attrs:{color:"terciary",indeterminate:""}})],1)],1)],1)],1)],1)],1)},ht=[],mt={name:"expandConsulta",data(){return{paginacion:{sortBy:"fecha",descending:!0,rowsPerPage:5,page:1},search:"",headers_base:[{text:"Fecha",value:"fecha",class:"text-sm-left",ruta:"fecha",date:!0},{text:"Especialidad",value:"especialidad",class:"text-sm-left",ruta:"especialidad"},{text:"Actividad",value:"actividad",class:"text-sm-left",ruta:"actividad"},{text:"Observacion",value:"observacion",class:"text-sm-left",ruta:"observacion"}],filtro:"Todos",filtros:[{text:"Todos",value:"Todos"},{text:"Nutricion",value:"Nutricion"}]}},computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["consultas_data"]),headers(){return"Todos"===this.filtro?this.headers_base:"Nutricion"===this.filtro?[...this.headers_base,{text:"Talla [cm]",value:"talla",class:"text-sm-left",ruta:"talla"},{text:"Peso [gr]",value:"peso",class:"text-sm-left",ruta:"peso"},{text:"IMC",value:"IMC",class:"text-sm-left",ruta:"IMC"},{text:"Diagnostico",value:"diagnostico",class:"text-sm-left",ruta:"diagnostico"}]:void 0},consultas(){let t=this.consultas_data;return"Todos"!==this.filtro&&(t=[...this.consultas_data.filter((t=>t.especialidad===this.filtro))]),this.paginacion.page>Math.ceil(t.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1),t}},methods:{...(0,x.OI)("hiclem",["actualizarDialogConsultaHistorial","actualizarHistorialConsultaData"]),backgroundClass(t){if(!t)return"";try{return"background-color: grey lighten-4"}catch(a){return""}},async editConsulta(t){this.actualizarHistorialConsultaData(t),this.actualizarDialogConsultaHistorial(!0)}}},gt=mt,ft=(0,z.Z)(gt,pt,ht,!1,null,null,null),vt=ft.exports,bt={name:"dialogMotivo",props:["close"],components:{expandPacienteData:S,formMotivo:ut,expandConsulta:vt},data:()=>({valido:!0,motivoEdit:{}}),computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["soloLecturaMotivo","dialogMotivoHistorial","historial_motivo_data"])},watch:{dialogMotivoHistorial(t){t?(this.motivoEdit={...this.historial_motivo_data},this.actualizarLecturaMotivo({editar:!!this.motivoEdit.id,estado:this.motivoEdit.estado})):this.motivoEdit={},this.$refs.form.resetValidation()}},methods:{...(0,x.nv)("hiclem",["actualizarLecturaMotivo","guardarHistorialMotivo"])}},xt=bt,_t=(0,z.Z)(xt,et,ot,!1,null,null,null),yt=_t.exports,kt=function(){var t=this,a=t._self._c;return a(k.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:t.dialogConsultaHistorial,callback:function(a){t.dialogConsultaHistorial=a},expression:"dialogConsultaHistorial"}},[a(s.Z,{staticClass:"dialog-draggable-window",attrs:{"max-height":"75vh",tile:""}},[a(w.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[a(p.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"orange darken-2"}},[t._v("fa-book-medical")]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[t._v("Consulta")]),a(g.Cl),a(p.Z,{attrs:{large:"",disabled:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[t._v("cancel_presentation")])],1),a(l.ZB,[a(Z.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(n.Z,{attrs:{"grid-list-md":""}},[a(h.Z,{attrs:{wrap:""}},[a("expandPacienteData"),a(u.Z,{attrs:{xs12:""}},[a("formConsulta",{attrs:{consultaEdit:t.consultaEdit}})],1),"Nutricion"===t.consultaEdit.especialidad?a(u.Z,{attrs:{xs12:""}},[a("formNutricion",{attrs:{consultaEdit:t.consultaEdit}})],1):t._e(),"Diabetes"===t.consultaEdit.especialidad?a(u.Z,{attrs:{xs12:""}},[a("pre",[t._v("                Desarrollando especialidad Diabetes Hoja 2.\n                  Medicamentos. (Cambios de medicacion[autoCargar en Medicamentos])\n                  HA1C. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Fondo de Ojo. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Funcion Renal. (se solicito el estudio[autoCargar en estudios] o el resultado)\n                  Ecocardiograma. (se solicito el estudio[autoCargar en estudios] o el resultado)\n              ")])]):t._e()],1)],1)],1)],1),a(l.h7,[a(h.Z,{attrs:{row:"",wrap:""}},[a(g.Cl),a(i.Z,{staticClass:"error darken-1",attrs:{disabled:t.loading.estado,round:"",loading:t.loading.estado},on:{click:t.close}},[t._v(" Cerrar ")]),a(i.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:t.loading.estado||!t.valido||t.soloLecturaConsultaMedica,round:"",loading:t.loading.estado},on:{click:function(a){return t.guardarHistorialConsulta({consulta:t.consultaEdit,validate:t.$refs.form.validate,finish:t.close})}}},[t._v(" "+t._s(t.valido?"Guardar Cambios":"Formulario No valido")+" ")])],1)],1)],1)],1)},Ct=[],Zt=function(){var t=this,a=t._self._c;return a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"cake",label:"Edad",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumero,t.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Nacimiento.","persistent-hint":""},model:{value:t.consulta.edad_años,callback:function(a){t.$set(t.consulta,"edad_años",a)},expression:"consulta.edad_años"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"fas fa-venus-mars",label:"Sexo",type:"text",color:"cuarto","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.consulta.sexo,callback:function(a){t.$set(t.consulta,"sexo",a)},expression:"consulta.sexo"}})],1),a(u.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),a(u.Z,{attrs:{xs12:"",sm8:"","px-3":""}},[a(it.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","item-value":"area","item-text":"area",items:t.unidadesAtencionDB,label:"Derivado de... (Opcional)","prepend-icon":"fas fa-hand-holding-medical",color:"terciary","return-object":!1},on:{"click:clear":function(a){t.$nextTick((()=>t.consulta.derivado=null))}},model:{value:t.consulta.derivado,callback:function(a){t.$set(t.consulta,"derivado",a)},expression:"consulta.derivado"}})],1),a(u.Z,{attrs:{xs12:"",sm2:"","px-3":""}}),t.consulta.derivado?a(u.Z,{attrs:{xs12:"","px-3":""}},[a(j.Z,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","auto-grow":"",label:"Motivo de Referencia",color:"terciary","prepend-icon":"fact_check",rows:"2",rules:[...t.rules.requerido]},model:{value:t.consulta.motivoReferencia,callback:function(a){t.$set(t.consulta,"motivoReferencia",a)},expression:"consulta.motivoReferencia"}})],1):t._e(),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","item-value":"id","item-text":"area",items:t.unidadesAtencionDB,label:"Lugar de Atencion","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.consulta.area=null))}},model:{value:t.consulta.area,callback:function(a){t.$set(t.consulta,"area",a)},expression:"consulta.area"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a("dateSelect",{staticClass:"capitalizar",attrs:{soloLectura:t.soloLecturaConsultaMedica,value:t.consulta.fecha,"background-color":"terciary lighten-5",color:"terciary",label:"Fecha",icon:"event",requerido:!0,min:"",max:t.hoy,filtro:""},model:{value:t.consulta.fecha,callback:function(a){t.$set(t.consulta,"fecha",a)},expression:"consulta.fecha"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:t.optionsJson.motivo_especialidad,label:"Especialidad de la Consulta","prepend-icon":"fas fa-stethoscope",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.consulta.especialidad=null))},change:t.resetForm},model:{value:t.consulta.especialidad,callback:function(a){t.$set(t.consulta,"especialidad",a)},expression:"consulta.especialidad"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",color:"terciary",items:t.optionsActividadesJson,label:"Actividad de la Consulta","prepend-icon":"home_repair_service",rules:[...t.rules.requerido]},on:{"click:clear":function(a){t.$nextTick((()=>t.consulta.actividad=null))}},model:{value:t.consulta.actividad,callback:function(a){t.$set(t.consulta,"actividad",a)},expression:"consulta.actividad"}})],1),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar text-capitalize",attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",color:"terciary","item-value":"id","item-text":"nombreC",items:t.profesionalesDB,label:"Profesional","prepend-icon":"fas fa-user-md",rules:[...t.rules.requerido],"menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},on:{"click:clear":function(a){t.$nextTick((()=>t.consulta.profesional=[]))}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("label",{staticStyle:{"text-transform":"capitalize",cursor:"pointer"}},[a(p.Z,{attrs:{left:"",color:t.consulta&&t.consulta.profesional&&e.item.id&&-1!==t.consulta.profesional.indexOf(e.item.id)?"terciary":"black"}},[t._v(t._s(t.consulta&&t.consulta.profesional&&e.item.id&&-1!==t.consulta.profesional.indexOf(e.item.id)?"check_box":"check_box_outline_blank"))]),t._v(" "+t._s(e.item.nombreC)+" ")],1)]}}]),model:{value:t.consulta.profesional,callback:function(a){t.$set(t.consulta,"profesional",a)},expression:"consulta.profesional"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),a(u.Z,{attrs:{xs12:"","mx-3":""}},[a(j.Z,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","auto-grow":"",rows:"2",label:"Observacion",color:"terciary","prepend-icon":"visibility"},model:{value:t.consulta.observacion,callback:function(a){t.$set(t.consulta,"observacion",a)},expression:"consulta.observacion"}})],1)],1)},wt=[],Mt={name:"formConsulta",components:{dateSelect:rt.Z},props:["consultaEdit"],data(){return{profesionalesDB:[],unidadesAtencionDB:[],optionsJson:{}}},computed:{...(0,x.rn)(["hoy","rules"]),...(0,x.rn)("hiclem",["soloLecturaConsultaMedica","dialogConsultaHistorial","consulta_base"]),consulta(){return this.consultaEdit},optionsActividadesJson(){return this.consulta.especialidad&&this.optionsJson.consulta_actividades?this.optionsJson.consulta_actividades[this.consulta.especialidad]:[]}},watch:{async dialogConsultaHistorial(t){t&&(this.profesionalesDB=await this.cargarProfesionalesBusqueda(),this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.unidadesAtencionDB.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"})))},"consulta.derivado"(t){t||(this.consulta.motivoReferencia="")}},methods:{...(0,x.nv)(["returnOptionsJSON"]),...(0,x.nv)("main_areas",["buscarAreaFiltros"]),...(0,x.nv)("profesional",["cargarProfesionalesBusqueda"]),resetForm(t){t&&(this.consulta.actividad=null);for(const a in this.consulta)Object.hasOwnProperty.call(this.consulta,a)&&(Object.keys(this.consulta_base).includes(a)||delete this.consulta[a])}}},Lt=Mt,$t=(0,z.Z)(Lt,Zt,wt,!1,null,null,null),Et=$t.exports,Dt=function(){var t=this,a=t._self._c;return"Nutricionista"===t.consulta.actividad?a(h.Z,{staticClass:"grey lighten-3",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t.consulta.embarazada_semana?a(u.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):t._e(),t.consulta.embarazada_semana?a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"pregnant_woman",label:"Embarazada Semana",type:"number",color:"cuarto","validate-on-blur":"",rules:[...t.rules.soloNumero,t.rules.minNumber(0)],hint:"Se autocalcula con la Fecha de Embarazo (Historial Gral)","persistent-hint":""},model:{value:t.consulta.embarazada_semana,callback:function(a){t.$set(t.consulta,"embarazada_semana",a)},expression:"consulta.embarazada_semana"}})],1):t._e(),t.consulta.embarazada_semana?a(u.Z,{attrs:{xs12:"",sm3:"","px-3":""}}):t._e(),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",items:t.optionsJson.consulta_presentacion,label:"Presentacion","prepend-icon":"fact_check",color:"terciary",rules:[...t.rules.requerido]},model:{value:t.consulta.tipo_presentacion,callback:function(a){t.$set(t.consulta,"tipo_presentacion",a)},expression:"consulta.tipo_presentacion"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(O.Z,{attrs:{readonly:"","background-color":"cuarto lighten-5",color:"cuarto","prepend-icon":"smoking_rooms",label:"Fuma: "+(t.consulta.fuma?"Si":"No"),hint:"Muestra el valor del Historial Gral.","persistent-hint":""},model:{value:t.consulta.fuma,callback:function(a){t.$set(t.consulta,"fuma",a)},expression:"consulta.fuma"}})],1),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(B.r,{attrs:{readonly:"","background-color":"cuarto lighten-5",items:t.optionsJson.consulta_antecedentes,label:"Antecedentes Patologicos","prepend-icon":"fas fa-diagnoses",color:"cuarto",multiple:"",hint:"Muestra valores del Historial Gral.","persistent-hint":""},model:{value:t.consulta.antecedentes_patologicos,callback:function(a){t.$set(t.consulta,"antecedentes_patologicos",a)},expression:"consulta.antecedentes_patologicos"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Diastolica (Baja) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.tension_arterial_diastolica,callback:function(a){t.$set(t.consulta,"tension_arterial_diastolica",a)},expression:"consulta.tension_arterial_diastolica"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-heartbeat",label:"TA Sistolica (Alta) [mm Hg]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.tension_arterial_sistolica,callback:function(a){t.$set(t.consulta,"tension_arterial_sistolica",a)},expression:"consulta.tension_arterial_sistolica"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-stroopwafel",label:"Colesterol [mg/dl]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.colesterol,callback:function(a){t.$set(t.consulta,"colesterol",a)},expression:"consulta.colesterol"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":t.colorCardio,items:t.optionsJsonNutricion.consulta_riesgo_cardiovascular_colesterol,label:"Riesgo Cardiovascular Colesterol [%]","prepend-icon":"heart_broken",color:"terciary","validate-on-blur":"",rules:[...t.rules.requerido]},model:{value:t.consulta.riesgo_cardiovascular_colesterol,callback:function(a){t.$set(t.consulta,"riesgo_cardiovascular_colesterol",a)},expression:"consulta.riesgo_cardiovascular_colesterol"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-arrows-alt-v",label:"Talla [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.talla,callback:function(a){t.$set(t.consulta,"talla",a)},expression:"consulta.talla"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"fas fa-weight",label:"Peso [gr]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.peso,callback:function(a){t.$set(t.consulta,"peso",a)},expression:"consulta.peso"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5","prepend-icon":"radio_button_unchecked",label:"Cintura [cm]",type:"number",color:"terciary","validate-on-blur":"",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)]},model:{value:t.consulta.cintura,callback:function(a){t.$set(t.consulta,"cintura",a)},expression:"consulta.cintura"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(f.h,{attrs:{readonly:"","background-color":"cuarto lighten-5","prepend-icon":"policy",label:"IMC",type:"number",color:"cuarto",rules:[...t.rules.requerido,...t.rules.soloNumeroMas,t.rules.minNumber(0)],hint:"Se autocalcula con la Talla y el Peso.","persistent-hint":""},model:{value:t.consulta.IMC,callback:function(a){t.$set(t.consulta,"IMC",a)},expression:"consulta.IMC"}})],1),a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(B.r,{attrs:{readonly:"","background-color":`${t.colorDiagnostic}`,"prepend-icon":"visibility",items:t.optionsJsonNutricion.consulta_diagnostico,label:"Diagnostico",color:"cuarto",hint:"Se autocalcula con el IMC.","persistent-hint":""},model:{value:t.consulta.diagnostico,callback:function(a){t.$set(t.consulta,"diagnostico",a)},expression:"consulta.diagnostico"}})],1),t.consulta.edad_años&&t.consulta.edad_años<=19?a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",items:t.optionsJsonNutricion.consulta_puntaje_z,label:"Puntaje Z","prepend-icon":"Z",color:"terciary"},model:{value:t.consulta.puntaje_z,callback:function(a){t.$set(t.consulta,"puntaje_z",a)},expression:"consulta.puntaje_z"}})],1):a(u.Z,{attrs:{xs12:"",sm6:"","px-3":""}}),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",items:t.optionsJsonNutricion.consulta_habitos_saludables,label:"Habitos Saludables","prepend-icon":"fas fa-leaf",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:t.consulta.habitos_saludables,callback:function(a){t.$set(t.consulta,"habitos_saludables",a)},expression:"consulta.habitos_saludables"}})],1),a(u.Z,{attrs:{xs12:"","px-3":""}},[a(B.r,{attrs:{readonly:t.soloLecturaConsultaMedica,clearable:!t.soloLecturaConsultaMedica,"background-color":t.soloLecturaConsultaMedica?"terciary lighten-2":"terciary lighten-5",items:t.optionsJsonNutricion.consulta_habitos_no_saludables,label:"Habitos No Saludables","prepend-icon":"fastfood",color:"terciary","menu-props":{auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:t.consulta.habitos_no_saludables,callback:function(a){t.$set(t.consulta,"habitos_no_saludables",a)},expression:"consulta.habitos_no_saludables"}})],1)],1):t._e()},Ht=[],Pt={name:"formNutricion",components:{},props:["consultaEdit"],data(){return{colorDiagnostic:"cuarto lighten-5",optionsJson:{},optionsJsonNutricion:{}}},computed:{...(0,x.rn)(["rules"]),...(0,x.rn)("hiclem",["soloLecturaConsultaMedica","historial_data","consulta_base"]),consulta(){return this.consultaEdit.peso&&this.consultaEdit.talla?(this.$set(this.consultaEdit,"IMC",(this.consultaEdit.peso/1e3/(this.consultaEdit.talla/100)**2).toFixed(2)),this.consultaEdit.IMC<0?(this.$set(this.consultaEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"):this.consultaEdit.IMC<18.5?(this.$set(this.consultaEdit,"diagnostico","Bajo Peso"),this.colorDiagnostic="yellow lighten-2"):this.consultaEdit.IMC<25?(this.$set(this.consultaEdit,"diagnostico","Normopeso"),this.colorDiagnostic="white"):this.consultaEdit.IMC<30?(this.$set(this.consultaEdit,"diagnostico","Sobrepeso"),this.colorDiagnostic="yellow lighten-2"):this.consultaEdit.IMC<35?(this.$set(this.consultaEdit,"diagnostico","Obesidad 1"),this.colorDiagnostic="orange lighten-2"):this.consultaEdit.IMC<40?(this.$set(this.consultaEdit,"diagnostico","Obesidad 2"),this.colorDiagnostic="red lighten-2"):(this.$set(this.consultaEdit,"diagnostico","Obesidad Morbida"),this.colorDiagnostic="red")):(this.$set(this.consultaEdit,"IMC",null),this.$set(this.consultaEdit,"diagnostico",null),this.colorDiagnostic="cuarto lighten-5"),this.consultaEdit},colorCardio(){return this.consultaEdit.riesgo_cardiovascular_colesterol?"menor a 10%"===this.consultaEdit.riesgo_cardiovascular_colesterol?"white":"10-20%"===this.consultaEdit.riesgo_cardiovascular_colesterol?"yellow lighten-2":"20-30%"===this.consultaEdit.riesgo_cardiovascular_colesterol?"orange lighten-2":"30-40%"===this.consultaEdit.riesgo_cardiovascular_colesterol?"red lighten-2":"red":"terciary lighten-5"}},watch:{"consultaEdit.actividad"(t){if("Coordinador"!==t){let t=this.autoCalculoInicial();for(const a in t)Object.hasOwnProperty.call(t,a)&&this.$set(this.consultaEdit,a,t[a]);return this.consultaEdit}for(const a in this.consultaEdit)if(Object.hasOwnProperty.call(this.consultaEdit,a)&&!Object.keys(this.consulta_base).includes(a))switch(typeof this.consultaEdit[a]){case"object":if(Array.isArray(this.consultaEdit[a])){this.$set(this.consultaEdit,a,null);break}this.$set(this.consultaEdit,a,null);break;case"string":case"number":case"boolean":this.$set(this.consultaEdit,a,"");break;case"undefined":this.$set(this.consultaEdit,a,null);break;default:this.$set(this.consultaEdit,a,"")}}},async created(){this.optionsJson=await this.returnOptionsJSON({key:"hiclem",opcion:"base"}),this.optionsJsonNutricion=await this.returnOptionsJSON({key:"hiclem",opcion:"nutricion"})},methods:{...(0,x.nv)(["returnOptionsJSON"]),autoCalculoInicial(){let t={};return t.antecedentes_patologicos=this.consultaEdit.antecedentes_patologicos??this.historial_data.antecedentes_patologicos,t.fuma=this.consultaEdit.fuma??this.historial_data.fuma,t.embarazada_semana=this.consultaEdit.embarazada_semana??this.getSemanas(this.historial_data.embarazada),t}}},zt=Pt,At=(0,z.Z)(zt,Dt,Ht,!1,null,null,null),St=At.exports,Nt={name:"dialogConsulta",props:["close"],components:{expandPacienteData:S,formConsulta:Et,formNutricion:St},data:()=>({valido:!0,consultaEdit:{}}),computed:{...(0,x.rn)(["loading"]),...(0,x.rn)("hiclem",["soloLecturaConsultaMedica","dialogConsultaHistorial","historial_consulta_data"])},watch:{dialogConsultaHistorial(t){t?(this.consultaEdit={...this.historial_consulta_data},this.actualizarLecturaConsultaMedica({editar:!!this.consultaEdit.id,consulta:{usuario_modifico:this.consultaEdit.usuario_modifico,createdAt:this.mostrarFecha(this.consultaEdit.createdAt)}})):this.consultaEdit={},this.$refs.form.resetValidation()}},methods:{...(0,x.nv)("hiclem",["actualizarLecturaConsultaMedica","guardarHistorialConsulta"])}},Ot=Nt,Ft=(0,z.Z)(Ot,kt,Ct,!1,null,null,null),It=Ft.exports,Bt={name:"dialogHistorial",props:["close"],components:{expandPacienteData:S,formHistorial:U,expandMotivos:at,dialogMotivo:yt,dialogConsulta:It},data:()=>({valido:!0,historial_unico:{}}),computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["soloLecturaHistorial","dialogHistorial","pacienteIdHistorial","historial_data","historial_data_base"])},watch:{async dialogHistorial(t){t&&(this.historial_unico=this._cloneDeep(this.historial_data_base),this.pacienteIdHistorial&&await this.recargarPaciente(this.pacienteIdHistorial),this.historial_unico=Object.assign(this.historial_unico,this._cloneDeep(this.historial_data)),this.actualizarLecturaHistorial({editar:!!this.historial_unico.id})),this.$refs.form.resetValidation()}},beforeMount(){this.historial_unico=this._cloneDeep(this.historial_data_base)},methods:{...(0,x.nv)("paciente",["buscarPacienteFiltros"]),...(0,x.nv)("hiclem",["actualizarLecturaHistorial","buscarHistorialPacienteID","buscarHistorialMotivoConsultas","guardarHistorial"]),...(0,x.OI)("hiclem",["actualizarPacienteData","actualizarDialogMotivoHistorial","actualizarHistorialMotivoData","actualizarDialogConsultaHistorial","actualizarHistorialConsultaData"]),async recargarPaciente(t){let a=await this.buscarPacienteFiltros({filtro:{_id:t},populate:"no",select:"nombre apellido dir_calle dir_numero direccion tipo_doc documento documentoC telefono fec_nac dir_localidad sexo",limite:1});this.actualizarPacienteData(a?.[0]||{}),await this.buscarHistorialPacienteID(t),this.historial_unico=Object.assign({},this.historial_data),this.historial_unico.paciente=t},async guardarHistorialDB(){await this.guardarHistorial({historial:this.historial_unico,validate:this.$refs.form.validate}),await this.recargarPaciente(this.pacienteIdHistorial)},async closeMotivo(){setTimeout((()=>{this.actualizarHistorialMotivoData({}),this.actualizarDialogMotivoHistorial(!1)}),300),await this.recargarPaciente(this.pacienteIdHistorial)},async closeConsulta(){setTimeout((()=>{this.actualizarHistorialConsultaData({}),this.actualizarDialogConsultaHistorial(!1)}),300),await this.buscarHistorialMotivoConsultas({recargar:!0}),await this.recargarPaciente(this.pacienteIdHistorial)}}},Jt=Bt,jt=(0,z.Z)(Jt,M,L,!1,null,null,null),Tt=jt.exports,Rt=function(){var t=this,a=t._self._c;return a("div",[a(h.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(u.Z,{attrs:{xs11:"",cuarto:"","lighten-1":"","px-3":""}},[a("h4",{staticClass:"title white--text"},[t._v("Historiales Clinicos de Unidades Sanitarias")])]),a(u.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(N.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto","item-value":"id","item-text":"area",items:t.unidadesAtencion,label:"Unidad Sanitaria","prepend-icon":"fa-house-medical-flag"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.hist_salitas.area=null))}},model:{value:t.filtro.hist_salitas.area,callback:function(a){t.$set(t.filtro.hist_salitas,"area",a)},expression:"filtro.hist_salitas.area"}})],1),a(u.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(f.h,{attrs:{clearable:"","background-color":"cuarto lighten-5",color:"cuarto",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",type:"number",label:"# Historial","prepend-icon":"fas fa-file-medical",counter:"9"},model:{value:t.filtro.hist_salitas.historial,callback:function(a){t.$set(t.filtro.hist_salitas,"historial",a)},expression:"filtro.hist_salitas.historial"}})],1)],1)],1)},qt=[],Vt={name:"formFiltro",props:["filtro"],data(){return{unidadesAtencion:[]}},created(){},async mounted(){this.unidadesAtencion.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,x.nv)("main_areas",["buscarAreaFiltros"])}},Gt=Vt,Ut=(0,z.Z)(Gt,Rt,qt,!1,null,null,null),Yt=Ut.exports,Kt={name:"clinicoBuscar",components:{formFiltroPaciente:y.Z,formFiltroHistorial:Yt,dialogPaciente:_.Z,dialogHistorial:Tt},data:()=>({paginacion:{sortBy:"nombreC",descending:!1,rowsPerPage:10,page:1},search:"",headers:[{text:"Acciones",value:"_id",sortable:!1,width:"5%"},{text:"Nombre Completo",value:"nombreC",width:"25%"},{text:"Fec. Nac.",value:"fec_nac",width:"10%"},{text:"Documento",value:"documentoC",width:"10%"},{text:"Domicilio",value:"direccion",width:"25%"},{text:"Localidad",value:"dir_localidad",width:"10%"},{text:"Telefono",value:"telefono",width:"15%"}],pacientesDB:[],filtroPacientes:{apellido:"",nombre:"",documento:"",dir_barrio:"",dir_localidad:"",hist_salitas:{area:null,historial:""}},ultimoFiltro:"todos"}),computed:{...(0,x.rn)(["loading","persona"]),...(0,x.rn)("hiclem",["pacienteIdHistorial"])},methods:{...(0,x.OI)("paciente",["actualizarDialogPaciente","actualizarPacienteID"]),...(0,x.nv)("paciente",["buscarPacienteFiltros"]),...(0,x.OI)("hiclem",["actualizarDialogHistorial","actualizarPacienteIDHistorial"]),backgroundClass(t){if(!t)return"";try{return t.estado?"background-color: terciary lighten-5":"background-color: error lighten-4"}catch(a){return""}},async buscarFiltro(t){let a=JSON.parse(JSON.stringify(t)),e=await this.buscarPacienteFiltros({filtro:a});e&&(this.pacientesDB=e,this.ultimoFiltro=a),this.paginacion.page>Math.ceil(this.pacientesDB.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)},openPaciente(t){setTimeout((()=>{this.actualizarPacienteID(t),this.actualizarDialogPaciente(!0)}),300)},async closePaciente(){setTimeout((()=>{this.actualizarPacienteID(""),this.actualizarDialogPaciente(!1)}),300),this.pacientesDB.length>0&&await this.buscarFiltro(this.ultimoFiltro)},editHistorial(t){setTimeout((()=>{this.actualizarPacienteIDHistorial(t),this.actualizarDialogHistorial(!0)}),300)},async closeHistorial(){setTimeout((()=>{this.actualizarPacienteIDHistorial(""),this.actualizarDialogHistorial(!1)}),300),this.pacientesDB.length>0&&await this.buscarFiltro(this.ultimoFiltro)}}},Qt=Kt,Wt=(0,z.Z)(Qt,v,b,!1,null,null,null),Xt=Wt.exports},9820:function(t,a,e){e.d(a,{Z:function(){return k}});var o=e(6194),i=e(8956),s=e(2353),l=e(5049),r=e(683),n=e(445),c=e(3667),d=e(9456),u=e(4036),p=e(8143),h=e(4920),m=function(){var t=this,a=t._self._c;return a(l.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},model:{value:t.dialogPaciente,callback:function(a){t.dialogPaciente=a},expression:"dialogPaciente"}},[a(i.Z,{staticClass:"dialog-draggable-window",attrs:{tile:""}},[a(h.Z,{staticClass:"dialog-draggable ma-0 pa-0",attrs:{color:"grey lighten-2",height:"auto",window:""}},[t.pacienteId?a(c.Z,{staticClass:"dialog-draggable pl-2",attrs:{medium:"",color:"black darken-2"}},[t._v("fas fa-user-edit")]):a(c.Z,{staticClass:"dialog-draggable pl-2",attrs:{large:"",color:"black darken-2"}},[t._v("person_add")]),a("span",{staticClass:"display-1 font-weight-bold text-capitalize black--text text--darken-2 dialog-draggable"},[t._v(t._s(t.pacienteId?`Editar: ${t.paciente.nombreC}`:"Alta Nuevo Paciente"))]),a(p.Cl),a(c.Z,{attrs:{large:"",disabled:t.loading.estado,color:"error darken-1"},on:{click:t.close}},[t._v("cancel_presentation")])],1),a(s.ZB,{staticClass:"my-0 py-0"},[a(n.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(a){t.valido=a},expression:"valido"}},[a(d.Z,{attrs:{wrap:""}},[a("formPaciente",{attrs:{paciente:t.paciente,editar:!t.pacienteId}})],1),"ADMIN_ROLE"===t.persona.role&&t.pacienteId?a(d.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(r.Z,{attrs:{xs12:"","ma-2":""}},[a(i.Z,{attrs:{dark:"",color:"error darken-1"}},[a(s.ZB,{staticClass:"px-0 text-xs-center text-uppercase"},[t._v(" === Visibilidad del Objeto === ")])],1)],1),a(r.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(r.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(u.r,{attrs:{rules:[...t.rules.requerido],"item-value":"valor","item-text":"label",items:t.estados,label:"Estado","prepend-icon":"check_circle","background-color":"true"==t.paciente.estado?"green lighten-1":"error lighten-1",color:"terciary"},model:{value:t.paciente.estado,callback:function(a){t.$set(t.paciente,"estado",a)},expression:"paciente.estado"}})],1),a(r.Z,{attrs:{xs0:"",sm3:"","px-3":""}})],1):t._e()],1)],1),a(s.h7,[a(p.Cl),a(o.Z,{staticClass:"error darken-1",attrs:{disabled:t.loading.estado,round:"",loading:t.loading.estado},on:{click:t.close}},[t._v(" Cancelar ")]),a(o.Z,{staticClass:"terciary darken-1 white--text",attrs:{disabled:t.loading.estado||t.soloLecturaPaciente,loading:t.loading.estado,round:""},on:{click:function(a){return t.guardarPaciente({paciente:t.paciente,validate:t.$refs.form.validate,finish:t.close})}}},[t._v(" "+t._s(t.valido?t.pacienteId?"Guardar Cambios":"Alta Paciente":"Formulario No valido")+" ")])],1)],1)],1)},g=[],f=e(629),v=e(178),b={name:"dialogPaciente",props:["close"],components:{formPaciente:v.Z},data:()=>({valido:!0,paciente:{}}),computed:{...(0,f.rn)(["loading","persona","rules"]),...(0,f.rn)("paciente",["dialogPaciente","pacienteId","estados","pacienteBase","soloLecturaPaciente"])},watch:{async dialogPaciente(t){if(t){if(this.paciente=this._cloneDeep(this.pacienteBase),this.pacienteId){let t=await this.buscarPacienteID(this.pacienteId);0===t.hist_salitas?.length&&(t.hist_salitas=this.paciente.hist_salitas),this.paciente=Object.assign(this.paciente,t)}this.actualizarLecturaPaciente({editar:!!this.pacienteId})}this.$refs.form.resetValidation()}},beforeMount(){this.paciente=this._cloneDeep(this.pacienteBase)},methods:{...(0,f.nv)("paciente",["buscarPacienteID","guardarPaciente","actualizarLecturaPaciente"])}},x=b,_=e(1001),y=(0,_.Z)(x,m,g,!1,null,null,null),k=y.exports},6018:function(t,a,e){e.d(a,{Z:function(){return m}});var o=e(7416),i=e(683),s=e(9456),l=e(4618),r=function(){var t=this,a=t._self._c;return a("div",[a(s.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(i.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.h,{attrs:{onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"far fa-id-card",label:"Documento",type:"number",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:t.filtro.documento,callback:function(a){t.$set(t.filtro,"documento",a)},expression:"filtro.documento"}})],1),a(i.Z,{attrs:{xs0:"",sm3:"","px-3":""}}),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.h,{attrs:{"prepend-icon":"person",label:"Apellido",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:t.filtro.apellido,callback:function(a){t.$set(t.filtro,"apellido",a)},expression:"filtro.apellido"}})],1),a(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(l.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:t.filtro.nombre,callback:function(a){t.$set(t.filtro,"nombre",a)},expression:"filtro.nombre"}})],1),a(i.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(l.h,{attrs:{"prepend-icon":"far fa-map",label:"Barrio",type:"text",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},model:{value:t.filtro.dir_barrio,callback:function(a){t.$set(t.filtro,"dir_barrio",a)},expression:"filtro.dir_barrio"}})],1),a(i.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(o.Z,{staticClass:"capitalizar",attrs:{items:t.optionsJson.opcLocalidades,"item-value":"description","item-text":"description",label:"Localidad","prepend-icon":"fas fa-city",color:"cuarto",clearable:"","background-color":"cuarto lighten-5"},on:{"click:clear":function(a){t.$nextTick((()=>t.filtro.dir_localidad=null))}},model:{value:t.filtro.dir_localidad,callback:function(a){t.$set(t.filtro,"dir_localidad",a)},expression:"filtro.dir_localidad"}})],1)],1)],1)},n=[],c=e(629),d={name:"formFiltroPaciente",props:["filtro"],data(){return{optionsJson:{opcLocalidades:[]}}},async created(){this.optionsJson.opcLocalidades=await this.returnOptionsJSON({key:"106",opcion:"opcLocalidades"})},methods:{...(0,c.nv)(["returnOptionsJSON"])}},u=d,p=e(1001),h=(0,p.Z)(u,r,n,!1,null,null,null),m=h.exports},4791:function(t,a,e){e.d(a,{Z:function(){return r}});var o=e(5721),i=e(21),s=e(5530),l=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},r=(0,s.Z)(o.Z,(0,i.J)("expansionPanel")).extend({name:"v-expansion-panel",provide:function(){return{expansionPanel:this}},props:{disabled:Boolean,readonly:Boolean,expand:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,value:{type:[Number,Array],default:function(){return null}}},data:function(){return{items:[],open:[]}},computed:{classes:function(){return l({"v-expansion-panel--focusable":this.focusable,"v-expansion-panel--popout":this.popout,"v-expansion-panel--inset":this.inset},this.themeClasses)}},watch:{expand:function(t){var a=-1;if(!t){var e=this.open.reduce((function(t,a){return a?t+1:t}),0),o=Array(this.items.length).fill(!1);1===e&&(a=this.open.indexOf(!0)),a>-1&&(o[a]=!0),this.open=o}this.$emit("input",t?this.open:a>-1?a:null)},value:function(t){this.updateFromValue(t)}},mounted:function(){null!==this.value&&this.updateFromValue(this.value)},methods:{updateFromValue:function(t){if(!Array.isArray(t)||this.expand){var a=Array(this.items.length).fill(!1);"number"===typeof t?a[t]=!0:null!==t&&(a=t),this.updatePanels(a)}},updatePanels:function(t){this.open=t;for(var a=0;a<this.items.length;a++)this.items[a].toggle(t&&t[a])},panelClick:function(t){for(var a=this.expand?this.open.slice():Array(this.items.length).fill(!1),e=0;e<this.items.length;e++)this.items[e]._uid===t&&(a[e]=!this.open[e],!this.expand&&this.$emit("input",a[e]?e:null));this.updatePanels(a),this.expand&&this.$emit("input",a)},register:function(t){var a=this.items.push(t)-1;null!==this.value&&this.updateFromValue(this.value),t.toggle(!!this.open[a])},unregister:function(t){var a=this.items.findIndex((function(a){return a._uid===t._uid}));this.items.splice(a,1),this.open.splice(a,1)}},render:function(t){return t("ul",{staticClass:"v-expansion-panel",class:this.classes},this.$slots.default)}})},4694:function(t,a,e){var o=e(2482),i=e(6815),s=e(4735),l=e(8197),r=e(21),n=e(9524),c=e(5530),d=e(8219);function u(t){if(Array.isArray(t)){for(var a=0,e=Array(t.length);a<t.length;a++)e[a]=t[a];return e}return Array.from(t)}a["Z"]=(0,c.Z)(i.Z,s.Z,l.Z,(0,r.f)("expansionPanel","v-expansion-panel-content","v-expansion-panel")).extend({name:"v-expansion-panel-content",props:{disabled:Boolean,readonly:Boolean,expandIcon:{type:String,default:"$vuetify.icons.expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:function(){return{height:"auto"}},computed:{containerClasses:function(){return{"v-expansion-panel__container--active":this.isActive,"v-expansion-panel__container--disabled":this.isDisabled}},isDisabled:function(){return this.expansionPanel.disabled||this.disabled},isReadonly:function(){return this.expansionPanel.readonly||this.readonly}},beforeMount:function(){this.expansionPanel.register(this),"undefined"!==typeof this.value&&(0,d.Kd)("v-model has been deprecated",this)},beforeDestroy:function(){this.expansionPanel.unregister(this)},methods:{onKeydown:function(t){13===t.keyCode&&this.$el===document.activeElement&&this.expansionPanel.panelClick(this._uid)},onHeaderClick:function(){this.isReadonly||this.expansionPanel.panelClick(this._uid)},genBody:function(){return this.$createElement("div",{ref:"body",class:"v-expansion-panel__body",directives:[{name:"show",value:this.isActive}]},this.showLazyContent(this.$slots.default))},genHeader:function(){var t=[].concat(u(this.$slots.header||[]));return this.hideActions||t.push(this.genIcon()),this.$createElement("div",{staticClass:"v-expansion-panel__header",directives:[{name:"ripple",value:this.ripple}],on:{click:this.onHeaderClick}},t)},genIcon:function(){var t=this.$slots.actions||[this.$createElement(n.Z,this.expandIcon)];return this.$createElement("transition",{attrs:{name:"fade-transition"}},[this.$createElement("div",{staticClass:"v-expansion-panel__header__icon",directives:[{name:"show",value:!this.isDisabled}]},t)])},toggle:function(t){var a=this;t&&(this.isBooted=!0),this.$nextTick((function(){return a.isActive=t}))}},render:function(t){return t("li",{staticClass:"v-expansion-panel__container",class:this.containerClasses,attrs:{tabindex:this.isReadonly||this.isDisabled?null:0,"aria-expanded":Boolean(this.isActive)},on:{keydown:this.onKeydown}},[this.$slots.header&&this.genHeader(),t(o.Fx,[this.genBody()])])}})}}]);