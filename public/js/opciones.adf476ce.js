"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[460],{5167:function(e,a,t){t.d(a,{Z:function(){return d}});var r=function(){var e=this,a=e._self._c;return e.field.array?a("span",[e.field.object?a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r){return a("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e.field.keyShow?a("span",[e._v(e._s(e.field.date?e.mostrarFecha(t[e.field.keyShow],e.field.time):t[e.field.keyShow]||"0"==t[e.field.keyShow]?t[e.field.keyShow]:"S/D"))]):a("span",e._l(t,(function(i,s,o){return a("span",{key:`${e.field.text}-${r}-${s}`},[e._v(e._s(s)+": "),a("kbd",[e._v(e._s(isNaN(i)&&"Invalid Date"!==e.mostrarFecha(i,e.field.time)?e.mostrarFecha(i,e.field.time)||"S/D":i||"0"==i?i:"S/D"))]),o!=Object.keys(t).length-1?a("span",[e._v(e._s("\n"))]):e._e()])})),0)])})),0):a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r){return a("code",{key:`${e.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[e._v(e._s(e.field.date?e.mostrarFecha(t,e.field.time):t||"0"==t?t:"S/D"))])})),0)]):e.field.object?a("span",[a("code",{attrs:{STYLE:"margin:4px"}},[e.field.keyShow?a("span",[e._v(e._s(e.field.date?e.mostrarFecha(e._get(e.props.item,e.field.ruta)[e.field.keyShow],e.field.time):e._get(e.props.item,e.field.ruta)[e.field.keyShow]||"0"==e._get(e.props.item,e.field.ruta)[e.field.keyShow]?e._get(e.props.item,e.field.ruta)[e.field.keyShow]:"--------"))]):a("span",e._l(e._get(e.props.item,e.field.ruta),(function(t,r,i){return a("span",{key:`${e.field.text}-${r}`},[e._v(e._s(r)+": "),a("kbd",[e._v(e._s(isNaN(t)&&"Invalid Date"!==e.mostrarFecha(t,e.field.time)?`${e.mostrarFecha(t,e.field.time)}`||"S/D":t||"0"==t?`${t}`:"S/D"))]),i!=Object.keys(e._get(e.props.item,e.field.ruta)).length-1?a("span",[e._v(e._s("\n"))]):e._e()])})),0)])]):a("span",{style:""+(e.field.numeric&&e._get(e.props.item,e.field.ruta)<0?"color: red;":"")},[e._v(e._s(e.field.date?e.mostrarFecha(e.props.item[e.field.ruta],e.field.time):e.field.boolean?""+(e._get(e.props.item,e.field.ruta)&&"false"!=e._get(e.props.item,e.field.ruta)&&"0"!=e._get(e.props.item,e.field.ruta)?"Si":"No"):e._get(e.props.item,e.field.ruta)||"0"==e._get(e.props.item,e.field.ruta)?e._get(e.props.item,e.field.ruta):"--------"))])},i=[],s={name:"body-data-table-dinamic",props:["props","field"]},o=s,l=t(1001),n=(0,l.Z)(o,r,i,!1,null,null,null),d=n.exports},5280:function(e,a,t){t.d(a,{Z:function(){return x}});var r=t(6194),i=t(8956),s=t(683),o=t(445),l=t(3667),n=t(9456),d=t(4618),c=function(){var e=this,a=e._self._c;return a("div",[a(s.Z,{attrs:{"pa-1":"","ma-1":"",xs12:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto lighten-2"}},[a(o.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(n.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(s.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{ref:"fileTextField",attrs:{"prepend-icon":"attach_file","single-line":"",label:"Seleccionar archivo",color:"white","background-color":"info lighten-4",rules:e.requerido},nativeOn:{click:function(a){return e.onFocus.apply(null,arguments)}},model:{value:e.filename,callback:function(a){e.filename=a},expression:"filename"}})],1),a("input",{ref:"file",attrs:{type:"file",id:"file",accept:".xlsx, .xls"},on:{change:function(a){return e.onFileChange()}}})],1),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.subirArchivo}},[e._v(" "+e._s(e.valido?"Subir Archivo":"Falta Archivo")),e.valido?a(l.Z,{attrs:{color:"white",right:""}},[e._v("cloud_upload")]):e._e()],1)],1)],1)],1)],1)},u=[],p=t(629),m={name:"upload",props:["URLUPLOAD","reload"],data(){return{valido:!0,file:"",filename:null,requerido:[e=>e&&""!==e.trim()||"Este campo es requerido."]}},computed:{...(0,p.rn)(["APIURL","axiosConfig","loading","persona"])},watch:{},mounted(){},methods:{...(0,p.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),onFocus(){this.disabled||this.$refs.file.click()},onFileChange(){this.file=this.$refs.file.files[0],this.file?this.filename=this.file.name:this.filename=null},async subirArchivo(){if(this.$refs.form.validate()){let a=new FormData;if(!this.file)return void this.mostrarError({errores:"",mensaje:"No se selecciono correctamente el archivo.",titulo:"Archivo Requerido."});if(a.append("file",this.file),-1===["xls","xlsx"].indexOf(this.file.name.split(".")[this.file.name.split(".").length-1]))return void this.mostrarError({errores:"",mensaje:'Extension de archivo Incorrecta. \nSe aceptan "xls" o "xlsx"',titulo:"Extension Invalida."});try{this.mostrarLoading({titulo:"Enviando datos...",color:"primary"});let t=await this.axios.post(this.APIURL+this.URLUPLOAD,a,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Archivo Subido Exitosamente.",`TOTAL Actualizados: ${t.data.data.totales.exitosos}.`,`TOTAL ERRORES: ${t.data.data.totales.errores}.`,`ERRORES: ${t.data.data.errores.split(".")}`],titulo:"Carga Exitosa"}),this.reload&&this.reload();else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading(),this.filename=null,this.file="",this.$refs.form.reset()}}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})}}},f=m,h=t(1001),g=(0,h.Z)(f,c,u,!1,null,"4e5dc22a",null),x=g.exports},3024:function(e,a,t){t.r(a),t.d(a,{default:function(){return j}});var r=t(6194),i=t(8956),s=t(2353),o=t(6530),l=t(108),n=t(683),d=t(445),c=t(3667),u=t(9456),p=t(8143),m=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{"grid-list-xs":""}},[a(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(i.Z,{staticClass:"elevation-6"},[a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"px-3":""}},[a(c.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("settings")]),a("span",{staticClass:"title white--text"},[e._v("Firmas PDF Lab. Bromatologico")])],1),a(p.Cl),a(p.Cl)],1),a(s.ZB,[a(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a("formOpcFirmas",{attrs:{firmas:e.firmas}})],1)],1),a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1)},f=[],h=t(629),g=t(4618),x=t(5730),v=function(){var e=this,a=e._self._c;return a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Izquierda ======")])],1)],1),a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.nombre,callback:function(a){e.$set(e.firmas.izq,"nombre",a)},expression:"firmas.izq.nombre"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.titulo,callback:function(a){e.$set(e.firmas.izq,"titulo",a)},expression:"firmas.izq.titulo"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.provincial,callback:function(a){e.$set(e.firmas.izq.matriculas,"provincial",a)},expression:"firmas.izq.matriculas.provincial"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.izq.matriculas.nacional,callback:function(a){e.$set(e.firmas.izq.matriculas,"nacional",a)},expression:"firmas.izq.matriculas.nacional"}})],1),a(x.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.izq.otros,callback:function(a){e.$set(e.firmas.izq,"otros",a)},expression:"firmas.izq.otros"}})],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs10:"",sm6:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Firma Derecha ======")])],1)],1),a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"person",label:"Nombre",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.nombre,callback:function(a){e.$set(e.firmas.der,"nombre",a)},expression:"firmas.der.nombre"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"work",label:"Titulo",type:"text",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.titulo,callback:function(a){e.$set(e.firmas.der,"titulo",a)},expression:"firmas.der.titulo"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MP",label:"Matricula Provincial",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.provincial,callback:function(a){e.$set(e.firmas.der.matriculas,"provincial",a)},expression:"firmas.der.matriculas.provincial"}})],1),a(n.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(g.h,{attrs:{"prepend-icon":"MN",label:"Matricula Nacional",type:"number",rules:e.requerido,color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.firmas.der.matriculas.nacional,callback:function(a){e.$set(e.firmas.der.matriculas,"nacional",a)},expression:"firmas.der.matriculas.nacional"}})],1),a(x.Z,{attrs:{label:"Otros","background-color":"primary lighten-5","prepend-icon":"description",clearable:"","full-width":"","single-line":""},model:{value:e.firmas.der.otros,callback:function(a){e.$set(e.firmas.der,"otros",a)},expression:"firmas.der.otros"}})],1)],1)},b=[],y={name:"formOpcFirmas",props:["firmas"],data(){return{requerido:[e=>e?""===e.trim()?"Este campo es requerido.":!(e.length<3)||"Minimo 3 caracteres.":"Este campo es requerido."]}},methods:{}},_=y,Z=t(1001),k=(0,Z.Z)(_,v,b,!1,null,null,null),w=k.exports,C={name:"opcionesBromatologia",components:{formOpcFirmas:w},data(){return{valido:!0,firmas:{izq:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""},der:{nombre:"",titulo:"",matriculas:{provincial:"",nacional:""},otros:""}}}},computed:{...(0,h.rn)(["loading"])},async created(){this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))},methods:{...(0,h.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,h.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Guardando firmas...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/bromatologiaFirmas",update:{opcion:"bromatologiaFirmas",datos:this.firmas}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.firmas=Object.assign(this.firmas,await this.returnConfig("bromatologiaFirmas"))}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})}}},I=C,E=(0,Z.Z)(I,m,f,!1,null,null,null),j=E.exports},4802:function(e,a,t){t.r(a),t.d(a,{default:function(){return P}});var r=t(8469),i=t(6194),s=t(8956),o=t(2353),l=t(9418),n=t(7441),d=t(6530),c=t(7352),u=t(5049),p=t(108),m=t(683),f=t(445),h=t(3667),g=t(9456),x=t(6446),v=t(8143),b=t(4618),y=t(5730),_=t(1415),Z=function(){var e=this,a=e._self._c;return a(d.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(l.Z,{staticClass:"align-center justify-center primary"},[a(h.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("fas fa-map-marked-alt")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Lugares")]),a(p.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),a(v.Cl)],1),a("div",[a(l.Z,[a(m.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[a(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(v.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),a(i.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarLugares}},[e._v("Recargar Lugares")]),a(u.Z,{attrs:{"max-width":"720px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},t),[e._v("Crear Nuevo Lugar")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(s.Z,[a(l.Z,[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a(o.ZB,[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-building",label:"Nombre",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.nombre,callback:function(a){e.$set(e.editedItem,"nombre",a)},expression:"editedItem.nombre"}})],1),a(m.Z,{attrs:{xs12:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.direccion,callback:function(a){e.$set(e.editedItem,"direccion",a)},expression:"editedItem.direccion"}})],1),-1!==e.editedIndex?a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(n.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(h.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}],null,!1,2599061216),model:{value:e.editedItem.estado,callback:function(a){e.$set(e.editedItem,"estado",a)},expression:"editedItem.estado"}})],1):e._e(),a(m.Z,{attrs:{xs12:"","px-2":""}},[a(y.Z,{attrs:{"prepend-icon":"description",label:"Descripcion",color:"primary",clearable:"","background-color":"primary lighten-5","auto-grow":"",rows:"2"},model:{value:e.editedItem.descripcion,callback:function(a){e.$set(e.editedItem,"descripcion",a)},expression:"editedItem.descripcion"}})],1)],1)],1),a(g.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[a(i.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(a){e.dialog=!1}}},[e._v(" Cancelar")]),a(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(a){return e.guardarLugar()}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),a(c.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.lugaresDB,"item-key":"_id",pagination:e.paginacion,loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:e.backgroundClass(t.item)},[a("td",{staticClass:"text-sm-left"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar - "+e._s(t.item.nombre))])]),a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({attrs:{disabled:!t.item.estado||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteLugar({lugar:t.item})}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Borrar - "+e._s(t.item.nombre))])])],1)]),e._l(e.headersDinamics,(function(e){return a("td",{key:e.text,class:e.class},[a("bodyDataTableDinamic",{attrs:{props:t,field:e}})],1)}))],2)]}}])},[a(x.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)],1)},k=[],w=t(629),C=t(5167),I={name:"opcionesLugares",components:{bodyDataTableDinamic:C.Z},data:()=>({lugaresDB:[],search:"",paginacion:{sortBy:"nombre",descending:!1,page:1,rowsPerPage:10},dialog:!1,valido:!0,lugarDefault:{nombre:"",direccion:"",descripcion:"",estado:!0},editedIndex:-1,editedItem:{nombre:"",direccion:"",descripcion:"",estado:!0},headers:[{text:"Acciones",value:"nombre",align:"center",sortable:!1,width:"5%",ruta:"nombre",ignore:!0},{text:"Nombre",value:"nombre",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"nombre"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"*",ruta:"direccion"},{text:"Descripcion",value:"descripcion",align:"left",class:"text-xs-left",width:"*",ruta:"descripcion"}]}),computed:{...(0,w.rn)(["loading","rules"]),formTitle(){return-1===this.editedIndex?"Nuevo Lugar":"Editar Lugar"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.lugarDefault)),this.editedIndex=-1,this.recargarLugares()}),300),this.$refs.form.resetValidation()}},async created(){this.recargarLugares()},methods:{...(0,w.OI)(["mostrarLoading","mostrarError","mostrarMensaje","ocultarLoading"]),...(0,w.nv)(["requestAPI"]),...(0,w.nv)("main",["buscarLugarFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: green lighten-5":"background-color: red lighten-4"}catch(a){return""}},editItem(e){this.editedIndex=this.lugaresDB.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.lugarDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},async recargarLugares(){this.lugaresDB=await this.buscarLugarFiltros()},async guardarLugar(){try{if(this.$refs.form.validate()){this.mostrarLoading({titulo:"Efectuando cambios..."});let e=this._cloneDeep(this.editedItem);if(!e._id){let a=this.isVacio(e,!0);if(!0===a.vacio)return this.mostrarError({mensaje:"Complete por lo menos un dato.",titulo:"Valores Requeridos"}),!1;e=a.dato}let a=null;if(a=await this.requestAPI({method:"post",url:`/lugar/${e.nombre}`,update:e}),a?.data?.ok){let a="";return a=e._id?"Editado":"Guardado",this.mostrarMensaje({msj:[`Lugar ${a} exitosamente.`],titulo:"Completado"}),this.dialog=!1,!0}return!1}return this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."}),!1}catch(e){return this.mostrarError({mensaje:e,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}},async deleteLugar(e){try{if(confirm(`Esta seguro que desea ELIMINAR\n Este Lugar: ${e.lugar.nombre}?\n\n              Dejara de ser visible para los que no pueden crear/modificar Lugares.`)){this.mostrarLoading({titulo:"Borrando Lugar..."});let a=null;return a=await this.requestAPI({method:"delete",url:`/lugar/${e.lugar.nombre}`}),!!a?.data?.ok&&(this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),this.recargarLugares(),!0)}}catch(a){return this.mostrarError({mensaje:a,titulo:"Inesperado"}),!1}finally{this.ocultarLoading()}}}},E=I,j=t(1001),$=(0,j.Z)(E,Z,k,!1,null,null,null),P=$.exports},4165:function(e,a,t){t.r(a),t.d(a,{default:function(){return A}});var r=t(8469),i=t(7416),s=t(6194),o=t(8956),l=t(2353),n=t(9418),d=t(7441),c=t(6530),u=t(7352),p=t(5049),m=t(108),f=t(683),h=t(445),g=t(3667),x=t(9456),v=t(6446),b=t(8143),y=t(4618),_=t(1415),Z=function(){var e=this,a=e._self._c;return a(c.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(x.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(o.Z,{staticClass:"elevation-6"},[a(n.Z,{staticClass:"align-center justify-center primary"},[a(g.Z,{attrs:{medium:"",left:"",color:"white"}},[e._v("location_city")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Areas")]),a(m.Z,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),a(b.Cl)],1),a("div",[a(n.Z,[a(f.Z,{attrs:{xs12:"",sm4:"","px-2":""}},[a(y.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(b.Cl),a(m.Z,{staticClass:"hidden-xs-only mx-2 black",attrs:{vertical:""}}),a(s.Z,{staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado},on:{click:e.recargarAreas}},[e._v("Actualizar Areas")]),a(p.Z,{attrs:{"max-width":"720px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(s.Z,e._g({staticClass:"mb-2",attrs:{color:"primary",dark:"",disabled:e.loading.estado}},t),[e._v("Crear Nueva Area")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(h.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(o.Z,[a(n.Z,[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a(l.ZB,[a(c.Z,{attrs:{"grid-list-md":""}},[a(x.Z,{attrs:{wrap:""}},[a(f.Z,{attrs:{xs12:"","px-2":""}},[a(y.h,{attrs:{"prepend-icon":"fas fa-city",label:"Subsecretaria (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.subsecretaria,callback:function(a){e.$set(e.editedItem,"subsecretaria",a)},expression:"editedItem.subsecretaria"}})],1),a(f.Z,{attrs:{xs12:"","px-2":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"area",clearable:"",items:e.areaFiltro,label:"Depende de Area (Opcional)","prepend-icon":"location_city",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.depende,callback:function(a){e.$set(e.editedItem,"depende",a)},expression:"editedItem.depende"}})],1),a(f.Z,{attrs:{xs12:"","px-2":""}},[a(y.h,{attrs:{"prepend-icon":"fas fa-building",label:"Area",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.area,callback:function(a){e.$set(e.editedItem,"area",a)},expression:"editedItem.area"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(y.h,{attrs:{"prepend-icon":"fas fa-map-marked-alt",label:"Direccion (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.direccion,callback:function(a){e.$set(e.editedItem,"direccion",a)},expression:"editedItem.direccion"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(y.h,{attrs:{"prepend-icon":"fas fa-user-tie",label:"Responsable (Opcional)",type:"text",color:"primary",clearable:"","background-color":"primary lighten-5"},model:{value:e.editedItem.responsable,callback:function(a){e.$set(e.editedItem,"responsable",a)},expression:"editedItem.responsable"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(y.h,{attrs:{"prepend-icon":"fas fa-tag",label:"Número de Oficina (Opcional)",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"primary","background-color":"primary lighten-5"},model:{value:e.editedItem.oficina_nro,callback:function(a){e.$set(e.editedItem,"oficina_nro",a)},expression:"editedItem.oficina_nro"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(d.Z,{attrs:{color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v(e._s(e.editedItem.estado?"visibility":"visibility_off"))]),e._v(" Visibilidad: "+e._s(e.editedItem.estado?"Visible":"Borrado")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.estado,callback:function(a){e.$set(e.editedItem,"estado",a)},expression:"editedItem.estado"}})],1),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(d.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},on:{change:function(a){e.editedItem.zona_us=""}},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v("fa-house-medical-flag")]),e._v(" Unidad de Atencion Sanitaria: "+e._s(e.editedItem.unidad_atencion?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.unidad_atencion,callback:function(a){e.$set(e.editedItem,"unidad_atencion",a)},expression:"editedItem.unidad_atencion"}})],1),e.editedItem.unidad_atencion?a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(i.Z,{staticClass:"capitalizar",attrs:{"item-value":"id","item-text":"description",clearable:"",items:e.optionsJson.opcZonas,label:"Zona","prepend-icon":"fas fa-globe",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.requerido],"validate-on-blur":""},model:{value:e.editedItem.zona_us,callback:function(a){e.$set(e.editedItem,"zona_us",a)},expression:"editedItem.zona_us"}})],1):a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}}),a(f.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(d.Z,{attrs:{"false-value":"","true-value":"true",color:"primary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",[a(g.Z,[e._v("medication")]),e._v(" Farmacia: "+e._s(e.editedItem.farmacia?"Si":"No")+" ")],1)]},proxy:!0}]),model:{value:e.editedItem.farmacia,callback:function(a){e.$set(e.editedItem,"farmacia",a)},expression:"editedItem.farmacia"}})],1)],1)],1)],1),a(x.Z,{attrs:{row:"",wrap:"","align-center":"","justify-end":""}},[a(s.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),a(s.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:function(a){return e.guardarArea({area:e.editedItem,validate:e.$refs.form.validate,finish:e.close})}}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1)],1)],1),a(u.Z,{staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:e.headers,items:e.areas,"item-key":"_id",pagination:e.paginacion,loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:e.backgroundClass(t.item)},[a("td",{staticClass:"text-sm-left"},[a("div",{staticClass:"text-xs-center",staticStyle:{width:"60px"}},[a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(g.Z,e._g({staticClass:"mr-2",attrs:{disabled:e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar - "+e._s(t.item.area))])]),a(_.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(g.Z,e._g({attrs:{disabled:!t.item.estado||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteArea({item:t.item,finish:e.recargarAreas})}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Borrar - "+e._s(t.item.area))])])],1)]),e._l(e.headersDinamics,(function(e){return a("td",{key:e.text,class:e.class},[a("bodyDataTableDinamic",{attrs:{props:t,field:e}})],1)}))],2)]}}])},[a(v.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1),a(x.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(l.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Importar Excel ======")])],1)],1),a(f.Z,{attrs:{cuarto:"","darken-2":"","pa-1":"","ma-1":"",xs12:""}},[a("upload",{attrs:{URLUPLOAD:"/area/upload",reload:e.recargarAreas}})],1),a(f.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(o.Z,{staticClass:"white--text",attrs:{color:"error darken-4"}},[a(l.ZB,{staticClass:"px-0 text-uppercase title"},[a(g.Z,{attrs:{color:"red darken-1","x-large":""}},[e._v("info")]),e._v(" A tener en cuenta al importar "),a(g.Z,{attrs:{color:"red darken-1",large:""}},[e._v("info")])],1),a(l.ZB,{staticClass:"px-0 body-2"},[a("dl",[a("dt",[e._v(' Case Sensitive: Nombres de Columnas (area, subsecretaria, responsable, direccion, zona_us, oficina_nro, unidad_atencion), unidad_atencion valores "true" o celda vacia. ')]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v(" Si se desea cambiar el nombre de un area ==>> (area, cambia_nombre), donde cambia nombre es el nombre nuevo. ")]),a("dd",[e._v("- - - # - - -")]),a("dt",[e._v('Excel en formato "xls" o "xlsx".')])])])],1)],1)],1)],1)},k=[],w=t(629),C=t(5167),I=t(5280),E={name:"opcionesAreas",components:{bodyDataTableDinamic:C.Z,upload:I.Z},data:()=>({dialog:!1,valido:!0,areaFiltro:[{area:"Independiente",id:null}],optionsJson:{opcZonas:[]},areas:[],search:"",paginacion:{sortBy:"area",descending:!1,page:1,rowsPerPage:10},headers:[{text:"Acciones",value:"area",align:"center",sortable:!1,width:"5%",ruta:"area",ignore:!0},{text:"Subsecretaria",value:"subsecretaria",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"subsecretaria"},{text:"Area",value:"area",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"area"},{text:"Direccion",value:"direccion",align:"left",class:"text-capitalize text-xs-left",width:"20%",ruta:"direccion"},{text:"# Oficina",value:"oficina_nro",align:"left",class:"text-xs-right",width:"5%",ruta:"oficina_nro"},{text:"Responsable",value:"responsable",align:"left",class:"text-capitalize text-xs-left",width:"15%",ruta:"responsable"},{text:"Zona",value:"zona_us",align:"center",class:"text-capitalize text-xs-center",width:"10%",ruta:"zona_us"},{text:"UAS",value:"unidad_atencion",align:"center",class:"text-capitalize text-xs-center",width:"5%",ruta:"unidad_atencion",boolean:!0},{text:"Farmacia",value:"farmacia",align:"left",class:"text-capitalize text-xs-center",width:"5%",ruta:"farmacia",boolean:!0}],editedIndex:-1,editedItem:{subsecretaria:"",depende:null,area:"",direccion:"",responsable:"",oficina_nro:"",unidad_atencion:"",zona_us:"",farmacia:"",estado:!0}}),computed:{...(0,w.rn)(["loading","rules"]),...(0,w.rn)("main_areas",["areaDefault"]),formTitle(){return-1===this.editedIndex?"Nueva Area":"Editar Area"},headersDinamics(){return[...this.headers.filter((e=>!0!==e.ignore))]}},watch:{dialog(e){!1===e&&setTimeout((()=>{this.editedItem=JSON.parse(JSON.stringify(this.areaDefault)),this.editedIndex=-1,this.recargarAreas(),this.$refs.form.resetValidation()}),300)}},async created(){this.optionsJson.opcZonas=await this.returnOptionsJSON({key:"106",opcion:"opcZonas"}),this.recargarAreas()},methods:{...(0,w.nv)(["returnOptionsJSON"]),...(0,w.nv)("main_areas",["guardarArea","deleteArea","buscarAreaFiltros"]),backgroundClass(e){if(!e)return"";try{return!0===e.estado?"background-color: primary lighten-5":"background-color: error lighten-4"}catch(a){return""}},editItem(e){this.editedIndex=this.areas.indexOf(e),this.editedItem=Object.assign({},JSON.parse(JSON.stringify(this.areaDefault)),JSON.parse(JSON.stringify(e))),this.dialog=!0},close(){this.dialog=!1},async recargarAreas(){this.areas=await this.buscarAreaFiltros(),this.areaFiltro=[{area:"Independiente",id:null},...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area"})]}}},j=E,$=t(1001),P=(0,$.Z)(j,Z,k,!1,null,null,null),A=P.exports},7210:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var r=t(6194),i=t(8956),s=t(2353),o=t(6530),l=t(108),n=t(683),d=t(445),c=t(3667),u=t(9456),p=t(8143),m=t(4618),f=t(1415),h=function(){var e=this,a=e._self._c;return a(o.Z,{attrs:{fluid:"","grid-list-xs":""}},[a(u.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(n.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(s.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[a(i.Z,{staticClass:"elevation-6"},[a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[a(n.Z,{attrs:{"px-3":""}},[a(c.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("work")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Especialidades")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),a(c.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1)],1),a(s.ZB,[a(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(u.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},e._l(e.especialidades,(function(t,r){return a(n.Z,{key:`especialidad-${r}`,attrs:{xs12:"",sm6:"","px-3":""}},[a(m.h,{attrs:{"prepend-icon":"work",label:"Especialidad",type:"text",rules:[...e.rules.requerido],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:e.especialidades[r].nombre,callback:function(a){e.$set(e.especialidades[r],"nombre",a)},expression:"especialidades[index].nombre"}},[0!=r?a("template",{slot:"append-outer"},[a(f.Z,{staticStyle:{"border-radius":"25px"},attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(c.Z,e._g({attrs:{color:"error",onpointerenter:"this.setAttribute('style', 'border-radius: 10px; background: #B0BEC5')",onpointerleave:"this.setAttribute('style', 'background: none')"},on:{click:function(a){return e.deleteEspecialidad(r)}}},t),[e._v(" delete ")])]}}],null,!0)},[a("span",{staticClass:"px-0"},[e._v("Eliminar Especialidad "+e._s(t.nombre))])])],1):e._e()],2)],1)})),1)],1)],1),a(u.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[a(r.Z,e._g({staticClass:"white--text",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado,color:"blue-grey"},on:{click:function(a){return e.agregarEspecialidad()}}},e.on),[e._v(" Agregar Especialidad "),a(c.Z,e._g({attrs:{right:"",color:"cuarto darken-2",large:""}},e.on),[e._v(" add_circle ")])],1),a(p.Cl),a(l.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(r.Z,{class:{"primary darken-1":e.valido,"error darken-1":!e.valido},attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editar}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1),a(n.Z,{attrs:{"pa-1":"","ma-1":"",error:"","darken-2":"",xs12:""}},[a(i.Z,{attrs:{color:"yellow darken-1"}},[a(s.ZB,{staticClass:"px-0 font-weight-medium text-uppercase"},[a(c.Z,{attrs:{color:"error darken-3"}},[e._v(" warning ")]),e._v(" Si se modifica una Especialidad(Profesion) la misma no surtira efecto en los profesionales ya creados con dicha Especialidad(Profesion). ")],1)],1)],1)],1)],1)},g=[],x=t(629),v={name:"opcionesEspecialidades",components:{},data(){return{valido:!0,especialidades:[{nombre:""}]}},computed:{...(0,x.rn)(["loading","rules"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]},methods:{...(0,x.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,x.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Editando especialidades...",color:"primary"});let e=null;e=await this.requestAPI({method:"put",url:"/config/profEspecialidades",update:{opcion:"profEspecialidades",datos:this.especialidades}}),e&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.especialidades=await this.returnConfig("profEspecialidades")||[{nombre:""}]}catch(e){this.mostrarError({titulo:"Inesperado",mensaje:e})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})},deleteEspecialidad(e){this.especialidades.splice(e,1)},agregarEspecialidad(){this.especialidades.push({nombre:""})}}},b=v,y=t(1001),_=(0,y.Z)(b,h,g,!1,null,null,null),Z=_.exports},6677:function(e,a,t){t.r(a),t.d(a,{default:function(){return N}});var r=t(8469),i=t(6194),s=t(8956),o=t(2353),l=t(9418),n=t(7441),d=t(6530),c=t(7352),u=t(5049),p=t(108),m=t(683),f=t(445),h=t(3667),g=t(9456),x=t(6446),v=t(8143),b=t(4618),y=t(1415),_=function(){var e=this,a=e._self._c;return a(d.Z,{attrs:{"grid-list-xs":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[a(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[a(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[a(o.ZB,{staticClass:"px-0 text-uppercase"},[e._v("====== Gestion de Opciones ======")])],1)],1),a(m.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",terciary:"","lighten-1":""}},[a(s.Z,{staticClass:"elevation-6"},[a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[a(m.Z,{attrs:{"px-3":""}},[a(h.Z,{attrs:{medium:"",color:"white",left:""}},[e._v("fas fa-user-tie")]),a("span",{staticClass:"title white--text"},[e._v("Gestion de Profesionales")])],1),a(v.Cl),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),a(i.Z,{staticClass:"white--text",attrs:{round:"",color:"terciary darken-1",disabled:e.loading.estado,loading:e.loading.estado},on:{click:function(a){return e.retroceder()}}},[a(h.Z,{attrs:{left:"",dark:""}},[e._v("far fa-arrow-alt-circle-left")]),e._v(" Regresar ")],1)],1),a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{"px-3":"","py-1":""}},[a(b.h,{attrs:{"append-icon":"search",label:"Buscar","single-line":"","hide-details":"",color:"terciary",clearable:""},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}})],1),a(v.Cl),a(i.Z,{staticClass:"mb-2",attrs:{color:"terciary",dark:""},on:{click:e.cargarProfesionales}},[e._v("Actualizar Profesionales")]),a(p.Z,{staticClass:"hidden-xs-only mx-2 my-1",attrs:{vertical:""}}),a(u.Z,{attrs:{"max-width":"80%",persistent:"",scrollable:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({staticClass:"mb-2",attrs:{color:"terciary",dark:""}},t),[e._v("Agregar Profesional")])]}}]),model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[a(f.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(a){e.valido=a},expression:"valido"}},[a(s.Z,[a(l.Z,[a(g.Z,{attrs:{grey:"","lighten-2":"",wrap:""}},[a("span",{staticClass:"display-1 font-weight-bold text-capitalize"},[e._v(e._s(e.formTitle)+" - "+e._s(e.editProfesional.apellido&&e.editProfesional.nombre?`${e.editProfesional.apellido}, ${e.editProfesional.nombre}.`:""))]),a(v.Cl),a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({attrs:{icon:"",disabled:e.loading.estado,loading:e.loading.estado,color:"error darken-1"},on:{click:e.close}},t),[a(h.Z,{attrs:{large:""}},[e._v("cancel")])],1)]}}])},[a("span",[e._v("Cerrar")])])],1)],1),a(o.ZB,[a(d.Z,{attrs:{"grid-list-md":""}},[a(g.Z,{attrs:{wrap:""}},[a(v.Cl),-1!==e.editedIndex?a(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a("div",e._g({},t),[a(n.Z,{attrs:{color:"terciary lighten-1"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{class:{"color: terciary lighten-5":e.editProfesional.estado,"color: error lighten-4":!e.editProfesional.estado}},[a(h.Z,[e._v(" visibility ")]),e._v(" Visible: "),a("b",[e._v(e._s(e.editProfesional.estado?"Si":"No"))])],1)]},proxy:!0}],null,!0),model:{value:e.editProfesional.estado,callback:function(a){e.$set(e.editProfesional,"estado",a)},expression:"editProfesional.estado"}})],1)]}}],null,!1,2861480028)},[a("span",[e._v(e._s(e.editProfesional.estado?"Aparecera en las busquedas":"No aparecera en las busquedas"))])])],1):e._e(),a(v.Cl),a("formProfesional",{attrs:{profesional:e.editProfesional}})],1)],1)],1),a(o.h7,[a(i.Z,{staticClass:"terciary lighten-3",attrs:{round:""},on:{click:e.especialidadAdd}},[e._v(" Agregar Especialidad Al Profesional")]),a(v.Cl),a(i.Z,{staticClass:"error darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.close}},[e._v(" Cancelar")]),-1===e.editedIndex?a(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.guardarProfesional}},[e._v(" "+e._s(e.valido?"Crear Profesional":"Formulario No valido"))]):e._e(),-1!==e.editedIndex?a(i.Z,{staticClass:"primary darken-1",attrs:{round:"",disabled:e.loading.estado||!e.valido,loading:e.loading.estado},on:{click:e.editarProfesional}},[e._v(" "+e._s(e.valido?"Guardar Cambios":"Formulario No valido"))]):e._e()],1)],1)],1)],1)],1),a(c.Z,{staticClass:"elevation-6",attrs:{id:"tablita",headers:e.headers,items:e.profesionales,"item-key":"_id",pagination:e.paginacion,loading:e.loading.estado,search:e.search},on:{"update:pagination":function(a){e.paginacion=a}},scopedSlots:e._u([{key:"no-results",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(' No se encontraron resultados para "'+e._s(e.search)+'". ')])]},proxy:!0},{key:"no-data",fn:function(){return[a(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[e._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"items",fn:function(t){return[a("tr",{class:{"background-color: terciary lighten-5":t.item.estado,"background-color: error lighten-4":!t.item.estado}},[a("td",{staticClass:"text-sm-left"},[a("div",{staticStyle:{width:"60px"}},[a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({staticClass:"mr-2",attrs:{disabled:"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"primary"},on:{click:function(a){return e.editItem(t.item)}}},r),[e._v(" edit ")])]}}],null,!0)},[a("span",[e._v("Editar Profesional")])]),a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a(h.Z,e._g({attrs:{disabled:!t.item.estado||"ADMIN_ROLE"!=e.persona.role||e.loading.estado,color:"error"},on:{click:function(a){return e.deleteProfesional(t.item)}}},r),[e._v(" delete ")])]}}],null,!0)},[a("span",[e._v("Eliminar Profesional")])])],1)]),a("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(t.item.nombreC))]),a("td",{staticClass:"text-capitalize text-xs-left"},[e._v(e._s(t.item.legajo))]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarArray(t.item.especialidades,"especialidad")))])]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarArray(t.item.especialidades,"unidad_atencion")))])]),a("td",{staticClass:"text-capitalize text-xs-left"},[a("pre",[e._v(e._s(e.mostrarDias(t.item.especialidades,"dias_laborales")))])])])]}}])},[a(x.Z,{attrs:{color:"blue",indeterminate:""}})],1),a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:"",terciary:""}},[a(i.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesEspecialidades"}}},[a(h.Z,{attrs:{color:"white",left:""}},[e._v("work")]),e._v(" Agregar Especialidad/Profesion")],1),a(i.Z,{staticClass:"mb-2",attrs:{round:"",color:"terciary lighten-1",dark:"",to:{name:"OpcionesAreas"}}},[a(h.Z,{attrs:{color:"white",left:""}},[e._v("fa-house-medical-flag")]),e._v("Agregar Unidad de Atencion Sanitaria")],1)],1)],1)],1)],1)],1)},Z=[],k=t(629),w=t(7416),C=t(4036),I=function(){var e=this,a=e._self._c;return a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Apellido",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.apellido,callback:function(a){e.$set(e.profesional,"apellido",a)},expression:"profesional.apellido"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"fas fa-user",label:"Nombre",type:"text",rules:e.requerido,color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.nombre,callback:function(a){e.$set(e.profesional,"nombre",a)},expression:"profesional.nombre"}})],1),a(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"badge",label:"Nº Legajo",type:"text",color:"terciary",clearable:"","background-color":"terciary lighten-5"},model:{value:e.profesional.legajo,callback:function(a){e.$set(e.profesional,"legajo",a)},expression:"profesional.legajo"}})],1),a(m.Z,{attrs:{xs0:"",sm3:"","px-2":""}}),a(m.Z,{attrs:{xs12:"",sm5:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.documentos,label:"Tipo de Documento","prepend-icon":"fas fa-id-card",color:"terciary"},model:{value:e.profesional.tipo_doc,callback:function(a){e.$set(e.profesional,"tipo_doc",a)},expression:"profesional.tipo_doc"}})],1),a(m.Z,{attrs:{xs12:"",sm7:"","px-2":""}},[a(b.h,{attrs:{"prepend-icon":"far fa-id-card",label:"Documento",type:"number",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'",clearable:"",color:"terciary","background-color":"terciary lighten-5"},model:{value:e.profesional.documento,callback:function(a){e.$set(e.profesional,"documento",a)},expression:"profesional.documento"}})],1),e._l(e.profesional.especialidades,(function(t,r){return a(g.Z,{key:`especialidades-${r}`,class:r%2===0?"grey lighten-3":"",attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a(g.Z,{attrs:{row:"",wrap:""}},[a("div",{staticClass:"display-1 font-weight-medium text-capitalize"},[e._v(" "+e._s(t.especialidad)+" ")]),a(v.Cl),0!==r?a(i.Z,{staticClass:"error lighten-3",attrs:{small:"",round:""},on:{click:function(a){return e.especialidadLess(t)}}},[e._v(" ELIMINAR ESPECIALIDAD : "+e._s(t.especialidad)+" ")]):e._e()],1),a(p.Z)],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.especialidades,"item-text":"nombre","item-value":"nombre",label:"Especialidad","prepend-icon":"work",color:"terciary",rules:e.requerido},model:{value:t.especialidad,callback:function(a){e.$set(t,"especialidad",a)},expression:"filaEspecial.especialidad"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencion,label:"Unidad de Atencion Sanitaria","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:e.requerido},model:{value:t.unidad_atencion,callback:function(a){e.$set(t,"unidad_atencion",a)},expression:"filaEspecial.unidad_atencion"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(w.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"terciary lighten-5",items:e.turnos,label:"Duracion Turnos (Min)","prepend-icon":"update",color:"terciary",rules:e.requerido},model:{value:t.duracion_turno,callback:function(a){e.$set(t,"duracion_turno",a)},expression:"filaEspecial.duracion_turno"}})],1),a(m.Z,{attrs:{xs12:"",sm6:"","px-2":""}},[a(C.r,{attrs:{"background-color":"terciary lighten-5","item-value":"valor","item-text":"label",items:e.diasFullNames,label:"Dias Laborales","prepend-icon":"date_range",color:"terciary",chips:"","deletable-chips":"",multiple:"",rules:e.requeridoList},on:{change:function(a){return e.changedValue(a,r)}},model:{value:t.dias,callback:function(a){e.$set(t,"dias",a)},expression:"filaEspecial.dias"}})],1),a(m.Z,{attrs:{xs12:"",sm3:"","px-2":""}},[a(y.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:r}){return[a("div",e._g({},r),[a(n.Z,{attrs:{color:"terciary lighten-1","false-value":"no","true-value":"si"},scopedSlots:e._u([{key:"label",fn:function(){return[a("div",{class:{"text-capitalize":!0,"color: terciary lighten-5":"si"==t.turno,"color: error lighten-4":"no"==t.turno}},[a(h.Z,[e._v(" event_note ")]),e._v(" Con Turno: "),a("b",[e._v(e._s(t.turno))])],1)]},proxy:!0}],null,!0),model:{value:t.turno,callback:function(a){e.$set(t,"turno",a)},expression:"filaEspecial.turno"}})],1)]}}],null,!0)},[a("span",[e._v(e._s("si"==t.turno?"Aparecera en el turnero":"No aparecera en el turnero"))])])],1),e._l(t.dias_laborales,(function(r,i){return a(m.Z,{key:`dia-${i}`,attrs:{xs12:"","px-2":""}},[a(g.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(m.Z,{attrs:{xs12:"","px-2":""}},[a("h4",[e._v(e._s(e.diasFullNames.find((e=>e.valor===i)).label)+" - Horas")]),a(p.Z)],1),a(m.Z,{attrs:{xs12:"","px-2":""}},[a("timeRange",{attrs:{value:r,color:"terciary",turno:t.duracion_turno,requerido:!0},on:{input1:function(e){return r.splice(0,1,e)},input2:function(e){return r.splice(1,1,e)}}})],1)],1)],1)}))],2)}))],2)},E=[],j=t(5817),$={name:"formProfesional",props:["profesional"],components:{timeRange:j.Z},data(){return{requerido:[e=>e&&""!==e.trim()||"Este campo es requerido."],requeridoList:[e=>"object"!==typeof e||0!==e.length||"Este campo es requerido."],documentos:["DNI","L.E.","Carnet Ext.","R.U.C.","Pasaporte","P. Nac.","Otros"],turnos:["10","15","20","30","40","60"],especialidades:[],unidadesAtencion:[],especialidad:{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{},turno:"no"}}},computed:{...(0,k.rn)(["diasFullNames"])},async created(){this.especialidades=await this.returnConfig("profEspecialidades")||[],this.unidadesAtencion=await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"})},methods:{...(0,k.nv)(["returnConfig"]),...(0,k.nv)("main_areas",["buscarAreaFiltros"]),changedValue(e,a){e.forEach((e=>{Object.keys(this.profesional.especialidades[a].dias_laborales).includes(e)||(this.profesional.especialidades[a].dias_laborales[e]=["",""],this.profesional.especialidades=this._cloneDeep(this.profesional.especialidades))})),Object.keys(this.profesional.especialidades[a].dias_laborales).forEach((t=>{e.includes(t)||delete this.profesional.especialidades[a].dias_laborales[t]}))},especialidadLess(e){if(confirm(`Esta seguro que desea eliminar la Especialidad: ${e.especialidad?e.especialidad:"Sin Declarar"},\n del Profesional: ${this.profesional.apellido?this.profesional.apellido:"Sin Apellido"}?`)){let a=this.profesional.especialidades.indexOf(e);this.profesional.especialidades.splice(a,1)}}}},P=$,A=t(1001),S=(0,A.Z)(P,I,E,!1,null,null,null),L=S.exports,O={name:"profesionalCrear",components:{formProfesional:L},data(){return{dialog:!1,search:"",paginacion:{sortBy:"nombreC",descending:!1,page:1,rowsPerPage:10},headers:[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%"},{text:"Apellido, Nombre",value:"nombreC",align:"left",width:"25%"},{text:"Nº Legajo",value:"legajo",align:"left",width:"10%"},{text:"Especialidad",value:"especialidades[0].especialidad",align:"left",width:"20%"},{text:"Unidad de Atencion",value:"especialidades[0].unidad_atencion",align:"left",width:"20%"},{text:"Dias",value:"especialidades[0].dias_laborales",align:"left",width:"15%"}],valido:!0,editedIndex:-1,editProfesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]},profesional:{apellido:"",nombre:"",tipo_doc:"",documento:"",legajo:"",especialidades:[{especialidad:"",unidad_atencion:"",duracion_turno:"",dias:[],dias_laborales:{}}]}}},computed:{...(0,k.rn)(["APIURL","axiosConfig","loading","persona","profesionales"]),formTitle(){return-1===this.editedIndex?"Nuevo Profesional":"Editar Profesional"}},watch:{dialog(e){e||this.close()}},async created(){this.cargarProfesionales()},methods:{...(0,k.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,k.nv)(["cargarProfesionales","retroceder"]),mostrarArray(e,a){if(!e)return"";try{let t="";return e.forEach((e=>{t+=`${"object"===typeof e[a]?e[a].area:e[a]}\n`})),t}catch(t){return""}},mostrarDias(e,a){if(!e)return"";try{let t={0:"Dom",1:"Lun",2:"Mar",3:"Mie",4:"Jue",5:"Vie",6:"Sab"},r="",i="";return e.forEach((e=>{for(const r in e[a])if(e[a].hasOwnProperty(r)){const s=e[a][r];s.length>0&&(i+=""===i?`${t[r]}`:`-${t[r]}`)}r+=""===r?`${i}`:`\n${i}`,i=""})),r}catch(t){return""}},especialidadAdd(){this.editProfesional.especialidades.push(this._cloneDeep(this.profesional.especialidades[0]))},editItem(e){this.editedIndex=this.profesionales.indexOf(e);let a=this._cloneDeep(e);a.especialidades.forEach((e=>{e.unidad_atencion=e.unidad_atencion?.id||"",e.dias=Object.keys(e.dias_laborales).slice()})),this.editProfesional=this._cloneDeep(a),this.dialog=!0},close(){this.dialog=!1,setTimeout((()=>{this.editProfesional=this._cloneDeep(this.profesional),this.editedIndex=-1,this.$refs.form.resetValidation()}),300)},async guardarProfesional(){if(this.$refs.form.validate())try{let a=this._cloneDeep(this.editProfesional);for(const e in a)Object.hasOwnProperty.call(a,e)&&(""!==a[e]&&null!==a[e]||delete a[e]);this.mostrarLoading({titulo:"Registrando Profesional...",color:"primary"});let t=await this.axios.post(this.APIURL+"/profesional",a,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Profesional registrado exitosamente.",` ${a.apellido}, ${a.nombre}.`],titulo:"Registro Exitoso"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async editarProfesional(){if(this.$refs.form.validate())try{let a=this._cloneDeep(this.editProfesional);this.mostrarLoading({titulo:"Editando Profesional...",color:"primary"});let t=await this.axios.put(`${this.APIURL}/profesional/${a.id}`,a,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Profesional editado exitosamente.",` ${a.apellido}, ${a.nombre}.`],titulo:"Edicion Exitosa"}),this.close(),this.cargarProfesionales();else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(e){try{this.mostrarError({errores:e.response.data.err.errors,mensaje:e.response.data.err.message,titulo:e.response.status})}catch(e){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}else this.mostrarError({errores:"",mensaje:"Revise los campos obligatorios.",titulo:"Valores Requeridos."})},async deleteProfesional(e){if(confirm(`Esta seguro que desea Eliminar\n al Profesional: ${e.nombreC}?`))try{this.mostrarLoading({titulo:"Borrando Profesional...",color:"primary"});let t=await this.axios.delete(`${this.APIURL}/profesional/${e._id}`,this.axiosConfig);if(t.data.ok)this.mostrarMensaje({msj:["Borrado exitosamente."],titulo:"Borrado Exitoso"}),e.estado=!1;else try{this.mostrarError({errores:"",mensaje:t.data.err.message,titulo:t.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}catch(a){try{this.mostrarError({errores:a.response.data.err.errors,mensaje:a.response.data.err.message,titulo:a.response.status})}catch(a){this.mostrarError({errores:"",mensaje:"Problemas con el servidor, Intente mas tarde.",titulo:500})}}finally{this.ocultarLoading()}}}},q=O,D=(0,A.Z)(q,_,Z,!1,null,null,null),N=D.exports},445:function(e,a,t){t.d(a,{Z:function(){return i}});var r=t(21),i={name:"v-form",mixins:[(0,r.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var a=this,t=function(e){return e.$watch("hasError",(function(t){a.$set(a.errorBag,e._uid,t)}),{immediate:!0})},r={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(a.errorBag.hasOwnProperty(e._uid)||(r.valid=t(e)))})):r.valid=t(e),r},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var a=this.watchInput(e);this.inputs.push(e),this.watchers.push(a)},unregister:function(e){var a=this.inputs.find((function(a){return a._uid===e._uid}));if(a){var t=this.watchers.find((function(e){return e._uid===a._uid}));t.valid&&t.valid(),t.shouldValidate&&t.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==a._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(e){var a=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return a.$emit("submit",e)}}},this.$slots.default)}}}}]);