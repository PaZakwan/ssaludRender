"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[7531],{119:function(t,e,r){r.r(e),r.d(e,{default:function(){return x}});var a=r(28383),i=r(15852),s=r(1899),o=r(48122),n=r(41614),d=r(69155),l=r(55731),c=function(){var t=this,e=t._self._c;return e(o.A,{attrs:{"grid-list-xs":""}},[e(d.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(n.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(i.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(s.OQ,{staticClass:"px-0 text-uppercase"},[t._v("====== SISTEMA DE GESTION INTEGRAL PARA EMISION DE TURNOS ======")])],1)],1),t.loading.estado?e(n.A,{attrs:{"pa-1":"","ma-1":"",terciary:"",xs12:""}},[e(i.A,{staticClass:"white--text",attrs:{color:"terciary darken-2"}},[e(s.OQ,{staticClass:"px-0 text-uppercase"},[t._v("====== Creando PDF Espere... ======")])],1)],1):e(n.A,{attrs:{"pa-1":"","ma-1":"",terciary:"",xs12:""}},[e(i.A,{staticClass:"white--text",attrs:{color:"terciary darken-2"}},[e(s.SL,[e(d.A,{attrs:{row:"",wrap:""}},[e(l.hc),e(a.A,{staticClass:"terciary darken-1",attrs:{round:"",dark:"",disabled:t.loading.estado,loading:t.loading.estado},on:{click:t.generarPDF}},[t._v(" "+t._s("true"==t.descarga?"Descargar PDF":"Mostrar PDF"))]),e(l.hc)],1)],1)],1)],1)],1)],1)},p=[],f=(r(44114),r(95353)),h=r(95350),m={name:"turneroTurnosImprimir",components:{},data:()=>({descarga:!0,pdfGen:h.P,pdf:h.dd,tablaConfig:{layout:"TituloDatos",style:"margenTabla",table:{widths:["8%","*","22%","12%","12%","7%"],heights:20,headerRows:1,body:[[{text:"\nHorario\n ",style:["centrado"],fillColor:"#D9D9D9",key:"hora",key_style:["centrado"]},{text:"\nApellido, Nombre\n ",style:["centrado"],fillColor:"#D9D9D9",key:"nombreC"},{text:"\nDocumento\n ",style:["centrado"],fillColor:"#D9D9D9",key:"documentoC"},{text:"\nTelefono\n ",style:["centrado"],fillColor:"#D9D9D9",key:"telefono",key_style:["derecha"]},{text:"\n# Historial\n ",style:["centrado"],fillColor:"#D9D9D9",key:"historial",key_style:["derecha"]},{text:[{text:"\nAsist.\n "}],style:["centrado"],fillColor:"#BDBDBD",key:"asistio"}]]}}}),computed:{...(0,f.aH)(["loading"]),...(0,f.aH)("turnero",{pdfImprimir:t=>t.pdfImprimir}),nombrePDF(){return`Declaracion_${this.pdfImprimir.profesional}_${this.pdfImprimir.fecha}.pdf`}},async created(){try{this.descarga=this.$route.query.descarga,await this.cargarPdfStore(),await this.generarPDF()}catch(t){this.mostrarError({mensaje:t,titulo:"Inesperado (PDF)"})}},methods:{...(0,f.PY)(["mostrarLoading","ocultarLoading","mostrarError"]),...(0,f.PY)("turnero",["cargarPdfStore"]),async modificarPdf(){this.pdf.info={title:`Turnos_${this.pdfImprimir.profesional}_${this.pdfImprimir.fecha}`,author:"Secretaria de Salud"},this.pdf.images={muni_description:this.pdf.images.muni_description},this.pdf.header=(t,e,r)=>[{columns:[{width:"*",text:[{text:`${this.pdfImprimir.ua.toUpperCase()} - ${this.pdfImprimir.especialidad.toUpperCase()}`}],style:["cabecera"],margin:[10,5]},{width:"22%",text:[{text:`Fecha: ${this.pdfImprimir.fecha}`,fontSize:13}],style:["derecha","subrayado"],margin:[10,5]}]},{columns:[{width:"25%",layout:"noBorders",table:{body:[[{width:.25*(r.width-this.pdf.pageMargins[0]-this.pdf.pageMargins[2]),image:"muni_description"}]]},margin:[0,15,0,0]},{width:"*",text:[{text:"\nSi.G.I.E.T.",style:["negrita","centrado","subrayado"],fontSize:16},{text:"\nSistema de Gestion Integral",style:["negrita","centrado"],fontSize:14},{text:"\npara Emision de Turnos",style:["negrita","centrado"],fontSize:14}]},{width:"25%",text:[{text:"\nProfesional\n",style:["negrita","subrayado","centrado"],fontSize:14},{text:`\n${this.pdfImprimir.profesional?.toUpperCase()??"-----"}`,style:["negrita","derecha"]}]}],margin:[30,5]}],this.pdf.footer=(t,e,r)=>[{columns:[{width:"*",text:[{text:`PÃ¡gina ${t} de ${e}`,fontSize:10}],style:["derecha"],margin:[10,5]}]}],this.pdf.content.push(await(0,h.s)({config:this.tablaConfig,data:this.pdfImprimir.turnosList}))},async generarPDF(){try{this.mostrarLoading({titulo:"Preparando PDF..."}),await this.modificarPdf(),await(0,h.P)(this.pdf,`${this.pdf.info.title}.pdf`,this.descarga)}catch(t){return this.mostrarError({mensaje:t,titulo:"Inesperado (generarPDF)"}),!1}finally{this.ocultarLoading()}}}},u=m,g=r(81656),y=(0,g.A)(u,c,p,!1,null,null,null),x=y.exports}}]);