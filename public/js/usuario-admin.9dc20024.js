"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[318],{6404:function(a,e,t){t.d(e,{Z:function(){return u}});var r=function(){var a=this,e=a._self._c;return a.field.array?e("span",[a.field.object?e("span",a._l(a._get(a.props.item,a.field.ruta),(function(t,r){return e("code",{key:`${a.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[a.field.keyShow?e("span",[a._v(a._s(a.field.date?a.mostrarFecha(t[a.field.keyShow],a.field.time):t[a.field.keyShow]||"0"==t[a.field.keyShow]?t[a.field.keyShow]:"S/D"))]):e("span",a._l(t,(function(s,i,o){return e("span",{key:`${a.field.text}-${r}-${i}`},[a._v(a._s(i)+": "),e("kbd",[a._v(a._s(isNaN(s)&&"Invalid Date"!==a.mostrarFecha(s,a.field.time)?a.mostrarFecha(s,a.field.time)||"S/D":s||"0"==s?s:"S/D"))]),o!=Object.keys(t).length-1?e("span",[a._v(a._s("\n"))]):a._e()])})),0)])})),0):e("span",a._l(a._get(a.props.item,a.field.ruta),(function(t,r){return e("code",{key:`${a.field.text}-${r}`,attrs:{STYLE:"margin:4px"}},[a._v(a._s(a.field.date?a.mostrarFecha(t,a.field.time):t||"0"==t?t:"S/D"))])})),0)]):a.field.object?e("span",[e("code",{attrs:{STYLE:"margin:4px"}},[a.field.keyShow?e("span",[a._v(a._s(a.field.date?a.mostrarFecha(a._get(a.props.item,a.field.ruta)[a.field.keyShow],a.field.time):a._get(a.props.item,a.field.ruta)[a.field.keyShow]||"0"==a._get(a.props.item,a.field.ruta)[a.field.keyShow]?a._get(a.props.item,a.field.ruta)[a.field.keyShow]:"--------"))]):e("span",a._l(a._get(a.props.item,a.field.ruta),(function(t,r,s){return e("span",{key:`${a.field.text}-${r}`},[a._v(a._s(r)+": "),e("kbd",[a._v(a._s(isNaN(t)&&"Invalid Date"!==a.mostrarFecha(t,a.field.time)?`${a.mostrarFecha(t,a.field.time)}`||"S/D":t||"0"==t?`${t}`:"S/D"))]),s!=Object.keys(a._get(a.props.item,a.field.ruta)).length-1?e("span",[a._v(a._s("\n"))]):a._e()])})),0)])]):e("span",{style:""+(a.field.numeric&&a._get(a.props.item,a.field.ruta)<0?"color: red;":"")},[a._v(a._s(a.field.date?a.mostrarFecha(a.props.item[a.field.ruta],a.field.time):a.field.boolean?""+(a._get(a.props.item,a.field.ruta)&&"false"!=a._get(a.props.item,a.field.ruta)&&"0"!=a._get(a.props.item,a.field.ruta)?"Si":"No"):a._get(a.props.item,a.field.ruta)||"0"==a._get(a.props.item,a.field.ruta)?a._get(a.props.item,a.field.ruta).toLocaleString("es-AR"):"--------"))])},s=[],i={name:"body-data-table-dinamic",props:["props","field"]},o=i,l=t(1001),n=(0,l.Z)(o,r,s,!1,null,null,null),u=n.exports},4874:function(a,e,t){t.d(e,{Z:function(){return x}});var r=t(7416),s=t(7441),i=t(683),o=t(9456),l=t(4036),n=t(4618),u=function(){var a=this,e=a._self._c;return e(o.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[e(i.Z,{attrs:{xs8:"","px-3":""}},[e(n.h,{attrs:{readonly:a.editando,clearable:!a.editando,"background-color":a.editando?"primary lighten-2":"primary lighten-5","prepend-icon":"person",label:"Usuario",type:"text",color:"primary",rules:a.editando?[]:[...a.rules.requerido,...a.rules.textoNumero,a.rules.minLength(3)],"validate-on-blur":"",autocomplete:"username"},model:{value:a.usuario.usuario,callback:function(e){a.$set(a.usuario,"usuario",e)},expression:"usuario.usuario"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Nombre",type:"text",color:"primary",rules:[...a.rules.requerido,a.rules.minLength(2)],"validate-on-blur":""},model:{value:a.usuario.nombre,callback:function(e){a.$set(a.usuario,"nombre",e)},expression:"usuario.nombre"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"person",label:"Apellido",type:"text",color:"primary",rules:[...a.rules.requerido,a.rules.minLength(2)],"validate-on-blur":""},model:{value:a.usuario.apellido,callback:function(e){a.$set(a.usuario,"apellido",e)},expression:"usuario.apellido"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"phone",label:"Telefono",type:"text",color:"primary",rules:[...a.rules.soloNumero],"validate-on-blur":""},model:{value:a.usuario.telefono,callback:function(e){a.$set(a.usuario,"telefono",e)},expression:"usuario.telefono"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"mail",label:"Email",type:"email",color:"primary",rules:[...a.rules.mail],"validate-on-blur":""},model:{value:a.usuario.email,callback:function(e){a.$set(a.usuario,"email",e)},expression:"usuario.email"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(r.Z,{staticClass:"capitalizar",attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"location_city",label:"Area",items:a.areas,"item-value":"id","item-text":"area",color:"primary",rules:[...a.rules.requerido],"validate-on-blur":""},model:{value:a.usuario.area,callback:function(e){a.$set(a.usuario,"area",e)},expression:"usuario.area"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{clearable:"","background-color":"primary lighten-5","prepend-icon":"work",label:"Actividad en el Area",type:"text",color:"primary","validate-on-blur":""},model:{value:a.usuario.actividad,callback:function(e){a.$set(a.usuario,"actividad",e)},expression:"usuario.actividad"}})],1),a.editando?e(i.Z,{attrs:{xs12:""}},[e(o.Z,{attrs:{row:"",wrap:""}},[e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""},on:{click:a.checkPassword}},[e(s.Z,{attrs:{label:"Cambiar Contraseña: "+(a.checkPass?"SI":"NO")},on:{change:function(e){a.checkPassword(),a.usuario.password=null,a.usuario.password2=null}},model:{value:a.checkPass,callback:function(e){a.checkPass=e},expression:"checkPass"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}})],1)],1):a._e(),!0===a.checkPass?e(i.Z,{attrs:{xs12:""}},[e(o.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",rules:[...a.rules.requerido,a.rules.minLength(4)],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:a.usuario.password,callback:function(e){a.$set(a.usuario,"password",e)},expression:"usuario.password"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(n.h,{attrs:{"prepend-icon":"lock",label:"Repetir Contraseña",type:"password",rules:[...a.rules.requerido,a.rules.minLength(4),e=>e===a.usuario.password||"Las Constraseñas no coinciden."],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:a.usuario.password2,callback:function(e){a.$set(a.usuario,"password2",e)},expression:"usuario.password2"}})],1)],1)],1):a._e(),"ADMIN_ROLE"===a.persona.role?e(i.Z,{attrs:{xs12:""}},[e(o.Z,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(l.r,{attrs:{"item-value":"valor","item-text":"label",items:a.opcionesRoles,label:"Rol","prepend-icon":"supervisor_account",color:"primary","background-color":"primary lighten-5",rules:[...a.rules.requerido]},model:{value:a.usuario.role,callback:function(e){a.$set(a.usuario,"role",e)},expression:"usuario.role"}})],1),e(i.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[e(l.r,{attrs:{"item-value":"valor","item-text":"label",items:a.opcionesEstados,label:"Estado","prepend-icon":"true"==a.usuario.estado?"check_circle":"cancel",color:"true"==a.usuario.estado?"green lighten-1":"error lighten-1","background-color":"true"==a.usuario.estado?"green lighten-1":"error lighten-1",rules:[...a.rules.requerido]},model:{value:a.usuario.estado,callback:function(e){a.$set(a.usuario,"estado",e)},expression:"usuario.estado"}})],1)],1)],1):a._e(),"ADMIN_ROLE"===a.persona.role?e(i.Z,{attrs:{grey:"","lighten-4":"",xs12:""}},[e("treeProperties",{attrs:{data:a.usuario,treeRead:a.permisos,opcionesSelect:a.opcionesPermiso,editando:a.editando,areas:a.areas}})],1):a._e()],1)},c=[],d=t(629),m=t(8535),p={name:"formUsuario",props:["usuario","editar"],components:{treeProperties:m.Z},data(){return{checkPass:!0,areas:[]}},computed:{...(0,d.rn)(["persona","rules"]),...(0,d.rn)("main_usuario",["permisos","opcionesPermiso","opcionesRoles","opcionesEstados"]),editando(){return"true"===this.editar}},async created(){this.areas.push(...await this.buscarAreaFiltros({filtro:"todos",populate:"no",select:"area farmacia unidad_atencion",free:"ADMIN_ROLE"!==this.persona?.role}))},methods:{...(0,d.nv)("main_areas",["buscarAreaFiltros"]),checkPassword(){this.$emit("checkPassword",this.checkPass)}}},h=p,f=t(1001),g=(0,f.Z)(h,u,c,!1,null,null,null),x=g.exports},7662:function(a,e,t){t.r(e),t.d(e,{default:function(){return S}});var r=t(8469),s=t(7416),i=t(6194),o=t(8956),l=t(2353),n=t(9418),u=t(6530),c=t(7352),d=t(108),m=t(683),p=t(3667),h=t(9456),f=t(6446),g=t(8143),x=t(4618),b=function(){var a=this,e=a._self._c;return e(u.Z,{attrs:{fluid:"","grid-list-xs":""}},[e(h.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(m.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(o.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(l.ZB,{staticClass:"px-0"},[a._v("====== GESTION DE USUARIOS ======")])],1)],1),e(m.Z,{attrs:{"pa-1":"","ma-1":"",primary:"","lighten-1":"",xs12:""}},[e(o.Z,{staticClass:"elevation-6"},[e(n.Z,{staticClass:"primary"},[e(p.Z,{attrs:{medium:"",left:"",color:"white"}},[a._v("people")]),e("span",{staticClass:"title white--text"},[a._v("Usuarios")]),e(d.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),e(g.Cl),e(i.Z,{staticClass:"white--text",attrs:{round:"",color:"primary darken-1",disabled:a.loading.estado,loading:a.loading.estado},on:{click:function(e){return a.cargarUsuarios()}}},[e(p.Z,{attrs:{color:"white",left:""}},[a._v("refresh")]),a._v("Actualizar Lista")],1),e(i.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioCrear"},color:"primary darken-1",disabled:a.loading.estado,loading:a.loading.estado}},[e(p.Z,{attrs:{color:"white",left:""}},[a._v("person_add")]),a._v("Crear Usuario")],1)],1),e(n.Z,{staticClass:"title primary lighten-2"},[e(m.Z,{attrs:{xs12:"","mx-2":""}},[e(s.Z,{staticClass:"capitalizar",attrs:{clearable:"",color:"black","background-color":"primary lighten-5",items:a.filtroHeaderOptions,label:"Mostrar Columnas","prepend-icon":"pie_chart","menu-props":{top:!0,auto:!0},multiple:"",chips:"","deletable-chips":""},model:{value:a.filtroHeaderSelected,callback:function(e){a.filtroHeaderSelected=e},expression:"filtroHeaderSelected"}})],1),e(g.Cl),e(m.Z,{attrs:{xs12:"",sm6:"","mx-2":""}},[e(x.h,{attrs:{"append-icon":"search",label:"Filtrar","background-color":"primary lighten-5",color:"black","single-line":"","hide-details":"",clearable:""},model:{value:a.search,callback:function(e){a.search=e},expression:"search"}})],1)],1),e(c.Z,{key:`tablita_${a.reRenderizarTable}`,staticClass:"elevation-6",staticStyle:{"table-layout":"fixed"},attrs:{id:"tablita",headers:a.headers,items:a.listUsuarios,"item-key":"_id",pagination:a.paginacion,"rows-per-page-items":[5,10,25,50],loading:a.loading.estado,search:a.search},on:{"update:pagination":function(e){a.paginacion=e}},scopedSlots:a._u([{key:"no-data",fn:function(){return[e(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(" No hay datos para mostrar. ")])]},proxy:!0},{key:"no-results",fn:function(){return[e(r.Z,{staticClass:"text-sm-left",attrs:{value:!0,color:"error",icon:"warning"}},[a._v(' No se encontraron resultados para "'+a._s(a.search)+'". ')])]},proxy:!0},{key:"items",fn:function(t){return[e("tr",{class:{"background-color: primary lighten-5":t.item.estado,"background-color: error lighten-4":!t.item.estado}},[e("td",[e("div",{staticStyle:{width:"88px"}},[e(i.Z,{attrs:{icon:"",small:"",disabled:a.loading.estado,to:{name:"UsuarioEditar",params:{id:t.item._id}}}},[e(p.Z,{attrs:{color:"primary"}},[a._v(" edit ")])],1),e(i.Z,{attrs:{icon:"",small:"",disabled:a.loading.estado||!t.item.estado},on:{click:function(e){return a.deleteUsuario(t.item)}}},[e(p.Z,{attrs:{color:"error"}},[a._v(" delete ")])],1)],1)]),a._l(a.headersDinamics,(function(a){return e("td",{key:a.text,class:a.class},[e("bodyDataTableDinamic",{attrs:{props:t,field:a}})],1)}))],2)]}}])},[e(f.Z,{attrs:{color:"blue",indeterminate:""}})],1)],1)],1)],1)],1)},v=[],w=t(629),_=t(6404),y={name:"usuarioBuscar",components:{bodyDataTableDinamic:_.Z},data:()=>({paginacion:{sortBy:"usuario",descending:!1,rowsPerPage:10,page:1},search:"",listUsuarios:[],reRenderizarTable:!0,filtroHeaderOptions:["Datos Personales","Trabajo","Permisos Laboratorio","Permisos Patrimonio","Permisos HiClEM","Permisos Farmacia","Deprecated"],filtroHeaderSelected:["Trabajo"]}),computed:{...(0,w.rn)(["loading"]),headers(){if(0!=this.listUsuarios.length){let a=[{text:"Acciones",value:"_id",align:"center",sortable:!1,width:"5%",ignore:!0},{text:"Usuario",value:"usuario",class:"font-weight-bold text-sm-left",width:"5%",ruta:"usuario"},{text:"Nombre Completo",value:"nombreC",class:"font-weight-bold text-capitalize text-sm-left",width:"5%",ruta:"nombreC"}];return this.filtroHeaderSelected.includes("Datos Personales")&&a.push({text:"E-mail",value:"email",class:"font-weight-bold text-sm-left",width:"5%",ruta:"email"},{text:"Telefono",value:"telefono",class:"font-weight-bold text-sm-right",width:"5%",ruta:"telefono"}),this.filtroHeaderSelected.includes("Trabajo")&&a.push({text:"Role",value:"role",class:"font-weight-bold text-sm-left",width:"5%",ruta:"role"},{text:"Area",value:"area.area",class:"font-weight-bold text-capitalize text-sm-left",ruta:"area.area"},{text:"Actividad",value:"actividad",class:"font-weight-bold text-sm-left",ruta:"actividad"},{text:"Ultima Sesion",value:"lastLogin",class:"font-weight-bold text-sm-left",width:"5%",ruta:"lastLogin",date:!0,time:!0}),this.filtroHeaderSelected.includes("Permisos Laboratorio")&&a.push({text:"Bromatologia",value:"bromatologia",class:"font-weight-bold text-sm-center",width:"5%",ruta:"bromatologia"}),this.filtroHeaderSelected.includes("Permisos Patrimonio")&&a.push({text:"Informatica",value:"informatica",class:"font-weight-bold text-sm-center",width:"5%",ruta:"informatica"},{text:"Patrimonio",value:"patrimonio",class:"font-weight-bold text-sm-center",width:"5%",ruta:"patrimonio"},{text:"Patrimonio Area (cambiar)",value:"patrimonioArea",class:"font-weight-bold text-sm-center",width:"5%",ruta:"patrimonioArea"}),this.filtroHeaderSelected.includes("Permisos HiClEM")&&a.push({text:"Turnero",value:"turnero",class:"font-weight-bold text-sm-center",width:"5%",ruta:"turnero"},{text:"Tuberculosis",value:"tuberculosis",class:"font-weight-bold text-sm-center",width:"5%",ruta:"tuberculosis"},{text:"HICLEM",value:"historial_clinico",class:"font-weight-bold text-sm-center",width:"5%",ruta:"historial_clinico"}),this.filtroHeaderSelected.includes("Permisos Farmacia")&&a.push({text:"Crear Insumos",value:"farmacia.insumos",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.insumos",boolean:!0},{text:"Entrega Medicamentos",value:"farmacia.entregas",class:"font-weight-bold text-sm-left",ruta:"farmacia.entregas",array:!0,object:!0,keyShow:"area"},{text:"Farmacia Stock",value:"farmacia.stock",class:"font-weight-bold text-sm-left",ruta:"farmacia.stock",array:!0,object:!0,keyShow:"area"},{text:"Farmacia Gestion",value:"farmacia.gestion",class:"font-weight-bold text-sm-left",ruta:"farmacia.gestion",array:!0,object:!0,keyShow:"area"},{text:"Farm Gral Stock",value:"farmacia.general.stock",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.stock",boolean:!0},{text:"Farm Gral Reportes",value:"farmacia.general.reportes",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.reportes",boolean:!0},{text:"Farm Gral Admin",value:"farmacia.general.admin",class:"font-weight-bold text-sm-center",width:"5%",ruta:"farmacia.general.admin",boolean:!0}),this.filtroHeaderSelected.includes("Deprecated")&&a.push({text:"Sala (Deprecated)",value:"sala",class:"font-weight-bold text-sm-left",width:"5%",ruta:"sala"},{text:"COVID-19 (Deprecated)",value:"covid",class:"font-weight-bold text-sm-center",width:"5%",ruta:"covid"},{text:"SAME (Deprecated)",value:"same",class:"font-weight-bold text-sm-center",width:"5%",ruta:"same"},{text:"Salud Mental (Deprecated)",value:"salud_mental",class:"font-weight-bold text-sm-center",width:"5%",ruta:"salud_mental"}),a}return[]},headersDinamics(){return[...this.headers.filter((a=>!0!==a.ignore))]}},created(){this.cargarUsuarios()},methods:{...(0,w.nv)("main_usuario",["buscarUsuarios","borrarUsuarioID"]),async cargarUsuarios(){this.listUsuarios=await this.buscarUsuarios(),this.paginacion.page>Math.ceil(this.listUsuarios.length/this.paginacion.rowsPerPage)&&(this.paginacion.page=1)},async deleteUsuario(a){let e=this.listUsuarios.indexOf(a);if(confirm("¿Esta seguro que quiere Desactivar este Usuario?")){let t=await this.borrarUsuarioID(a._id);t&&(this.listUsuarios[e].estado=!1)}}}},k=y,Z=t(1001),C=(0,Z.Z)(k,b,v,!1,null,null,null),S=C.exports},806:function(a,e,t){t.r(e),t.d(e,{default:function(){return y}});var r=t(6194),s=t(8956),i=t(2353),o=t(9418),l=t(6530),n=t(108),u=t(683),c=t(445),d=t(3667),m=t(9456),p=t(8143),h=function(){var a=this,e=a._self._c;return e(l.Z,{attrs:{"grid-list-xs":""}},[e(m.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(i.ZB,{staticClass:"px-0"},[a._v("====== GESTION DE USUARIOS ======")])],1)],1),e(u.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[e(s.Z,{staticClass:"elevation-6"},[e(o.Z,{staticClass:"primary"},[e(d.Z,{attrs:{medium:"",left:"",color:"white"}},[a._v("person_add")]),e("span",{staticClass:"title white--text"},[a._v("Crear Usuario")]),e(n.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),e(p.Cl),e(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioBuscar"},color:"primary darken-1",disabled:a.loading.estado,loading:a.loading.estado}},[e(d.Z,{attrs:{color:"white",left:""}},[a._v("search")]),a._v("Buscar Usuario")],1)],1),e(i.ZB,[e(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(e){a.valido=e},expression:"valido"}},[e(m.Z,{attrs:{row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.crearUsuario.apply(null,arguments)}}},[e("formUsuario",{attrs:{usuario:a.usuario}})],1)],1)],1),e(o.Z,{staticClass:"primary lighten-2"},[e(p.Cl),e(n.Z,{staticClass:"mx-3 black",attrs:{vertical:""}}),e(r.Z,{class:(a.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:a.crearUsuario}},[e(d.Z,{attrs:{left:"",color:"white"}},[a._v("person_add")]),a._v(a._s(a.valido?"Registrar":"Formulario No valido"))],1)],1)],1)],1)],1)],1)},f=[],g=t(629),x=t(4874),b={name:"usuarioCrear",components:{formUsuario:x.Z},data(){return{valido:!0,usuario:{}}},computed:{...(0,g.rn)(["loading"]),...(0,g.rn)("main_usuario",["usuarioBase"])},created(){this.usuario={...this._cloneDeep(this.usuarioBase)}},methods:{...(0,g.OI)(["mostrarError"]),...(0,g.nv)("main_usuario",["guardarUsuario"]),resetForm(){this.usuario={...this._cloneDeep(this.usuarioBase)},this.$refs.form.resetValidation()},async crearUsuario(){if(this.usuario.password!==this.usuario.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarUsuario({usuario:this.usuario,validate:this.$refs.form.validate,finish:this.resetForm})}}},v=b,w=t(1001),_=(0,w.Z)(v,h,f,!1,null,null,null),y=_.exports},9015:function(a,e,t){t.r(e),t.d(e,{default:function(){return y}});var r=t(6194),s=t(8956),i=t(2353),o=t(9418),l=t(6530),n=t(108),u=t(683),c=t(445),d=t(3667),m=t(9456),p=t(8143),h=function(){var a=this,e=a._self._c;return e(l.Z,{attrs:{"grid-list-xs":""}},[e(m.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[e(u.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[e(s.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[e(i.ZB,{staticClass:"px-0"},[a._v("====== GESTION DE USUARIOS ======")])],1)],1),e(u.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[e(s.Z,{staticClass:"elevation-6"},[e(o.Z,{staticClass:"primary"},[e(d.Z,{attrs:{medium:"",left:"",color:"white"}},[a._v("manage_accounts")]),e("span",{staticClass:"title white--text"},[a._v("Editar Usuario")]),e(n.Z,{staticClass:"mx-3 white",attrs:{vertical:""}}),e(p.Cl),e(r.Z,{staticClass:"white--text",attrs:{round:"",to:{name:"UsuarioBuscar"},color:"primary darken-1",disabled:a.loading.estado,loading:a.loading.estado}},[e(d.Z,{attrs:{color:"white",left:""}},[a._v("search")]),a._v("Buscar Usuario")],1)],1),e(i.ZB,[e(c.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:a.valido,callback:function(e){a.valido=e},expression:"valido"}},[e(m.Z,{attrs:{row:"",wrap:""},on:{keypress:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"enter",13,e.key,"Enter")?null:a.editarUsuario.apply(null,arguments)}}},[e("formUsuario",{attrs:{usuario:a.usuario,editar:"true"},on:{checkPassword:function(e){return a.cambiarPassword(e)}}})],1)],1)],1),e(o.Z,{staticClass:"primary lighten-2"},[e(p.Cl),e(n.Z,{staticClass:"mx-3 black",attrs:{vertical:""}}),e(r.Z,{class:(a.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:a.loading.estado,loading:a.loading.estado},on:{click:a.editarUsuario}},[e(d.Z,{attrs:{left:"",color:"white"}},[a._v("manage_accounts")]),a._v(a._s(a.valido?"Editar Usuario":"Formulario No valido"))],1)],1)],1)],1)],1)],1)},f=[],g=t(629),x=t(4874),b={name:"usuarioEditar",components:{formUsuario:x.Z},data(){return{valido:!0,cambiarPass:!0,usuario:{}}},computed:{...(0,g.rn)(["loading"]),...(0,g.rn)("main_usuario",["usuarioBase"])},async created(){this.usuario={...this._merge(this._cloneDeep(this.usuarioBase),await this.buscarUsuarioID(this.$route.params.id))}},methods:{...(0,g.OI)(["mostrarError"]),...(0,g.nv)("main_usuario",["buscarUsuarioID","guardarUsuario"]),cambiarPassword(a){this.cambiarPass=a},async editarUsuario(){let a=JSON.parse(JSON.stringify(this.usuario));if(!1===this.cambiarPass)delete a.password,delete a.password2;else if(a.password!==a.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarUsuario({usuario:a,validate:this.$refs.form.validate,finish:"retroceder"})}}},v=b,w=t(1001),_=(0,w.Z)(v,h,f,!1,null,null,null),y=_.exports}}]);