"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[292],{3969:function(t,r,a){a.r(r),a.d(r,{default:function(){return Z}});var e=a(6194),i=a(8956),o=a(2353),s=a(6530),n=a(108),l=a(683),d=a(445),u=a(3667),c=a(9456),h=a(8143),f=a(4618),m=a(1415),p=function(){var t=this,r=t._self._c;return r(s.Z,{attrs:{fluid:"","grid-list-xs":""}},[r(c.Z,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[r(l.Z,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[r(i.Z,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[r(o.ZB,{staticClass:"px-0 text-uppercase"},[t._v("====== Gestion de Farmacia ======")])],1)],1),r(l.Z,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[r(i.Z,{staticClass:"elevation-6"},[r(c.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:""}},[r(l.Z,{attrs:{"px-3":""}},[r(u.Z,{attrs:{medium:"",color:"white",left:""}},[t._v("local_shipping")]),r("span",{staticClass:"title white--text"},[t._v("Insumos / Proveedores")])],1),r(h.Cl),r(n.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),r(e.Z,t._g({staticClass:"white--text",attrs:{round:"",disabled:t.loading.estado,loading:t.loading.estado,color:"blue-grey"},on:{click:function(r){return t.agregarDato()}}},t.on),[t._v(" Agregar Proveedor "),r(u.Z,t._g({attrs:{right:"",color:"cuarto darken-2",large:""}},t.on),[t._v(" add_circle ")])],1)],1),r(o.ZB,[r(d.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valido,callback:function(r){t.valido=r},expression:"valido"}},[r(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},t._l(t.data,(function(a,e){return r(l.Z,{key:`dato-${e}`,attrs:{xs12:"",sm6:"","px-3":""}},[r(f.h,{attrs:{"prepend-icon":"local_shipping",label:"Proveedor",type:"text",rules:[...t.rules.requerido],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":""},model:{value:t.data[e],callback:function(r){t.$set(t.data,e,r)},expression:"data[index]"}},[0!=e?r("template",{slot:"append-outer"},[r(m.Z,{staticStyle:{"border-radius":"25px"},attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:a}){return[r(u.Z,t._g({attrs:{color:"error",onpointerenter:"this.setAttribute('style', 'border-radius: 10px; background: #B0BEC5')",onpointerleave:"this.setAttribute('style', 'background: none')"},on:{click:function(r){return t.deleteDato(e)}}},a),[t._v(" delete ")])]}}],null,!0)},[r("span",{staticClass:"px-0"},[t._v("Eliminar "+t._s(a))])])],1):t._e()],2)],1)})),1)],1)],1),r(c.Z,{attrs:{row:"",wrap:"","align-center":"","justify-center":"",primary:"","lighten-2":""}},[r(e.Z,t._g({staticClass:"white--text",attrs:{round:"",disabled:t.loading.estado,loading:t.loading.estado,color:"blue-grey"},on:{click:function(r){return t.agregarDato()}}},t.on),[t._v(" Agregar Proveedor "),r(u.Z,t._g({attrs:{right:"",color:"cuarto darken-2",large:""}},t.on),[t._v(" add_circle ")])],1),r(h.Cl),r(n.Z,{staticClass:"hidden-xs-only mx-2 my-1 white",attrs:{vertical:""}}),r(e.Z,{class:{"primary darken-1":t.valido,"error darken-1":!t.valido},attrs:{round:"",disabled:t.loading.estado,loading:t.loading.estado},on:{click:t.editar}},[t._v(" "+t._s(t.valido?"Guardar Cambios":"Formulario No valido"))])],1)],1)],1),r(l.Z,{attrs:{"pa-1":"","ma-1":"",error:"","darken-2":"",xs12:""}},[r(i.Z,{attrs:{color:"yellow darken-1"}},[r(o.ZB,{staticClass:"px-0 font-weight-medium text-uppercase"},[r(u.Z,{attrs:{color:"error darken-3"}},[t._v(" warning ")]),t._v(" Si modifica un Proveedor el mismo no surtira efecto en los Insumos ya ingresados con dicho Proveedor, se recomienda no BORRAR/EDITAR Proveedores usados porque dejaran de ser visibles dichos ingresos del mismo. ")],1)],1)],1)],1)],1)},g=[],v=a(629),_={name:"farmaciaProveedores",data(){return{valido:!0,data:[]}},computed:{...(0,v.rn)(["loading","rules"])},async created(){this.data=await this.returnConfig("farmaciaProveedores")||[]},methods:{...(0,v.OI)(["mostrarLoading","ocultarLoading","mostrarError","mostrarMensaje"]),...(0,v.nv)(["requestAPI","returnConfig"]),async editar(){if(this.$refs.form.validate())try{this.mostrarLoading({titulo:"Editando especialidades...",color:"primary"});let t=null;t=await this.requestAPI({method:"put",url:"/config/farmaciaProveedores",update:{opcion:"farmaciaProveedores",datos:this.data}}),t&&this.mostrarMensaje({titulo:"Modificacion Exitosa",msj:["Cambios efectuados exitosamente."]}),this.data=await this.returnConfig("farmaciaProveedores")||[]}catch(t){this.mostrarError({titulo:"Inesperado",mensaje:t})}finally{this.ocultarLoading()}else this.mostrarError({titulo:"Valores Requeridos.",mensaje:"Revise los campos obligatorios."})},deleteDato(t){this.data.splice(t,1)},agregarDato(){this.data.push("")}}},y=_,w=a(1001),x=(0,w.Z)(y,p,g,!1,null,null,null),Z=x.exports},445:function(t,r,a){a.d(r,{Z:function(){return i}});var e=a(21),i={name:"v-form",mixins:[(0,e.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var t=Object.values(this.errorBag).includes(!0);this.$emit("input",!t)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var r=this,a=function(t){return t.$watch("hasError",(function(a){r.$set(r.errorBag,t._uid,a)}),{immediate:!0})},e={_uid:t._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?e.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(r.errorBag.hasOwnProperty(t._uid)||(e.valid=a(t)))})):e.valid=a(t),e},validate:function(){var t=this.inputs.filter((function(t){return!t.validate(!0)})).length;return!t},reset:function(){for(var t=this,r=this.inputs.length;r--;)this.inputs[r].reset();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){for(var t=this,r=this.inputs.length;r--;)this.inputs[r].resetValidation();this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},register:function(t){var r=this.watchInput(t);this.inputs.push(t),this.watchers.push(r)},unregister:function(t){var r=this.inputs.find((function(r){return r._uid===t._uid}));if(r){var a=this.watchers.find((function(t){return t._uid===r._uid}));a.valid&&a.valid(),a.shouldValidate&&a.shouldValidate(),this.watchers=this.watchers.filter((function(t){return t._uid!==r._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==r._uid})),this.$delete(this.errorBag,r._uid)}}},render:function(t){var r=this;return t("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(t){return r.$emit("submit",t)}}},this.$slots.default)}}}}]);