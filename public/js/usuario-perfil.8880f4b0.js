"use strict";(globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]=globalThis["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[5820],{65640:(e,t,a)=>{a.r(t),a.d(t,{default:()=>V});var s=a(28383),o=a(15852),r=a(1899),i=a(37471),n=a(48122),l=a(34172),u=a(41614),c=a(21939),d=a(21527),p=a(69155),m=a(55731),h=function(){var e=this,t=e._self._c;return t(n.A,{attrs:{"grid-list-xs":""}},[t(p.A,{attrs:{"align-center":"","justify-center":"","ma-0":"",wrap:"","text-xs-center":""}},[t(u.A,{attrs:{"pa-1":"","ma-1":"",cuarto:"",xs12:""}},[t(o.A,{staticClass:"white--text",attrs:{color:"cuarto darken-2"}},[t(r.OQ,{staticClass:"px-0"},[e._v("====== PERFIL DE USUARIO ======")])],1)],1),t(u.A,{attrs:{"pa-1":"","ma-1":"",xs12:"",primary:"","lighten-1":""}},[t(o.A,{staticClass:"elevation-6"},[t(i.A,{staticClass:"align-center justify-center primary"},[t(d.A,{attrs:{medium:"",left:"",color:"white"}},[e._v("person")]),t("span",{staticClass:"title white--text"},[e._v("Mis Datos")]),t(l.A,{staticClass:"hidden-xs-only mx-2 white",attrs:{vertical:""}}),t(m.hc)],1),t(r.OQ,[t(c.A,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valido,callback:function(t){e.valido=t},expression:"valido"}},[t(p.A,{attrs:{row:"",wrap:""}},[t("formPerfil",{attrs:{usuario:e.usuario},on:{checkPassword:t=>e.cambiarPass=t}})],1)],1)],1),t(i.A,{staticClass:"align-center justify-center primary lighten-2"},[t(d.A,{attrs:{medium:"",color:"black",left:""}},[e._v("info")]),t("div",[t(p.A,{attrs:{row:""}},[t("span",{staticClass:"body-2 black--text"},[e._v("Los campos mas oscuros pueden ser modificados por un Admin.")])]),t(p.A,{attrs:{row:""}},[t("span",{staticClass:"body-2 black--text"},[e._v("La constraseña anterior siempre sera requerida para editar el Perfil.")])])],1),t(m.hc),t(l.A,{staticClass:"hidden-xs-only mx-2 black",attrs:{inset:"",vertical:""}}),t(s.A,{class:(e.valido?"primary":"error")+" darken-1",attrs:{round:"",disabled:e.loading.estado,loading:e.loading.estado},on:{click:e.editarPerfil}},[t(d.A,{attrs:{left:"",color:"white"}},[e._v("edit")]),e._v(e._s(e.valido?"Editar Perfil":"Formulario No valido"))],1)],1)],1)],1)],1)],1)},g=[],f=a(95353),b=a(16717),x=a(87202),v=a(57e3),A=function(){var e=this,t=e._self._c;return t(p.A,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[t(u.A,{attrs:{xs2:"","px-3":""}}),t(u.A,{attrs:{xs8:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"person",label:"Usuario",type:"text",color:"primary","background-color":"primary lighten-3",autocomplete:"username"},model:{value:e.usuario.usuario,callback:function(t){e.$set(e.usuario,"usuario",t)},expression:"usuario.usuario"}})],1),t(u.A,{attrs:{xs2:"","px-3":""}}),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"person",label:"Nombre",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.nombre,callback:function(t){e.$set(e.usuario,"nombre",t)},expression:"usuario.nombre"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"person",label:"Apellido",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.apellido,callback:function(t){e.$set(e.usuario,"apellido",t)},expression:"usuario.apellido"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"fas fa-id-card",label:"Documento",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.documento,callback:function(t){e.$set(e.usuario,"documento",t)},expression:"usuario.documento"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{"prepend-icon":"phone",label:"Telefono",type:"text",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.soloNumero],clearable:"","validate-on-blur":""},model:{value:e.usuario.telefono,callback:function(t){e.$set(e.usuario,"telefono",t)},expression:"usuario.telefono"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{"prepend-icon":"mail",label:"Email",type:"email",color:"primary","background-color":"primary lighten-5",rules:[...e.rules.mail],clearable:"","validate-on-blur":""},model:{value:e.usuario.email,callback:function(t){e.$set(e.usuario,"email",t)},expression:"usuario.email"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{staticClass:"capitalizar",attrs:{readonly:"",value:e.usuario.area?e.usuario.area.area:"","prepend-icon":"location_city",label:"Area",type:"text",color:"primary","background-color":"primary lighten-2"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"fas fa-id-card-clip",label:"Legajo",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.legajo,callback:function(t){e.$set(e.usuario,"legajo",t)},expression:"usuario.legajo"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"work",label:"Actividad en el Area",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.actividad,callback:function(t){e.$set(e.usuario,"actividad",t)},expression:"usuario.actividad"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"fas fa-clipboard-user",label:"Matricula Provincial",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.mp,callback:function(t){e.$set(e.usuario,"mp",t)},expression:"usuario.mp"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{readonly:"","prepend-icon":"fas fa-clipboard-user",label:"Matricula Nacional",type:"text",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.mn,callback:function(t){e.$set(e.usuario,"mn",t)},expression:"usuario.mn"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(b.A,{attrs:{label:"Cambiar Contraseña: "+(e.checkPass?"SI":"NO")},on:{change:function(t){e.$emit("checkPassword",e.checkPass),e.usuario.password=null,e.usuario.password2=null}},model:{value:e.checkPass,callback:function(t){e.checkPass=t},expression:"checkPass"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}}),!0===e.checkPass?t(u.A,{attrs:{xs12:""}},[t(p.A,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{"prepend-icon":"lock",label:"Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4)],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password,callback:function(t){e.$set(e.usuario,"password",t)},expression:"usuario.password"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(v.W,{attrs:{"prepend-icon":"lock",label:"Repetir Contraseña",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4),t=>t===e.usuario.password||"Las Constraseñas no coinciden."],color:"primary",clearable:"","background-color":"primary lighten-5","validate-on-blur":"",autocomplete:"new-password"},model:{value:e.usuario.password2,callback:function(t){e.$set(e.usuario,"password2",t)},expression:"usuario.password2"}})],1)],1)],1):e._e(),"ADMIN_ROLE"===e.persona.role?t(u.A,{attrs:{xs12:""}},[t(p.A,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(x.d,{attrs:{readonly:"","item-value":"valor","item-text":"label",items:e.opcionesRoles,label:"Rol","prepend-icon":"supervisor_account",color:"primary","background-color":"primary lighten-2"},model:{value:e.usuario.role,callback:function(t){e.$set(e.usuario,"role",t)},expression:"usuario.role"}})],1),t(u.A,{attrs:{xs12:"",sm6:"","px-3":""}},[t(x.d,{attrs:{readonly:"","item-value":"valor","item-text":"label",items:e.opcionesEstados,label:"Estado","prepend-icon":"true"==e.usuario.estado?"check_circle":"cancel",color:"true"==e.usuario.estado?"green lighten-1":"error lighten-1","background-color":"true"==e.usuario.estado?"green lighten-1":"error lighten-1"},model:{value:e.usuario.estado,callback:function(t){e.$set(e.usuario,"estado",t)},expression:"usuario.estado"}})],1)],1)],1):e._e(),t(u.A,{attrs:{grey:"","lighten-4":"",xs12:""}},[t("treeProperties",{attrs:{data:e.usuario,treeRead:e.permisos,opcionesSelect:e.opcionesPermiso,soloLectura:"soloLectura",mensajeSoloLectura:{icon:"warning_amber",msj:"Los permisos para utilizar los diferentes Modulos del Sistema los otorga Informatica de la Secretaria de Salud, para agregar/modificar los mismos comuniquese con ellos."}}})],1),t(u.A,{attrs:{xs12:""}},[t(p.A,{attrs:{grey:"","lighten-2":"",row:"",wrap:""}},[t(u.A,{attrs:{xs2:"","px-3":""}}),t(u.A,{attrs:{xs8:"","px-3":""}},[t(v.W,{attrs:{clearable:"","prepend-icon":"lock",label:"Contraseña Anterior",type:"password",rules:[...e.rules.requerido,e.rules.minLength(4)],color:"cuarto darken-4","background-color":"cuarto lighten-5","validate-on-blur":"",autocomplete:"current-password"},model:{value:e.usuario.password_anterior,callback:function(t){e.$set(e.usuario,"password_anterior",t)},expression:"usuario.password_anterior"}})],1),t(u.A,{attrs:{xs2:"","px-3":""}})],1)],1)],1)},y=[],w=a(59294);const k={name:"formPerfil",props:["usuario"],components:{treeProperties:w.A},data(){return{checkPass:!0}},computed:{...(0,f.aH)(["persona","rules"]),...(0,f.aH)("main_usuario",["permisos","opcionesPermiso","opcionesRoles","opcionesEstados"])},methods:{}},I=k;var S=a(81656),C=(0,S.A)(I,A,y,!1,null,null,null);const _=C.exports,P={name:"usuarioPerfil",components:{formPerfil:_},data(){return{valido:!0,cambiarPass:!0,usuario:{}}},computed:{...(0,f.aH)(["loading"]),...(0,f.aH)("main_usuario",["usuarioBase"])},async created(){this.usuario={...this._merge(this._cloneDeep(this.usuarioBase),await this.buscarUsuarioID(this.$route.params.id))}},methods:{...(0,f.PY)(["mostrarError"]),...(0,f.i0)("main_usuario",["buscarUsuarioID","guardarPerfil"]),async editarPerfil(){let e=JSON.parse(JSON.stringify(this.usuario));if(!1===this.cambiarPass)delete e.password,delete e.password2;else if(e.password!==e.password2)return this.$refs.form.validate(),void this.mostrarError({titulo:"Contraseña",mensaje:"Las contraseñas no coinciden."});await this.guardarPerfil({usuario:e,validate:this.$refs.form.validate,finish:"retroceder"})}}},$=P;var D=(0,S.A)($,h,g,!1,null,null,null);const V=D.exports},81737:(e,t,a)=>{a.d(t,{A:()=>i});a(26290);var s=a(25811),o=a(28597),r=a(69463);const i={name:"v-combobox",extends:o.A,props:{delimiters:{type:Array,default:function(){return[]}},returnObject:{type:Boolean,default:!0}},data:function(){return{editingIndex:-1}},computed:{counterValue:function(){return this.multiple?this.selectedItems.length:(this.internalSearch||"").toString().length},hasSlot:function(){return s.A.options.computed.hasSlot.call(this)||this.multiple},isAnyValueAllowed:function(){return!0},menuCanShow:function(){return!!this.isFocused&&(this.hasDisplayedItems||!!this.$slots["no-data"]&&!this.hideNoData)}},methods:{onFilteredItemsChanged:function(){},onInternalSearchChanged:function(e){if(e&&this.multiple&&this.delimiters.length){var t=this.delimiters.find((function(t){return e.endsWith(t)}));null!=t&&(this.internalSearch=e.slice(0,e.length-t.length),this.updateTags())}this.updateMenuDimensions()},genChipSelection:function(e,t){var a=this,o=s.A.options.methods.genChipSelection.call(this,e,t);return this.multiple&&(o.componentOptions.listeners.dblclick=function(){a.editingIndex=t,a.internalSearch=a.getText(e),a.selectedIndex=-1}),o},onChipInput:function(e){s.A.options.methods.onChipInput.call(this,e),this.editingIndex=-1},onEnterDown:function(e){e.preventDefault(),s.A.options.methods.onEnterDown.call(this),this.getMenuIndex()>-1||this.updateSelf()},onKeyDown:function(e){var t=e.keyCode;s.A.options.methods.onKeyDown.call(this,e),this.multiple&&t===r.uP.left&&0===this.$refs.input.selectionStart&&this.updateSelf(),this.changeSelectedIndex(t)},onTabDown:function(e){if(this.multiple&&this.internalSearch&&-1===this.getMenuIndex())return e.preventDefault(),e.stopPropagation(),this.updateTags();o.A.options.methods.onTabDown.call(this,e)},selectItem:function(e){this.editingIndex>-1?this.updateEditing():o.A.options.methods.selectItem.call(this,e)},setSelectedItems:function(){null==this.internalValue||""===this.internalValue?this.selectedItems=[]:this.selectedItems=this.multiple?this.internalValue:[this.internalValue]},setValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.internalSearch;s.A.options.methods.setValue.call(this,e)},updateEditing:function(){var e=this.internalValue.slice();e[this.editingIndex]=this.internalSearch,this.setValue(e),this.editingIndex=-1},updateCombobox:function(){var e=Boolean(this.$scopedSlots.selection)||this.hasChips;e&&!this.searchIsDirty||(this.internalSearch!==this.getText(this.internalValue)&&this.setValue(),e&&(this.internalSearch=void 0))},updateSelf:function(){this.multiple?this.updateTags():this.updateCombobox()},updateTags:function(){var e=this.getMenuIndex();if(!(e<0)||this.searchIsDirty){if(this.editingIndex>-1)return this.updateEditing();var t=this.selectedItems.indexOf(this.internalSearch);if(t>-1){var a=this.internalValue.slice();a.splice(t,1),this.setValue(a)}if(e>-1)return this.internalSearch=null;this.selectItem(this.internalSearch),this.internalSearch=null}}}}},87202:(e,t,a)=>{a.d(t,{d:()=>g,A:()=>f});var s=a(25811),o=a(28597);const r=o.A;var i=a(91356),n=a(39945),l=a(73803);const u=r.extend({name:"v-overflow-btn",props:{segmented:Boolean,editable:Boolean,transition:s.A.options.props.transition},computed:{classes:function(){return Object.assign(r.options.computed.classes.call(this),{"v-overflow-btn":!0,"v-overflow-btn--segmented":this.segmented,"v-overflow-btn--editable":this.editable})},isAnyValueAllowed:function(){return this.editable||r.options.computed.isAnyValueAllowed.call(this)},isSingle:function(){return!0},computedItems:function(){return this.segmented?this.allItems:this.filteredItems},$_menuProps:function(){var e=r.options.computed.$_menuProps.call(this);return e.transition=e.transition||"v-menu-transition",e}},methods:{genSelections:function(){return this.editable?r.options.methods.genSelections.call(this):s.A.options.methods.genSelections.call(this)},genCommaSelection:function(e,t,a){return this.segmented?this.genSegmentedBtn(e):s.A.options.methods.genCommaSelection.call(this,e,t,a)},genInput:function(){var e=i.A.options.methods.genInput.call(this);return e.data.domProps.value=this.editable?this.internalSearch:"",e.data.attrs.readonly=!this.isAnyValueAllowed,e},genLabel:function(){if(this.editable&&this.isFocused)return null;var e=i.A.options.methods.genLabel.call(this);return e?(e.data.style={},e):e},genSegmentedBtn:function(e){var t=this,a=this.getValue(e),s=this.computedItems.find((function(e){return t.getValue(e)===a}))||e;return s.text&&s.callback?this.$createElement(n.A,{props:{flat:!0},on:{click:function(e){e.stopPropagation(),s.callback(e)}}},[s.text]):((0,l.OP)("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)}}}),c=u;var d=a(81737);const p=d.A;var m=a(83183),h=a(80625),g={functional:!0,$_wrapperFor:s.A,props:{autocomplete:Boolean,combobox:Boolean,multiple:Boolean,tags:Boolean,editable:Boolean,overflow:Boolean,segmented:Boolean},render:function(e,t){var a=t.props,o=t.data,i=t.slots,n=t.parent;(0,h.A)(o);var u=(0,m.A)(i(),e);return a.autocomplete&&(0,l.CI)("<v-select autocomplete>","<v-autocomplete>",g,n),a.combobox&&(0,l.CI)("<v-select combobox>","<v-combobox>",g,n),a.tags&&(0,l.CI)("<v-select tags>","<v-combobox multiple>",g,n),a.overflow&&(0,l.CI)("<v-select overflow>","<v-overflow-btn>",g,n),a.segmented&&(0,l.CI)("<v-select segmented>","<v-overflow-btn segmented>",g,n),a.editable&&(0,l.CI)("<v-select editable>","<v-overflow-btn editable>",g,n),o.attrs=o.attrs||{},a.combobox||a.tags?(o.attrs.multiple=a.tags,e(p,o,u)):a.autocomplete?(o.attrs.multiple=a.multiple,e(r,o,u)):a.overflow||a.segmented||a.editable?(o.attrs.segmented=a.segmented,o.attrs.editable=a.editable,e(c,o,u)):(o.attrs.multiple=a.multiple,e(s.A,o,u))}};const f=g}}]);