"use strict";(self["webpackChunksecretaria_de_salud_moreno_frontend"]=self["webpackChunksecretaria_de_salud_moreno_frontend"]||[]).push([[738],{178:function(e,a,t){t.d(a,{Z:function(){return k}});var r=t(7416),i=t(6194),o=t(6961),l=t(683),n=t(3667),c=t(9456),s=t(5084),u=t(4036),d=t(4618),p=t(5730),h=t(1415),m=function(){var e=this,a=e._self._c;return a(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{staticClass:"capitalizar",attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"person",label:"Apellido",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"terciary","validate-on-blur":""},model:{value:e.paciente.apellido,callback:function(a){e.$set(e.paciente,"apellido",a)},expression:"paciente.apellido"}})],1),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{staticClass:"capitalizar",attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"person",label:"Nombre",type:"text",rules:[...e.rules.requerido,...e.rules.soloTexto],color:"terciary","validate-on-blur":""},model:{value:e.paciente.nombre,callback:function(a){e.$set(e.paciente,"nombre",a)},expression:"paciente.nombre"}})],1),a(l.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(r.Z,{staticClass:"capitalizar",attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",items:e.documentos,label:"Tipo de Documento","prepend-icon":"fas fa-id-card",color:"terciary","validate-on-blur":"",rules:e.paciente.documento?[...e.rules.requerido]:[]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.tipo_doc=null))}},model:{value:e.paciente.tipo_doc,callback:function(a){e.$set(e.paciente,"tipo_doc",a)},expression:"paciente.tipo_doc"}})],1),a(l.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"far fa-id-card",label:"Documento",type:"number",maxlength:"10",counter:"",rules:e.paciente.tipo_doc?[...e.rules.requerido,...e.rules.soloNumero,e.rules.minNumber(0),e.rules.maxLength(10)]:[...e.rules.soloNumero,e.rules.minNumber(0),e.rules.maxLength(10)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.documento,callback:function(a){e.$set(e.paciente,"documento",a)},expression:"paciente.documento"}})],1),a(l.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(u.r,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",items:e.sexos,label:"Sexo","prepend-icon":"fas fa-venus-mars",color:"terciary",rules:[...e.rules.requerido]},model:{value:e.paciente.sexo,callback:function(a){e.$set(e.paciente,"sexo",a)},expression:"paciente.sexo"}})],1),a(l.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(s.Z,{ref:"menu",attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(d.h,e._g({attrs:{clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",label:"Fecha de Nacimiento","prepend-icon":"event",readonly:"",color:"terciary darken-3",rules:[...e.rules.requerido]},model:{value:e.paciente.fec_nac,callback:function(a){e.$set(e.paciente,"fec_nac",a)},expression:"paciente.fec_nac"}},t))]}}]),model:{value:e.menuFecha,callback:function(a){e.menuFecha=a},expression:"menuFecha"}},[a(o.Z,{ref:"picker",attrs:{readonly:e.soloLectura,color:"terciary darken-3","header-color":"terciary darken-1",locale:"mx",max:e.hoy,min:"1900-01-01"},on:{change:e.saveDate},model:{value:e.paciente.fec_nac,callback:function(a){e.$set(e.paciente,"fec_nac",a)},expression:"paciente.fec_nac"}})],1)],1),a(l.Z,{attrs:{xs12:"",sm3:"","px-3":""}}),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"phone",label:"Telefono",type:"text",onkeydown:"return event.key === 'Backspace' || event.key === 'Delete' || event.key === 'ArrowRight' || event.key === 'ArrowLeft' || /^[0-9\\s.,+=-]+$/.test(event.key)",maxlength:"15",counter:"",rules:[...e.rules.soloNumeroMas,e.rules.maxLength(15)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.telefono,callback:function(a){e.$set(e.paciente,"telefono",a)},expression:"paciente.telefono"}})],1),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"mail",label:"E-Mail",type:"text",rules:[...e.rules.mail],color:"terciary","validate-on-blur":""},model:{value:e.paciente.email,callback:function(a){e.$set(e.paciente,"email",a)},expression:"paciente.email"}})],1),a(c.Z,{attrs:{grey:"","lighten-3":"",row:"",wrap:""}},[a(l.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"place",label:"Direccion",type:"text",color:"terciary","validate-on-blur":""},model:{value:e.paciente.dir_calle,callback:function(a){e.$set(e.paciente,"dir_calle",a)},expression:"paciente.dir_calle"}})],1),a(l.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"#",label:"Nro",type:"number",rules:[...e.rules.soloNumero,e.rules.minNumber(0)],color:"terciary","validate-on-blur":""},model:{value:e.paciente.dir_numero,callback:function(a){e.$set(e.paciente,"dir_numero",a)},expression:"paciente.dir_numero"}})],1),a(l.Z,{attrs:{xs12:"",sm3:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"far fa-building",label:"Piso",type:"text",color:"terciary"},model:{value:e.paciente.dir_piso,callback:function(a){e.$set(e.paciente,"dir_piso",a)},expression:"paciente.dir_piso"}})],1),a(l.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"far fa-map",label:"Barrio",type:"text",color:"terciary"},model:{value:e.paciente.dir_barrio,callback:function(a){e.$set(e.paciente,"dir_barrio",a)},expression:"paciente.dir_barrio"}})],1),a(l.Z,{attrs:{xs12:"",sm4:"","px-3":""}},[a(r.Z,{staticClass:"capitalizar",attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",items:e.optionsJson.opcLocalidades,"item-value":"description","item-text":"description",label:"Localidad","prepend-icon":"fas fa-city",color:"terciary",rules:[...e.rules.requerido]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.dir_localidad=null))}},model:{value:e.paciente.dir_localidad,callback:function(a){e.$set(e.paciente,"dir_localidad",a)},expression:"paciente.dir_localidad"}})],1),a(l.Z,{attrs:{xs12:"",sm3:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"domain",label:"Depto",type:"text",color:"terciary"},model:{value:e.paciente.dir_depto,callback:function(a){e.$set(e.paciente,"dir_depto",a)},expression:"paciente.dir_depto"}})],1),a(l.Z,{attrs:{xs12:"","mx-3":""}},[a(p.Z,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","auto-grow":"",rows:"2",label:"Descripcion del Domicilio",color:"terciary","prepend-icon":"house"},model:{value:e.paciente.dir_descripcion,callback:function(a){e.$set(e.paciente,"dir_descripcion",a)},expression:"paciente.dir_descripcion"}})],1)],1),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"fas fa-id-card-alt",label:"Cobertura Social",type:"text",color:"terciary","validate-on-blur":""},model:{value:e.paciente.oSocial,callback:function(a){e.$set(e.paciente,"oSocial",a)},expression:"paciente.oSocial"}})],1),a(l.Z,{attrs:{xs12:"",sm6:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","prepend-icon":"fas fa-id-card-alt",label:"Numero de Afiliado",type:"Number",color:"terciary","validate-on-blur":""},model:{value:e.paciente.oSocialNumero,callback:function(a){e.$set(e.paciente,"oSocialNumero",a)},expression:"paciente.oSocialNumero"}})],1),a(l.Z,{attrs:{xs12:"",terciary:"","lighten-1":"","pa-1":""}},[a("h4",e._g({staticClass:"title white--text"},e.on),[e._v("Historiales Clinicos de Unidades Sanitarias")])]),e._l(e.paciente.hist_salitas,(function(t,o){return a(l.Z,{key:`hist_salitas-${o}`,attrs:{xs12:""}},[a(c.Z,{attrs:{"align-center":"","justify-center":"",row:"",wrap:""}},[a(l.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(r.Z,{staticClass:"capitalizar",attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5","item-value":"id","item-text":"area",items:e.unidadesAtencion,label:"Unidad Sanitaria","prepend-icon":"fa-house-medical-flag",color:"terciary",rules:e.paciente.hist_salitas[o].historial||0!=o?e.rules.requerido:[]},on:{"click:clear":function(a){e.$nextTick((()=>e.paciente.hist_salitas[o].area=null))}},model:{value:e.paciente.hist_salitas[o].area,callback:function(a){e.$set(e.paciente.hist_salitas[o],"area",a)},expression:"paciente.hist_salitas[index].area"}})],1),a(l.Z,{attrs:{xs12:"",sm5:"","px-3":""}},[a(d.h,{attrs:{readonly:e.soloLectura,clearable:!e.soloLectura,"background-color":e.soloLectura?"terciary":"terciary lighten-5",label:"Historial",onkeydown:"return event.key !== 'e' && event.key !== 'E' && event.key !== '.' && event.key !== ',' && event.key !== '+' && event.key !== '-'","prepend-icon":"fas fa-file-medical",type:"number",color:"terciary","validate-on-blur":"",maxlength:e.paciente.hist_salitas[o].area||e.paciente.hist_salitas[o].historial||0!=o?"9":"",counter:!(!e.paciente.hist_salitas[o].area&&!e.paciente.hist_salitas[o].historial)||0!=o,rules:e.paciente.hist_salitas[o].area||e.paciente.hist_salitas[o].historial||0!=o?[...e.rules.requerido,e.rules.maxLength(9)]:[]},model:{value:e.paciente.hist_salitas[o].historial,callback:function(a){e.$set(e.paciente.hist_salitas[o],"historial",a)},expression:"paciente.hist_salitas[index].historial"}})],1),0==o?a(h.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({attrs:{disabled:e.soloLectura,flat:"",icon:"",color:"blue lighten-2"},on:{click:function(a){return e.agregarFila(e.paciente.hist_salitas,{area:null,historial:""})}}},t),[a(n.Z,{attrs:{large:""}},[e._v("add_circle")])],1)]}}],null,!0)},[a("span",[e._v("Agregar Historial")])]):a(h.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:t}){return[a(i.Z,e._g({attrs:{disabled:e.soloLectura,small:"",flat:"",icon:"",color:"red lighten-2"},on:{click:function(a){return e.borrarFila(e.paciente.hist_salitas,o)}}},t),[a(n.Z,[e._v("delete_forever")])],1)]}}],null,!0)},[a("span",[e._v("Eliminar Historial"+e._s(""+(e.paciente.hist_salitas[o].historial?`: ${e.paciente.hist_salitas[o].historial}`:".")))])])],1)],1)}))],2)},y=[],f=t(629),b={name:"formPaciente",props:["paciente","editar"],data(){return{menuFecha:!1,unidadesAtencion:[],optionsJson:{opcLocalidades:[]}}},computed:{...(0,f.rn)(["hoy","rules"]),...(0,f.rn)("paciente",["sexos","documentos"]),...(0,f.rn)({soloLectura:e=>e.paciente.soloLecturaPaciente})},watch:{menuFecha(e){e&&setTimeout((()=>this.$refs.picker.activePicker="YEAR"))},editarChange(e){this.actualizarLecturaPaciente({editar:e})}},async mounted(){this.actualizarLecturaPaciente({editar:this.editar}),this.optionsJson.opcLocalidades=await this.returnOptionsJSON({key:"106",opcion:"opcLocalidades"}),this.unidadesAtencion.push(...await this.buscarAreaFiltros({filtro:{uas:!0},populate:"no",select:"area"}))},methods:{...(0,f.nv)(["returnOptionsJSON"]),...(0,f.nv)("main_areas",["buscarAreaFiltros"]),...(0,f.nv)("paciente",["actualizarLecturaPaciente"]),saveDate(e){this.$refs.menu.save(e)},agregarFila(e,a){e.push(a||"")},borrarFila(e,a){e.splice(a,1)}}},x=b,v=t(1001),_=(0,v.Z)(x,m,y,!1,null,null,null),k=_.exports},445:function(e,a,t){t.d(a,{Z:function(){return i}});var r=t(21),i={name:"v-form",mixins:[(0,r.J)("form")],inheritAttrs:!1,props:{value:Boolean,lazyValidation:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(){var e=Object.values(this.errorBag).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(e){var a=this,t=function(e){return e.$watch("hasError",(function(t){a.$set(a.errorBag,e._uid,t)}),{immediate:!0})},r={_uid:e._uid,valid:void 0,shouldValidate:void 0};return this.lazyValidation?r.shouldValidate=e.$watch("shouldValidate",(function(i){i&&(a.errorBag.hasOwnProperty(e._uid)||(r.valid=t(e)))})):r.valid=t(e),r},validate:function(){var e=this.inputs.filter((function(e){return!e.validate(!0)})).length;return!e},reset:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].reset();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},resetValidation:function(){for(var e=this,a=this.inputs.length;a--;)this.inputs[a].resetValidation();this.lazyValidation&&setTimeout((function(){e.errorBag={}}),0)},register:function(e){var a=this.watchInput(e);this.inputs.push(e),this.watchers.push(a)},unregister:function(e){var a=this.inputs.find((function(a){return a._uid===e._uid}));if(a){var t=this.watchers.find((function(e){return e._uid===a._uid}));t.valid&&t.valid(),t.shouldValidate&&t.shouldValidate(),this.watchers=this.watchers.filter((function(e){return e._uid!==a._uid})),this.inputs=this.inputs.filter((function(e){return e._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(e){var a=this;return e("form",{staticClass:"v-form",attrs:Object.assign({novalidate:!0},this.$attrs),on:{submit:function(e){return a.$emit("submit",e)}}},this.$slots.default)}}}}]);